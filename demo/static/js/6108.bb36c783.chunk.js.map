{"version":3,"file":"static/js/6108.bb36c783.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","../node_modules/@arcgis/core/views/layers/WMSLayerView.js","../node_modules/@arcgis/core/views/3d/layers/WMSLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const o={visible:\"visibleSublayers\"};let a=class extends r{constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.removeHandles(\"layer\"),e&&this.addHandles([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(o[e.propertyName])))],\"layer\"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.push(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t?\"TRUE\":\"FALSE\",version:o,layers:r}}};e([s()],a.prototype,\"layer\",null),e([s({readOnly:!0})],a.prototype,\"layers\",null),e([s({type:Number})],a.prototype,\"scale\",void 0),e([s({readOnly:!0})],a.prototype,\"version\",null),e([s({readOnly:!0})],a.prototype,\"visibleSublayers\",null),a=e([t(\"esri.layers.support.ExportWMSImageParameters\")],a);export{a as ExportWMSImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{throwIfAborted as o}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as i}from\"../../layers/support/ExportWMSImageParameters.js\";const m=m=>{let n=class extends m{initialize(){this.exportImageParameters=new i({layer:this.layer})}destroy(){this.exportImageParameters=t(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}async fetchPopupFeaturesAtLocation(e,t){const{layer:s}=this;if(!e)throw new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s;if(!a)throw new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:a});const p=this.createFetchPopupFeaturesQuery(e);if(!p)return[];const{extent:i,width:m,height:n,x:c,y:u}=p;if(!(i&&m&&n))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:i,width:m,height:n});const h=await s.fetchFeatureInfo(i,m,n,c,u);return o(t),h}};return e([s()],n.prototype,\"exportImageParameters\",void 0),e([s({readOnly:!0})],n.prototype,\"exportImageVersion\",null),e([s()],n.prototype,\"layer\",void 0),e([s(p)],n.prototype,\"timeExtent\",void 0),n=e([a(\"esri.layers.mixins.WMSLayerView\")],n),n};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../geometry/Extent.js\";import s from\"./DynamicLayerView3D.js\";import a from\"../../layers/WMSLayerView.js\";let o=class extends(a(s)){constructor(){super(...arguments),this.type=\"wms-3d\"}initialize(){this.layer.serviceSupportsSpatialReference(this.view.spatialReference)||this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\"))),this._updatingHandles.add((()=>this.exportImageParameters?.version),(()=>{this._updatingHandles.addPromise(this.refreshDebounced())}))}createFetchPopupFeaturesQuery(e){const t=this.findExtentInfoAt(e),r=t.extent,s=new i(r[0],r[1],r[2],r[3],this._spatialReference),a=t.imageSize,o=a.width,n=a.height,p=s.width/o;return{extent:s,width:o,height:n,x:Math.round((e.x-s.xmin)/p),y:Math.round((s.ymax-e.y)/p)}}getFetchOptions(){return{timeExtent:this.timeExtent}}};o=e([r(\"esri.views.3d.layers.WMSLayerView3D\")],o);const n=o;export{n as default};\n"],"names":["o","visible","a","r","constructor","e","super","this","scale","layer","_get","_set","removeHandles","addHandles","sublayers","on","notifyChange","propertyName","layers","visibleSublayers","filter","_ref","name","map","_ref2","join","version","commitProperty","s","t","minScale","maxScale","l","i","forEach","push","toJSON","imageFormat","imageTransparency","format","request","service","styles","transparent","prototype","readOnly","type","Number","m","n","initialize","exportImageParameters","destroy","exportImageVersion","_this$exportImagePara","fetchPopupFeaturesAtLocation","popupEnabled","p","createFetchPopupFeaturesQuery","extent","width","height","x","c","y","u","h","fetchFeatureInfo","arguments","serviceSupportsSpatialReference","view","spatialReference","addResolvingPromise","Promise","reject","_updatingHandles","add","addPromise","refreshDebounced","findExtentInfoAt","_spatialReference","imageSize","Math","round","xmin","ymax","getFetchOptions","timeExtent"],"sourceRoot":""}