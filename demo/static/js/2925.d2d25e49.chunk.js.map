{"version":3,"file":"static/js/2925.d2d25e49.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LineOfSightLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{whenOnce as o}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,r=e.signal;this.addHandles(t((()=>e.abort()))),await o((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),s(r);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return e([r()],c.prototype,\"view\",void 0),e([r()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import{createTask as i}from\"../../../core/asyncUtils.js\";import e from\"../../../core/Error.js\";import{destroyMaybe as a,abortMaybe as t}from\"../../../core/maybe.js\";import{isAborted as r}from\"../../../core/promiseUtils.js\";import{watch as n,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as w}from\"./LayerView3D.js\";import h from\"../../layers/LayerView.js\";const c=\"analysis-view-handles\";let p=class extends(w(h)){constructor(s){super(s),this.type=\"line-of-sight-3d\",this._analysisModule=null}initialize(){this.addHandles(n((()=>this.layer.analysis),(s=>{this._destroyAnalysisView(),null!=s&&this._createAnalysisView(s)}),l),c)}destroy(){this.removeHandles(c),this._destroyAnalysisView()}async whenAnalysisView(){if(null!=this.analysisView)return this.analysisView;if(null!=this._createAnalysisViewTask)return this._createAnalysisViewTask.promise;throw new e(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been set on the LineOfSightLayer of this layer view\")}isUpdating(){return null!=this._createAnalysisViewTask||null!=this.analysisView&&this.analysisView.updating}_createAnalysisView(s){const e=i((async i=>(this.analysisView=await this._createAnalysisViewPromise(s,i),this._createAnalysisViewTask===e&&(this._createAnalysisViewTask=null),this.analysisView)));this._createAnalysisViewTask=e}_destroyAnalysisView(){this.analysisView=a(this.analysisView),this._createAnalysisViewTask=t(this._createAnalysisViewTask)}async _createAnalysisViewPromise(s,i){let a=this._analysisModule;if(null==a){const s=await this._loadAnalysisModule();this._analysisModule=s,a=s}const t=new a.default({analysis:s,view:this.view,parent:this});if(await t.when(),r(i))throw t.destroy(),new e(\"layerview:no-analysisview-for-analysis\",\"The analysis has not been added to the LineOfSightLayer of this layer view\",{analysis:s});return t}_loadAnalysisModule(){return import(\"../analysis/LineOfSightAnalysisView3D.js\")}};s([o()],p.prototype,\"type\",void 0),s([o()],p.prototype,\"layer\",void 0),s([o()],p.prototype,\"analysisView\",void 0),s([o()],p.prototype,\"_createAnalysisViewTask\",void 0),p=s([y(\"esri.views.3d.layers.LineOfSightLayerView3D\")],p);const d=p;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as o}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";let d=class extends(s(n(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=o(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([l(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"names":["n","c","constructor","super","arguments","this","slicePlaneEnabled","supportsHeightUnitConversion","postscript","e","a","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","r","signal","addHandles","t","abort","o","_this$view$defaultsFr","view","defaultsFromMap","heightModelInfoReady","s","i","l","heightModelInfo","canResume","effectiveScaleRange","minScale","maxScale","getSuspendInfo","outsideScaleRange","prototype","p","w","h","type","_analysisModule","initialize","analysis","_destroyAnalysisView","_createAnalysisView","destroy","removeHandles","whenAnalysisView","analysisView","_createAnalysisViewTask","promise","isUpdating","updating","async","_createAnalysisViewPromise","_loadAnalysisModule","default","parent","when","y","d","EventedMixin","_updatingHandles","catch","name","_this$layer","id","title","getLogger","error","concat","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","suspended","suspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","updatingProgress","visible","_this$layer4","_overrideIfSome","_this$layer5","_this$parent2","_this$view","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","layerInvisible","readOnly","Boolean","u"],"sourceRoot":""}