"use strict";(self.webpackChunkwanlok_component_react=self.webpackChunkwanlok_component_react||[]).push([[2278,5617,3391],{11113:(t,e,n)=>{n.d(e,{Ee:()=>s,W4:()=>a,t_:()=>l,tr:()=>h,zJ:()=>r});var i=n(24648),o=n(96820);function r(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return(0,o.zJ)(t,(0,i.kM)(e,n).value,n,r,s)}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,o.Ee)(t,e.value,e.unit,n,i)}function a(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,o.W4)(t,e.value,e.unit,n,i)}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,o.tr)(t,e.value,e.unit,n,i)}function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,o.t_)(t,e.value,e.unit,n,i)}},24648:(t,e,n)=>{n.d(e,{Wq:()=>s,d_:()=>o,g2:()=>l,gT:()=>r,kM:()=>a,l3:()=>h});var i=n(31633);function o(t,e){return{type:(0,i.t$)(e),value:t,unit:e}}function r(t,e){return{type:(0,i.t$)(e),value:t,unit:e}}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arithmetic";return{type:(0,i.t$)(e),value:t,unit:e,rotationType:n}}function a(t,e){const n=h(t,e);return"angle"===t.type?s(n,e,t.rotationType):function(t,e){return{type:(0,i.t$)(e),value:t,unit:e}}(n,e)}function h(t,e){return(0,i.oU)(t.value,t.unit,e)}function l(t,e,n){if(e===n)return t;switch(n){case"arithmetic":case"geographic":return 90-t}}o(0,"meters"),r(0,"square-meters"),s(0,"radians"),s(0,"degrees"),s(0,"degrees","geographic")},96820:(t,e,n)=>{n.d(e,{Ee:()=>c,W4:()=>d,t_:()=>p,tr:()=>u,v7:()=>g,zJ:()=>l});var i=n(55877),o=(n(73582),n(15941)),r=(n(24648),n(88685)),s=n(31633),a=n(50265);function h(t,e,n){return t.units[e][n]}function l(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return"".concat((0,a.ZV)(e,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:e>0?"never":"exceptZero"})," ").concat(h(t,n,o))}function c(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const r=(0,s.x0)(e,n);return l(t,(0,s.oU)(e,n,r),r,i,o)}function d(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const r=(0,s.x$)(e,n);return l(t,(0,s.oU)(e,n,r),r,i,o)}function u(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const r=(0,s.OU)(e,n);return l(t,(0,s.oU)(e,n,r),r,i,o)}function p(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const r=(0,s.y7)(e,n);return l(t,(0,s.oU)(e,n,r),r,i,o)}new Map;const f=["B","kB","MB","GB","TB"];function g(t,e){let n=0===(e=Math.round(e))?0:Math.floor(Math.log(e)/Math.log(i.u.KILOBYTES));n=(0,o.qE)(n,0,f.length-1);const s=(0,a.ZV)(e/i.u.KILOBYTES**n,{maximumFractionDigits:2});return(0,r.HC)(t.units.bytes[f[n]],{fileSize:s})}},35617:(t,e,n)=>{n.r(e),n.d(e,{hydratedAdapter:()=>h});var i=n(76797),o=n(66388),r=n(13904),s=n(65215),a=n(23701);const h={convertToGEGeometry:function(t,e){if(null==e)return null;let n="cache"in e?e.cache._geVersion:void 0;return null==n&&(n=t.convertJSONToGeometry(e),"cache"in e&&(e.cache._geVersion=n)),n},exportPoint:function(t,e,n){const i=t.hasZ(e),o=t.hasM(e),s=new r.A({x:t.getPointX(e),y:t.getPointY(e),spatialReference:n});return i&&(s.z=t.getPointZ(e)),o&&(s.m=t.getPointM(e)),s.cache._geVersion=e,s},exportPolygon:function(t,e,n){const i=new s.A({rings:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:n});return i.cache._geVersion=e,i},exportPolyline:function(t,e,n){const i=new a.A({paths:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:n});return i.cache._geVersion=e,i},exportMultipoint:function(t,e,n){const i=new o.A({hasZ:t.hasZ(e),hasM:t.hasM(e),points:t.exportPoints(e),spatialReference:n});return i.cache._geVersion=e,i},exportExtent:function(t,e,n){const o=t.hasZ(e),r=t.hasM(e),s=new i.A({xmin:t.getXMin(e),ymin:t.getYMin(e),xmax:t.getXMax(e),ymax:t.getYMax(e),spatialReference:n});if(o){const n=t.getZExtent(e);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=t.getMExtent(e);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=e,s}}},63391:(t,e,n)=>{n.r(e),n.d(e,{buffer:()=>R,changeDefaultSpatialReferenceTolerance:()=>F,clearDefaultSpatialReferenceTolerance:()=>N,clip:()=>a,contains:()=>l,convexHull:()=>b,crosses:()=>c,cut:()=>h,densify:()=>L,difference:()=>M,disjoint:()=>_,distance:()=>d,equals:()=>u,extendedSpatialReferenceInfo:()=>s,flipHorizontal:()=>Z,flipVertical:()=>D,generalize:()=>B,geodesicArea:()=>Y,geodesicBuffer:()=>G,geodesicDensify:()=>j,geodesicLength:()=>V,intersect:()=>S,intersectLinesToPoints:()=>E,intersects:()=>p,isSimple:()=>m,nearestCoordinate:()=>P,nearestVertex:()=>T,nearestVertices:()=>I,offset:()=>C,overlaps:()=>v,planarArea:()=>O,planarLength:()=>X,relate:()=>x,rotate:()=>z,simplify:()=>y,symmetricDifference:()=>w,touches:()=>f,union:()=>A,within:()=>g});var i=n(52612),o=n(35617);function r(t){return Array.isArray(t)?t[0].spatialReference:t&&t.spatialReference}function s(t){return i.G.extendedSpatialReferenceInfo(t)}function a(t,e){return i.G.clip(o.hydratedAdapter,r(t),t,e)}function h(t,e){return i.G.cut(o.hydratedAdapter,r(t),t,e)}function l(t,e){return i.G.contains(o.hydratedAdapter,r(t),t,e)}function c(t,e){return i.G.crosses(o.hydratedAdapter,r(t),t,e)}function d(t,e,n){return i.G.distance(o.hydratedAdapter,r(t),t,e,n)}function u(t,e){return i.G.equals(o.hydratedAdapter,r(t),t,e)}function p(t,e){return i.G.intersects(o.hydratedAdapter,r(t),t,e)}function f(t,e){return i.G.touches(o.hydratedAdapter,r(t),t,e)}function g(t,e){return i.G.within(o.hydratedAdapter,r(t),t,e)}function _(t,e){return i.G.disjoint(o.hydratedAdapter,r(t),t,e)}function v(t,e){return i.G.overlaps(o.hydratedAdapter,r(t),t,e)}function x(t,e,n){return i.G.relate(o.hydratedAdapter,r(t),t,e,n)}function m(t){return i.G.isSimple(o.hydratedAdapter,r(t),t)}function y(t){return i.G.simplify(o.hydratedAdapter,r(t),t)}function b(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.G.convexHull(o.hydratedAdapter,r(t),t,e)}function M(t,e){return i.G.difference(o.hydratedAdapter,r(t),t,e)}function w(t,e){return i.G.symmetricDifference(o.hydratedAdapter,r(t),t,e)}function S(t,e){return i.G.intersect(o.hydratedAdapter,r(t),t,e)}function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.G.union(o.hydratedAdapter,r(t),t,e)}function C(t,e,n,s,a,h){return i.G.offset(o.hydratedAdapter,r(t),t,e,n,s,a,h)}function R(t,e,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.G.buffer(o.hydratedAdapter,r(t),t,e,n,s)}function G(t,e,n,s,a,h){return i.G.geodesicBuffer(o.hydratedAdapter,r(t),t,e,n,s,a,h)}function P(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i.G.nearestCoordinate(o.hydratedAdapter,r(t),t,e,n)}function T(t,e){return i.G.nearestVertex(o.hydratedAdapter,r(t),t,e)}function I(t,e,n,s){return i.G.nearestVertices(o.hydratedAdapter,r(t),t,e,n,s)}function k(t){var e,n;return"xmin"in t?"center"in t?t.center:null:"x"in t?t:"extent"in t&&null!==(e=null===(n=t.extent)||void 0===n?void 0:n.center)&&void 0!==e?e:null}function z(t,e,n){var o;if(null==t)throw new Q;const r=t.spatialReference;if(null==(n=null!==(o=n)&&void 0!==o?o:k(t)))throw new Q;const s=t.constructor.fromJSON(i.G.rotate(t,e,n));return s.spatialReference=r,s}function Z(t,e){var n;if(null==t)throw new Q;const o=t.spatialReference;if(null==(e=null!==(n=e)&&void 0!==n?n:k(t)))throw new Q;const r=t.constructor.fromJSON(i.G.flipHorizontal(t,e));return r.spatialReference=o,r}function D(t,e){var n;if(null==t)throw new Q;const o=t.spatialReference;if(null==(e=null!==(n=e)&&void 0!==n?n:k(t)))throw new Q;const r=t.constructor.fromJSON(i.G.flipVertical(t,e));return r.spatialReference=o,r}function B(t,e,n,s){return i.G.generalize(o.hydratedAdapter,r(t),t,e,n,s)}function L(t,e,n){return i.G.densify(o.hydratedAdapter,r(t),t,e,n)}function j(t,e,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return i.G.geodesicDensify(o.hydratedAdapter,r(t),t,e,n,s)}function O(t,e){return i.G.planarArea(o.hydratedAdapter,r(t),t,e)}function X(t,e){return i.G.planarLength(o.hydratedAdapter,r(t),t,e)}function Y(t,e,n){return i.G.geodesicArea(o.hydratedAdapter,r(t),t,e,n)}function V(t,e,n){return i.G.geodesicLength(o.hydratedAdapter,r(t),t,e,n)}function E(t,e){return i.G.intersectLinesToPoints(o.hydratedAdapter,r(t),t,e)}function F(t,e){i.G.changeDefaultSpatialReferenceTolerance(t,e)}function N(t){i.G.clearDefaultSpatialReferenceTolerance(t)}class Q extends Error{constructor(){super("Illegal Argument Exception")}}},7137:(t,e,n)=>{n.d(e,{TT:()=>c,Xn:()=>g,Zj:()=>u,_3:()=>f,l1:()=>d,vN:()=>p});n(35238);var i=n(50076),o=n(31633),r=n(63885),s=n(80963),a=(n(23701),n(65215),n(13904),n(13312));function h(t){if(!t)return null;if((0,s.EA)(t)&&t.wkid){const e=r.uw[t.wkid];if(e)return e}const e=t.wkt2||t.wkt;if(e){const t=function(t){const e=r._f.exec(t);if(!e||2!==e.length)return null;const n=e[1].split(",");if(!n||n.length<3)return null;const i=parseFloat(n[1]),o=parseFloat(n[2]);return isNaN(i)||isNaN(o)?null:{a:i,f:0===o?0:1/o}}(e);if(t)return t}return null}function l(t){const e=h(t);if(function(t){return null!=t&&"b"in t&&"eSq"in t&&"radius"in t}(e))return e;const n=e.a*(1-e.f);return Object.assign(e,{b:n,eSq:1-(n/e.a)**2,radius:(2*e.a+n)/3,densificationRatio:1e4/((2*e.a+n)/3)})}function c(t){return null!==h(t)}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!t)throw new i.A("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(t.some((t=>!c(t.spatialReference))))throw new i.A("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<t.length;i++){const r=t[i],{spatialReference:s}=r,a="polyline"===r.type?r.paths:r.rings;let h=0;for(let t=0;t<a.length;t++){const e=a[t];let n=0;for(let t=1;t<e.length;t++){const i=e[t-1][0],o=e[t][0],r=e[t-1][1],a=e[t][1];if(r!==a||i!==o){const t=new u;f(t,[i,r],[o,a],s),n+=t.distance}}h+=n}h=(0,o.oU)(h,"meters",e),n.push(h)}return n}class u{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.distance=t,this.azimuth=e,this.reverseAzimuth=n}}function p(t,e,n,i,o){const s=e[0],a=e[1],h=s*r.eh,c=a*r.eh,d=(null!==n&&void 0!==n?n:0)*r.eh,{a:u,b:p,f:f}=l(o),g=Math.sin(d),_=Math.cos(d),v=(1-f)*Math.tan(c),x=1/Math.sqrt(1+v*v),m=v*x,y=Math.atan2(v,_),b=x*g,M=b*b,w=1-M,S=w*(u*u-p*p)/(p*p),A=1+S/16384*(4096+S*(S*(320-175*S)-768)),C=S/1024*(256+S*(S*(74-47*S)-128));let R,G,P,T,I=i/(p*A),k=2*Math.PI;for(;Math.abs(I-k)>1e-12;)P=Math.cos(2*y+I),R=Math.sin(I),G=Math.cos(I),T=C*R*(P+C/4*(G*(2*P*P-1)-C/6*P*(4*R*R-3)*(4*P*P-3))),k=I,I=i/(p*A)+T;const z=m*R-x*G*_,Z=Math.atan2(m*G+x*R*_,(1-f)*Math.sqrt(M+z*z)),D=Math.atan2(R*g,x*G-m*R*_),B=f/16*w*(4+f*(4-3*w)),L=Z/r.eh,j=(h+(D-(1-B)*f*b*(I+B*R*(P+B*G*(2*P*P-1)))))/r.eh;return t[0]=j,t[1]=L,t}function f(t,e,n,i){const o=e[0]*r.eh,s=e[1]*r.eh,a=n[0]*r.eh,h=n[1]*r.eh,{a:c,b:d,f:u,radius:p}=l(i),f=a-o,g=Math.atan((1-u)*Math.tan(s)),_=Math.atan((1-u)*Math.tan(h)),v=Math.sin(g),x=Math.cos(g),m=Math.sin(_),y=Math.cos(_);let b,M,w,S,A,C,R,G,P,T,I=1e3,k=f;do{if(R=Math.sin(k),G=Math.cos(k),w=Math.sqrt(y*R*(y*R)+(x*m-v*y*G)*(x*m-v*y*G)),0===w)return t.distance=0,t.azimuth=void 0,t.reverseAzimuth=void 0,t;A=v*m+x*y*G,C=Math.atan2(w,A),P=x*y*R/w,M=1-P*P,S=A-2*v*m/M,isNaN(S)&&(S=0),T=u/16*M*(4+u*(4-3*M)),b=k,k=f+(1-T)*u*P*(C+T*w*(S+T*A*(2*S*S-1)))}while(Math.abs(k-b)>1e-12&&--I>0);if(0===I){const e=p,n=Math.acos(Math.sin(s)*Math.sin(h)+Math.cos(s)*Math.cos(h)*Math.cos(a-o))*e,i=a-o,l=Math.sin(i)*Math.cos(h),c=Math.cos(s)*Math.sin(h)-Math.sin(s)*Math.cos(h)*Math.cos(i),d=Math.atan2(l,c);return t.azimuth=d/r.eh,t.distance=n,t.reverseAzimuth=void 0,t}const z=M*(c*c-d*d)/(d*d),Z=z/1024*(256+z*(z*(74-47*z)-128)),D=d*(1+z/16384*(4096+z*(z*(320-175*z)-768)))*(C-Z*w*(S+Z/4*(A*(2*S*S-1)-Z/6*S*(4*w*w-3)*(4*S*S-3)))),B=Math.atan2(y*Math.sin(k),x*m-v*y*Math.cos(k)),L=Math.atan2(x*Math.sin(k),x*m*Math.cos(k)-v*y);return t.azimuth=B/r.eh,t.distance=D,t.reverseAzimuth=L/r.eh,t}function g(t){return c(t)?t:(0,s.K8)(t)?a.A.WGS84:null}},19747:(t,e,n)=>{n.d(e,{c:()=>r});var i=n(31633),o=n(65308);function r(t){var e,n,r,s,a;const h="metric";if(null==t)return h;const l=t.map,c=null!==(e=l&&"portalItem"in l?null===(n=l.portalItem)||void 0===n?void 0:n.portal:null)&&void 0!==e?e:o.A.getDefault();switch(null!==(r=null===(s=c.user)||void 0===s?void 0:s.units)&&void 0!==r?r:c.units){case h:return h;case"english":return"imperial"}return null!==(a=(0,i.jM)(t.spatialReference))&&void 0!==a?a:h}},11020:(t,e,n)=>{n.d(e,{N:()=>R,R:()=>P});var i=n(69539),o=n(88321),r=n(68134),s=n(76931),a=n(19555),h=n(20664),l=n(9392),c=n(69230),d=n(17072),u=n(35143),p=n(91967),f=n(46053),g=(n(81806),n(76460),n(47249),n(85842));n(27347);let _=t=>({vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}),v=(t,e,n)=>{for(let i=0,o=e.length;i<o;i++){let o=e[i];Array.isArray(o)?v(t,o,n):null!=o&&!1!==o&&("string"==typeof o&&(o=_(o)),n.push(o))}};function x(t,e,n){if(Array.isArray(e))n=e,e=void 0;else if(e&&("string"==typeof e||e.hasOwnProperty("vnodeSelector"))||n&&("string"==typeof n||n.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let i,o;return n&&1===n.length&&"string"==typeof n[0]?i=n[0]:n&&(o=[],v(t,n,o),0===o.length&&(o=void 0)),{vnodeSelector:t,properties:e,children:o,text:""===i?void 0:i,domNode:null}}n(48396);let m=class extends p.A{get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set("startX",t[0]),this._set("startY",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set("endX",t[0]),this._set("endY",t[1])}constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const t=this.color;return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(t[3],")")}get _lineCap(){return"round"}render(){const{height:t,left:e,top:n,width:i,x1:o,x2:r,y1:s,y2:a}=this._calculateCoordinates(y),h="stroke: ".concat(this._strokeStyle,"; stroke-width: ").concat(this.width,"; stroke-linecap: ").concat(this._lineCap,";");return x("div",{classes:{"esri-line-overlay-item":!0},styles:{left:e+"px",top:n+"px",width:i+"px",height:t+"px",visibility:this.visible?"visible":"hidden"}},[x("svg",{width:i,height:t},[x("line",{x1:o,y1:s,x2:r,y2:a,style:h})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this._strokeStyle,t.lineWidth=this.width,t.lineCap=this._lineCap;const e=this._calculateCoordinates(y);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}_calculateCoordinates(t){const e=Math.min(this.startX,this.endX),n=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=n-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};(0,u._)([(0,f.MZ)()],m.prototype,"startX",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"startY",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"endX",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"endY",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"startPosition",null),(0,u._)([(0,f.MZ)()],m.prototype,"endPosition",null),(0,u._)([(0,f.MZ)()],m.prototype,"width",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"color",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"visible",void 0),(0,u._)([(0,f.MZ)()],m.prototype,"isDecoration",void 0),(0,u._)([(0,f.MZ)({readOnly:!0})],m.prototype,"_strokeStyle",null),m=(0,u._)([(0,g.$)("esri.views.overlay.LineOverlayItem")],m);const y={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},b=m,M={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let w=class extends p.A{get position(){return[this.x,this.y]}set position(t){this._set("x",t[0]),this._set("y",t[1])}get _textShadowColor(){const{textColor:t,backgroundColor:e}=this,n=e.clone();return n.a*=t.a,n}get _textShadow(){const t=this._textShadowColor.toCss(!0);return"0 0 ".concat(this._textShadowSize,"px ").concat(t)}get padding(){return.5*this.fontSize}get _borderRadius(){return this.padding}constructor(t){super(t),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new i.A([0,0,0,.6]),this.textColor=new i.A([255,255,255]),this._textShadowSize=1}render(){return x("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+"px",borderRadius:this._borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,"");t.font="".concat(this.fontSize,"px ").concat(e);const n=this.padding,i=this._borderRadius,o=t.measureText(this.text).width,r=this.fontSize,s=S[this.anchor];t.textAlign="center",t.textBaseline="middle";const a=o+2*n,h=r+2*n,l=this.x+s.x*a,c=this.y+s.y*h;this._roundedRect(t,l,c,a,h,i),t.fillStyle=this.backgroundColor.toCss(!0),t.fill();const d=this.x+(s.x+.5)*a,u=this.y+(s.y+.5)*h;this._renderTextShadow(t,this.text,d,u),t.fillStyle=this.textColor.toCss(!0),t.fillText(this.text,d,u)}_renderTextShadow(t,e,n,i){t.lineJoin="miter",t.fillStyle="rgba(".concat(this._textShadowColor.r,", ").concat(this._textShadowColor.g,", ").concat(this._textShadowColor.b,", ").concat(1/A.length,")");const o=this._textShadowSize;for(const[r,s]of A)t.fillText(e,n+o*r,i+o*s)}_roundedRect(t,e,n,i,o,r){t.beginPath(),t.moveTo(e,n+r),t.arcTo(e,n,e+r,n,r),t.lineTo(e+i-r,n),t.arcTo(e+i,n,e+i,n+r,r),t.lineTo(e+i,n+o-r),t.arcTo(e+i,n+o,e+i-r,n+o,r),t.lineTo(e+r,n+o),t.arcTo(e,n+o,e,n+o-r,r),t.closePath()}_cssClasses(){const t={"esri-text-overlay-item":!0};let e;for(e in M)t[M[e]]=this.anchor===e;return t}};(0,u._)([(0,f.MZ)()],w.prototype,"x",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"y",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"position",null),(0,u._)([(0,f.MZ)()],w.prototype,"text",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"fontSize",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"anchor",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"visible",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"isDecoration",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"backgroundColor",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"textColor",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"_textShadowSize",void 0),(0,u._)([(0,f.MZ)()],w.prototype,"_textShadowColor",null),(0,u._)([(0,f.MZ)()],w.prototype,"_textShadow",null),(0,u._)([(0,f.MZ)()],w.prototype,"padding",null),(0,u._)([(0,f.MZ)()],w.prototype,"_borderRadius",null),w=(0,u._)([(0,g.$)("esri.views.overlay.TextOverlayItem")],w);const S={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},A=[];{const t=16;for(let e=0;e<360;e+=360/t)A.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}const C=w;class R extends c.B{constructor(t){super(t),this._handles=new o.A,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text="-",this._fontSize=14,this._backgroundColor=new i.A([0,0,0,.6]),this._calloutColor=new i.A([0,0,0,.5]),this._textColor=new i.A([255,255,255]),this._distance=25,this._anchor="right",this.updatePositionOnCameraMove=!0,this.applyProperties(t)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this.updateLabelPosition()}get isDecoration(){return this._isDecoration}set isDecoration(t){this._isDecoration=t,this._textItem&&(this._textItem.isDecoration=t),this._calloutItem&&(this._calloutItem.isDecoration=t)}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t,this.attached&&(this._textItem.backgroundColor=this._backgroundColor)}get calloutColor(){return this._calloutColor}set calloutColor(t){this._calloutColor=t,this.attached&&(this._calloutItem.color=this._calloutColor.toRgba())}get textColor(){return this._textColor}set textColor(t){this._textColor=t,this.attached&&(this._textItem.textColor=this._textColor)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this.updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this.updateLabelPosition())}get _camera(){return this.view.state.cssCamera}overlaps(t){var e;return!!this.attached&&this.textItem.visible&&t.textItem.visible&&!(null===(e=this.view.overlay)||void 0===e||!e.overlaps(this._textItem,t.textItem))}updateLabelPosition(){if(!this.attached)return;this._showText=!1,this._showCallout=!1;const{geometry:t,view:e,visible:n}=this;if(null!=t&&e._stage)switch(t.type){case"point":if(!this._computeLabelPositionFromPoint(t.point,O))break;if(t.callout){const e=this._camera,n=t.callout.distance;(0,a.WQ)(j,j,[0,t.callout.offset]),e.renderToScreen(j,O),(0,a.hZ)(D,0,1),(0,a.hs)(D,D,n),(0,a.WQ)(D,D,j),e.renderToScreen(D,X),this._showCallout=this._updatePosition(O,X)}else this._textItem.position=[O[0],O[1]],this._textItem.anchor="center";this._showText=!0;break;case"corner":if(!this._computeLabelPositionFromCorner(t,this._distance,O,X))break;this._showCallout=this._updatePosition(O,X),this._showText=!0;break;case"segment":{if(!this._computeLabelPositionFromSegment(t,this._distance,this._anchor,O,X))break;this._showText=!0;const e=this._updatePosition(O,X);this._showCallout=!1!==t.callout&&e,this._showCallout||(this._textItem.anchor="center")}}this.updateVisibility(n)}_computeLabelPositionFromPoint(t,e){const n=this._camera;return n.projectToRenderScreen(t,L),!(L[2]<0||L[2]>1)&&(n.renderToScreen(L,e),!0)}_computeLabelPositionFromCorner(t,e,n,i){if(!t)return!1;const o=this._camera;return G(t.left,1,o,z),(0,a.ze)(z,z),G(t.right,0,o,Z),(0,a.WQ)(D,z,Z),(0,a.ze)(D,D),(0,a.S8)(D,D),o.projectToRenderScreen(t.left.endRenderSpace,L),!(L[2]<0||L[2]>1)&&(o.renderToScreen(L,n),(0,a.hs)(D,D,e),(0,a.WQ)(D,D,L),o.renderToScreen(D,i),!0)}_computeLabelPositionFromSegment(t,e,n,i,o){if(!t)return!1;const r=t.segment,s=this._camera;(0,d.QO)(r.startRenderSpace,r.endRenderSpace,s,z),(0,a.hZ)(D,-z[1],z[0]);let h=!1;switch(n){case"top":h=D[1]<0;break;case"bottom":h=D[1]>0;break;case"left":h=D[0]>0;break;case"right":h=D[0]<0}if(h&&(0,a.ze)(D,D),0===(0,a.Bw)(D))switch(n){case"top":D[1]=1;break;case"bottom":D[1]=-1;break;case"left":D[0]=-1;break;case"right":D[0]=1}return r.eval(Y[t.sampleLocation],B),s.projectToRenderScreen(B,L),!(L[2]<0||L[2]>1)&&(s.renderToScreen(L,i),(0,a.hs)(D,D,e),(0,a.WQ)(D,D,L),s.renderToScreen(D,o),!0)}_updatePosition(t,e){if(e){const n=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(n)>Math.abs(i)?n>0?"left":"right":i>0?"top":"bottom",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor="center",!1}createResources(){var t;this._textItem=new C({visible:!0,text:this._text,fontSize:this._fontSize,backgroundColor:this._backgroundColor,textColor:this._textColor,isDecoration:this._isDecoration}),this._calloutItem=new b({color:this._calloutColor.toRgba(),visible:!0,width:2,isDecoration:this._isDecoration}),this.updateLabelPosition(),null!==(t=this.view.overlay)&&void 0!==t&&t.items.addMany([this._textItem,this._calloutItem]),this.updatePositionOnCameraMove&&this._handles.add((0,r.wB)((()=>this.view.state.camera),(()=>this.updateLabelPosition())))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function G(t,e,n,i){return t.eval(e,T,k),(0,h.g)(I,T,k),(0,d.QO)(T,I,n,i)}function P(t){switch(t){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}const T=(0,l.vt)(),I=(0,l.vt)(),k=(0,l.vt)(),z=(0,s.QG)(),Z=(0,s.QG)(),D=(0,s.QG)(),B=(0,l.vt)(),L=(0,s.r_)(),j=(0,s.QG)(),O=(0,s.gs)(),X=(0,s.gs)(),Y={start:0,center:.5,end:1}},25191:(t,e,n)=>{n.d(e,{C:()=>c,J:()=>d});var i=n(20664),o=n(9392),r=n(9624),s=n(98510),a=n(14487),h=n(75762),l=n(94966);class c{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.vt)(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.vt)();this.startRenderSpace=t,this.endRenderSpace=e,this.type="euclidean"}eval(t,e,n){return(0,i.m)(e,this.startRenderSpace,this.endRenderSpace,t),n&&((0,i.f)(n,this.endRenderSpace,this.startRenderSpace),(0,i.n)(n,n)),e}createRenderGeometry(t,e){const n=[],o=[],r=(e,r)=>{const s=p;(0,i.f)(s,e,t),n.push([s[0],s[1],s[2]]),o.push([r[0],r[1],r[2]])},s=e.worldUpAtPosition(this.eval(.5,u),h.rq.get());return r(this.startRenderSpace,s),r(this.endRenderSpace,s),{points:n,normals:o}}static fromPositionAndVector(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.h)(u,e,n),(0,i.g)(u,t,u),new c((0,o.o8)(t),(0,o.o8)(u))}}class d{_projectIn(t,e){this._project?(0,a.F)(t,this.renderSpatialReference,e,this._pcpf):(0,i.c)(e,t)}constructor(t,e,n){this.startRenderSpace=t,this.endRenderSpace=e,this.renderSpatialReference=n,this.type="geodesic",this._start=(0,o.vt)(),this._end=(0,o.vt)(),this._pcpf=(0,s.lO)(n),this._project=(0,r.canProjectWithoutEngine)(n,this._pcpf),this._projectIn(t,this._start),this._projectIn(e,this._end)}eval(t,e,n){if(this._project)if(n){const o=p;(0,l.is)(this._start,this._end,t,e,o),(0,i.g)(f,e,o),(0,a.F)(e,this._pcpf,e,this.renderSpatialReference),(0,a.F)(f,this._pcpf,f,this.renderSpatialReference),(0,i.f)(n,f,e),(0,i.n)(n,n)}else(0,l.nu)(this._start,this._end,t,e),(0,a.F)(e,this._pcpf,e,this.renderSpatialReference);else(0,i.m)(e,this._start,this._end,t),n&&((0,i.f)(n,this._end,this._start),(0,i.n)(n,n));return e}createRenderGeometry(t,e){const n=[],o=[],r=(e,r)=>{const s=f;(0,i.f)(s,e,t),n.push([s[0],s[1],s[2]]),o.push([r[0],r[1],r[2]])};for(let i=0;i<128;++i){const t=i/127,n=u,o=p;this.eval(t,n),e.worldUpAtPosition(n,o),r(n,o)}return{points:n,normals:o}}}const u=(0,o.vt)(),p=(0,o.vt)(),f=(0,o.vt)()},17072:(t,e,n)=>{n.d(e,{QO:()=>l,XG:()=>c,jq:()=>d});var i=n(76931),o=n(19555),r=n(20664),s=n(9392),a=n(18117),h=n(12482);function l(t,e,n,i){n.projectToRenderScreen(t,f),n.projectToRenderScreen(e,g),(0,o.Re)(i,g,f),(0,o.S8)(i,i)}function c(t,e,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,s.vt)();const a=(0,r.c)(p,t);return a[2]=(0,h.xS)(i,a,e,n)||0,i.renderCoordsHelper.toRenderCoords(a,e,o),o}function d(t,e,n,o){return"2d"===o.type?(u.x=t[0],u.y=t[1],u.spatialReference=e,o.toScreen(u)):(c(t,e,n,o,p),o.state.camera.projectToScreen(p,_),(0,i.tc)(_[0],_[1]))}const u=(0,a.T)(0,0,0,null),p=(0,s.vt)(),f=(0,i.QG)(),g=(0,i.QG)(),_=(0,i.gs)()}}]);
//# sourceMappingURL=2278.4e26a873.chunk.js.map