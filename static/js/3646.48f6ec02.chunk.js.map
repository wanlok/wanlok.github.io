{"version":3,"file":"static/js/3646.48f6ec02.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,a){super(e.usedMemory,e.displayedFeatures,e.totalFeatures,e.maximumFeatures,e.nodes,e.core),this.storedFeatures=t,this.totalVertices=s,this.partial=r,this.mode=o,this.symbolComplexity=a}}export{t as FeatureLayerViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../Graphic.js\";import{nativeArrayMaxSize as r}from\"../../../core/typedArrayUtil.js\";import{WorkerHandle as s}from\"../../../core/workers/WorkerHandle.js\";import t from\"../../../geometry/SpatialReference.js\";import o from\"../../../layers/support/Field.js\";class n{constructor(e){this._controller=e,this._handle=new c((r=>e.schedule(r)))}destroy(){this._handle.destroy()}invoke(r,s){return r.buffer&&0!==r.buffer.byteLength?(r.options.sourceSpatialReference&&r.options.sourceSpatialReference instanceof t&&(r.options={...r.options,sourceSpatialReference:r.options.sourceSpatialReference.toJSON()}),this._handle.invoke(r,s).then((r=>{let s=0,n=0;const c=t.fromJSON(r.spatialReference);r.spatialReference=c;const i=async t=>{const l=r.fields;if(l)for(;s<l.length;)if(l[s]=o.fromJSON(l[s]),s++,t.madeProgress())return this._controller.reschedule((e=>i(e)));const p=r.features;for(;n<p.length;){const r=p[n];++n,r.uid=e.generateUID();const s=r.geometry;if(null!=s&&(s.spatialReference=c,a(s),t.madeProgress()))return this._controller.reschedule((e=>i(e)))}return r};return this._controller.schedule((e=>i(e)))}))):Promise.resolve(null)}}function a(e){switch(e.type){case\"polyline\":e.paths.reduce(((e,r)=>e+r.length),0)<r&&(e.paths=e.hasZ||e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.paths.map((e=>e.map((e=>[e[0],e[1]])))));break;case\"polygon\":e.rings.reduce(((e,r)=>e+r.length),0)<r&&(e.rings=e.hasZ||e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.rings.map((e=>e.map((e=>[e[0],e[1]])))))}}class c extends s{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{n as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as s,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{difference as u}from\"../../../../core/SetUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as n,executeQuery as y}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as c}from\"../../support/PBFDecoder.js\";let p=class extends r{constructor(e){super(e)}get implicitFields(){const e=this.layer.outFields?.includes(\"*\");if(!e)return new Set;const r=new Set(this.layerView.requiredFields),t=new Set(this.layerView.availableFields);return u(t,r)}get queryFeaturesDehydrated(){const{layer:e}=this,r=e.capabilities,t=r&&r.query,u=t&&t.supportsFormatPBF,i=e.parsedUrl;if(u){null==this._decoder&&(this._decoder=new c(this.controller));const r={sourceSpatialReference:e.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f};return(e,t)=>n(i,e,\"pbf\",this._createRequestOptions(t)).then((e=>(s(t),null!=this._decoder?this._decoder.invoke({buffer:e.data,options:r},t.signal):Promise.reject(o()))))}return(r,t)=>y(i,r,e.spatialReference,this._createRequestOptions(t)).then((e=>l(e.data,{maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f})))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=t(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([i({constructOnly:!0})],p.prototype,\"layer\",void 0),e([i({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([i({constructOnly:!0})],p.prototype,\"controller\",void 0),e([i({readOnly:!0})],p.prototype,\"implicitFields\",null),e([i({readOnly:!0})],p.prototype,\"queryFeaturesDehydrated\",null),p=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],p);let d=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};e([i({constructOnly:!0})],d.prototype,\"layer\",void 0),e([i({readOnly:!0})],d.prototype,\"queryFeaturesDehydrated\",null),d=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D\")],d);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([i({constructOnly:!0})],m.prototype,\"layer\",void 0),m=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],m);let h=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(l,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function F(e,r){const{layer:t}=e;return\"feature\"===t.type&&\"feature-layer\"===t.source.type?null!=t.infoFor3D?new d({layer:t}):new p({layer:t,layerView:e,controller:r}):\"feature\"===t.type&&\"memory\"===t.source.type||\"csv\"===t.type||\"geojson\"===t.type||\"oriented-imagery\"===t.type||\"wfs\"===t.type?new h({layer:t,source:t.source}):\"ogc-feature\"===t.type?new m({layer:t}):null}e([i({constructOnly:!0})],h.prototype,\"layer\",void 0),e([i({constructOnly:!0})],h.prototype,\"source\",void 0),h=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],h);const f=1024;export{F as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{contextCapabilitiesFromLayer as r}from\"./FeatureTileFetcher3D.js\";import{createFeatureTileQuery3D as t}from\"./featureTileQuery3D.js\";class i{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const i=this._layerView.view.resourceController;this.query=t(this._layerView,i.normal),i&&this._memoryCacheEnabled&&(this._memoryCache=i.memoryController.newCache(`fl-${r.uid}`))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this._layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return null!=this._capabilities||(this._capabilities=r(this._layerView.layer)),this._capabilities}logFetchError(e,r){e.error(\"#fetchTile()\",this._layerView.layer,r?.message??r)}}export{i as FeatureTileFetcher3DLayerViewContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as o,syncAndInitial as s,on as n}from\"../../core/reactiveUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as u}from\"../../layers/support/commonProperties.js\";import p from\"../../layers/support/FeatureEffect.js\";import d from\"../../layers/support/FeatureFilter.js\";import{fixFields as f,unpackFieldNames as m,collectLabelingFields as c,collectElevationFields as y,collectFilterFields as h,collectFeatureReductionFields as g,collectOrderByInfos as F,collectFields as w,collectField as E,featureHasFields as I}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as b}from\"../../layers/support/floorFilterUtils.js\";import x from\"../../rest/support/Query.js\";import{loadArcade as v}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as R,getRequiredFields as _}from\"./support/popupUtils.js\";const j=j=>{let q=class extends j{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.dataUpdating=!1,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.addHandles([o((()=>{const e=this.layer;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),s),n((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),n((()=>{const e=this.layer;return e&&\"sublayers\"in e?e.sublayers:null}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?f(t,[...m(t,e.outFields),...r]):f(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){r.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new x(e);if(\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=b(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new x(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){return this._validateFetchPopupFeatures(e,t),this._fetchPopupFeatures(e,t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?v():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:i,objectIdField:o}}=this,s=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=await Promise.allSettled([s?s.collectRequiredFields(a,i):null,c(a,t),e&&\"elevationInfo\"in t?y(a,t):null,null!=this.filter?h(a,t,this.filter):null,e||null==this.featureEffect?null:h(a,t,this.featureEffect.filter),!e&&l?g(a,t,l):null,!e&&n?F(a,t,n):null]);if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&w(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"floorInfo\"in t&&t.floorInfo&&w(a,t.fieldsIndex,[t.floorInfo.floorField]),\"feature\"===t.type&&e&&null!=t.infoFor3D&&(null==t.globalIdField&&r.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),w(a,t.fieldsIndex,[t.globalIdField])),\"subtype-group\"===t.type){E(a,i,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,i),c(a,e)])));await Promise.allSettled(e)}\"catalog-footprint\"===t.type&&w(a,i,[t.parent.itemSourceField,t.parent.itemTypeField]);for(const d of u)\"rejected\"===d.status&&r.getLogger(this).error(d.reason);E(a,i,o),e&&\"displayField\"in t&&t.displayField&&E(a,i,t.displayField);const p=Array.from(a).sort();this._set(\"requiredFields\",p)}_validateFetchPopupFeatures(e,r){if(null!=r)for(const i of e){const e=i.origin&&\"layer\"in i.origin?i.origin.layer:i.layer;if(\"popupEnabled\"in e&&!e.popupEnabled)throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e});if(i.isAggregate){const r=\"featureReduction\"in e?e.featureReduction:null;if(!(r&&\"popupTemplate\"in r&&r.popupEnabled&&r.popupTemplate))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e})}else if(\"popupTemplate\"in e){if(!R(e,r))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:e})}}}_popupFeatureHasRequiredFields(e,t){return I(t,e)}async _fetchPopupFeatures(e,t){const r=new Array(e.length),o=new Map,s=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);for(let n=0;n<e.length;n++){const l=e[n];if(l.isAggregate){r[n]=l;continue}const a=l.origin?.layer??l.layer;if(!a||!(\"popupEnabled\"in a))continue;const u=m(this.layer.fieldsIndex,s.outFields),p=R(a,t);if(null==p)continue;const d=await this._loadArcadeModules(p);i(t);d&&d.arcadeUtils.hasGeometryOperations(p)||!this._popupFeatureHasRequiredFields(l,u)?o.set(l.getObjectId(),{graphic:l,index:n}):r[n]=l}if(\"stream\"===this.layer.type||0===o.size)return r.filter(Boolean);s.objectIds=Array.from(o.keys());try{const e=await this.layer.queryFeatures(s,t);for(const t of e.features){const{graphic:{geometry:e,origin:i},index:s}=o.get(t.getObjectId());t.geometry||=e,t.origin=i,r[s]=t}}catch{}return r.filter(Boolean)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),o=new Set;let s=!1;const n=e??[this.layer];for(const l of n){if(!(\"popupEnabled\"in l))continue;const e=R(l,t);if(null==e)continue;const r=await this._loadArcadeModules(e);i(t);const n=r&&r.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!n);const a=await _(this.layer,e);i(t);for(const t of a)o.add(t)}if(r.returnGeometry=s,r.returnZ=s,r.returnM=s,r.outFields=Array.from(o),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=b(this);null!=e&&(r.where=r.where?`(${r.where}) AND (${e})`:e)}return r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){return{createPopupQuery:e=>this._createPopupQuery(void 0,e)}}get test(){return this.getTest()}};return e([l()],q.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([l({readOnly:!0})],q.prototype,\"availableFields\",null),e([l({readOnly:!0})],q.prototype,\"dataUpdating\",void 0),e([l({type:p})],q.prototype,\"featureEffect\",null),e([l({type:d})],q.prototype,\"filter\",void 0),e([l(u)],q.prototype,\"timeExtent\",void 0),e([l()],q.prototype,\"layer\",void 0),e([l({type:Number})],q.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0,type:Boolean})],q.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l({readOnly:!0})],q.prototype,\"requiredFields\",void 0),e([l()],q.prototype,\"suspended\",void 0),e([l()],q.prototype,\"view\",void 0),q=e([a(\"esri.views.layers.FeatureLayerView\")],q),q};export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as s,initial as o,when as i,syncAndInitial as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getObjectId as l}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGeometry as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLayerViewPerformanceInfo as d}from\"./FeatureLayerViewPerformanceInfo.js\";import{FeatureLikeLayerView3D as h}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as m}from\"./LayerView3D.js\";import{FeatureTileFetcher3DLayerViewContext as y}from\"./support/FeatureTileFetcher3DLayerViewContext.js\";import{EventedSet as f}from\"../support/EventedSet.js\";import{updatingProgress as g}from\"../support/updatingProperties.js\";import{UpdatePolicy as F}from\"../webgl-engine/lib/UpdatePolicy.js\";import x from\"../../layers/FeatureLayerView.js\";import b from\"../../layers/LayerView.js\";import _ from\"../../layers/RefreshableLayerView.js\";let M=class extends(_(h(x(m(b))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this._needsRefresh=!1,this.suspendResumeExtentMode=\"data\"}initialize(){this.addHandles([s((()=>this._updatingRequiredFieldsPromise),(e=>this._updatingHandles.addPromise(e)),a),s((()=>({controller:this.controller,suspended:this.suspended})),(({controller:e,suspended:r})=>{e&&!r&&this._needsRefresh&&(e.refetch(),this._needsRefresh=!1)}))])}destroy(){this._updatingHandles.removeAll(),this._fetcherContext=t(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const r=this.controller.updatingRemaining,t=Math.max(this.controller.updatingTotal,this._controllerTotal);t>0&&(e=(t-r)/t,this._controllerTotal=t)}let r=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,t=Math.max(e,this._processorTotal);t>0&&(r=(t-e)/t,this._processorTotal=t)}return.5*(e+r)}get updatePolicy(){if(!this.controller)return F.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=j.get(this.layer.geometryType);return null==e||this.controller.serviceDataCount>e?F.ASYNC:F.SYNC}case\"tiles\":return F.ASYNC}}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){this.processor?.setObjectIdVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this._fetcherContext=new y({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new c({layerView:this,context:this._fetcherContext,graphics:new f,extent:this.clippingExtent});return this._updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),o),this.addHandles(s((()=>this.suspended),(r=>{r?e.suspend():e.resume()}),a)),this._updatingHandles.add((()=>this.processor?.displayFeatureLimit),(r=>e.displayFeatureLimit=r),o),this.addHandles(i((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){const{controller:r,processor:t,suspended:s}=this;e&&r&&(s?this._needsRefresh=!0:(r.refetch(),this._needsRefresh=!1)),t.refreshFilter()}_popupFeatureHasRequiredFields(e,r){if(!super._popupFeatureHasRequiredFields(e,r))return!1;const t=l(e,this.layer.objectIdField);if(null==t)return!0;const s=this.controller.getMissingAttributesForFeature(t);if(null==s)return!0;for(const o of r)if(s.has(o))return!1;return!0}get usedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}get unloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,r=this.controller?.expectedFeatureDiff??0,t=this.processor?.loadedFeatures??0,s=t+r>0?t/(t+r):1;return e+r*(this.processor?.usedMemoryPerFeature??0)*s}get ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r();if(e?.outStatistics||null==this.graphics3DProcessor)return t;const s=this.layer.objectIdField,o=this.graphics3DProcessor.graphics3DGraphicsByObjectID,i=[];for(const a of t.features)if(a.geometry){const e=o.get(a.attributes[s]);e&&(a.geometry=p(e.graphic.geometry),i.push(a))}else i.push(a);return t.features=i,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},s=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of s)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),null==e.outSpatialReference||e.outSpatialReference.equals(this.view.spatialReference)||t(\"outSpatialReference\")}get performanceInfo(){const e=this.controller?.displayFeatureLimit,r=null!=e?e.averageSymbolComplexity:void 0,t=null!=r?`f:${r.verticesPerFeature},v:${r.verticesPerCoordinate}`:\"n/a\";return new d(super.performanceInfo,this.controller?.performanceInfo?.storedFeatures??0,this.controller?.performanceInfo?.totalVertices??0,this.maximumNumberOfFeaturesExceeded,this.controller?.mode??\"n/a\",t)}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller,loadedGraphics:this.controller?.graphics,...this.getTest()}}};e([n()],M.prototype,\"layer\",void 0),e([n()],M.prototype,\"controller\",void 0),e([n()],M.prototype,\"_controllerTotal\",void 0),e([n()],M.prototype,\"_processorTotal\",void 0),e([n()],M.prototype,\"_needsRefresh\",void 0),e([n()],M.prototype,\"maximumNumberOfFeatures\",null),e([n()],M.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([n(g)],M.prototype,\"updatingProgress\",void 0),e([n({readOnly:!0})],M.prototype,\"updatingProgressValue\",null),e([n({readOnly:!0})],M.prototype,\"updatePolicy\",null),e([n({readOnly:!0})],M.prototype,\"hasZ\",null),e([n({readOnly:!0})],M.prototype,\"hasM\",null),e([n()],M.prototype,\"suspendResumeExtentMode\",void 0),M=e([u(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],M);const j=new Map([[\"point\",5e3],[\"polygon\",500],[\"polyline\",1e3]]),w=M;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.layers.mixins.RefreshableLayerView\")],a),a};export{i as default};\n"],"names":["t","e","constructor","s","r","o","a","super","usedMemory","displayedFeatures","totalFeatures","maximumFeatures","nodes","core","this","storedFeatures","totalVertices","partial","mode","symbolComplexity","n","_controller","_handle","c","schedule","destroy","invoke","buffer","byteLength","options","sourceSpatialReference","_objectSpread","toJSON","then","fromJSON","spatialReference","i","async","l","fields","length","madeProgress","reschedule","p","features","uid","generateUID","geometry","Promise","resolve","type","paths","reduce","hasZ","hasM","map","rings","_parseFeatureQuery","implicitFields","_this$layer$outFields","layer","outFields","includes","Set","layerView","requiredFields","availableFields","u","queryFeaturesDehydrated","capabilities","query","supportsFormatPBF","parsedUrl","_e$spatialReference$t","_e$spatialReference","_decoder","controller","applyTransform","maxStringAttributeFields","maxStringAttributeLength","f","_createRequestOptions","data","signal","reject","y","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","d","queryFeatures","m","h","source","queryFeaturesJSON","name","_memoryCache","_capabilities","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","infoFor3D","normal","_memoryCacheEnabled","memoryController","newCache","concat","createQuery","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","logFetchError","_r$message","error","message","j","q","arguments","_updatingRequiredFieldsPromise","dataUpdating","filter","timeExtent","initialize","addHandles","_e$elevationInfo","elevationInfo","featureExpressionInfo","displayField","timeInfo","renderer","labelingInfo","floorInfo","featureEffect","_handleRequiredFieldsChange","_this$view","floors","sublayers","fieldsIndex","_override","maximumNumberOfFeatures","getLogger","maximumNumberOfFeaturesExceeded","highlight","Error","returnGeometry","x","b","where","intersection","clone","createAggregateQuery","queryObjectIds","queryExtent","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","_fetchPopupFeatures","_loadArcadeModules","_e$expressionInfos","expressionInfos","Array","isArray","content","some","v","_updateRequiredFields","_set","orderBy","featureReduction","allSettled","collectRequiredFields","g","F","w","startField","endField","floorField","E","subtypeField","_e$renderer","all","parent","itemSourceField","itemTypeField","status","reason","from","sort","origin","popupEnabled","isAggregate","popupTemplate","R","_popupFeatureHasRequiredFields","I","Map","_createPopupQuery","_e$origin$layer","_e$origin","_l$origin$layer","_l$origin","arcadeUtils","hasGeometryOperations","set","getObjectId","graphic","index","size","Boolean","objectIds","keys","get","_unused","_","add","canResume","isEmpty","getTest","createPopupQuery","test","Number","M","_controllerTotal","_processorTotal","_needsRefresh","suspendResumeExtentMode","_updatingHandles","addPromise","suspended","_ref","refetch","removeAll","_fetcherContext","_this$controller$maxi","_this$controller","_get","updatingProgressValue","_this$controller2","_this$processor","updating","updatingRemaining","Math","max","updatingTotal","processor","updatePolicy","ASYNC","serviceDataCount","SYNC","supportsZ","supportsM","setVisibility","_this$processor2","setObjectIdVisibility","_queryFeaturesMesh","_ensureQuery","beforeSetController","createController","context","graphics","extent","clippingExtent","serviceDataExtent","dataExtent","suspend","resume","_this$processor3","displayFeatureLimit","doRefresh","refreshFilter","getMissingAttributesForFeature","has","_this$processor$usedM","_this$processor4","_this$controller$memo","_this$controller3","memoryForUnusedFeatures","unloadedMemory","_this$processor$unpro","_this$processor5","_this$controller$expe","_this$controller4","_this$processor$loade","_this$processor6","_this$processor$usedM2","_this$processor7","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","ignoresMemoryFactor","_this$controller5","hasMaximumNumberOfFeaturesOverride","_validateQueryFeaturesMesh","outStatistics","graphics3DProcessor","graphics3DGraphicsByObjectID","attributes","push","returnCentroid","equals","performanceInfo","_this$controller6","_this$controller$perf","_this$controller7","_this$controller$perf2","_this$controller8","_this$controller$mode","_this$controller9","averageSymbolComplexity","verticesPerFeature","verticesPerCoordinate","_this$controller10","loadedGraphics","dataChanged","catch"],"sourceRoot":""}