{"version":3,"file":"static/js/2285.4eb6c02e.chunk.js","mappings":"0SAIstB,IAAIA,EAAE,eAAcC,EAAAA,EAAAA,KAAEC,EAAAA,EAAAA,GAAEC,EAAAA,KAAKC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,SAAS,KAAKD,KAAKE,cAAc,KAAKF,KAAKG,QAAQ,IAAI,CAACC,MAAAA,CAAON,GAAG,OAAOO,EAAAA,EAAAA,IAAEL,KAAKC,SAASH,EAAEG,YAAWI,EAAAA,EAAAA,IAAEL,KAAKE,cAAcJ,EAAEI,iBAAgBI,EAAAA,EAAAA,IAAEN,KAAKG,QAAQL,EAAEK,QAAQ,IAAGL,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,IAAE,CAACC,KAAKC,EAAAA,EAAEC,KAAK,CAACC,MAAM,CAACC,YAAW,OAAQnB,EAAEoB,UAAU,gBAAW,IAAQf,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,IAAE,CAACC,KAAKM,EAAAA,KAAIC,EAAAA,EAAAA,MAAKtB,EAAEoB,UAAU,qBAAgB,IAAQf,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,IAAES,EAAAA,KAAIvB,EAAEoB,UAAU,eAAU,GAAQpB,GAAEK,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,GAAE,8CAA8CxB,GAAG,MAAMyB,EAAEzB,C,gLCAtf,IAAIA,EAAE,eAAcE,EAAAA,EAAAA,IAAEqB,EAAAA,IAAInB,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,SAAS,KAAKD,KAAKE,cAAc,KAAKF,KAAKG,QAAQ,IAAI,CAACC,MAAAA,CAAON,GAAG,OAAOJ,EAAAA,EAAAA,IAAEM,KAAKC,SAASH,EAAEG,YAAWP,EAAAA,EAAAA,IAAEM,KAAKE,cAAcJ,EAAEI,iBAAgBI,EAAAA,EAAAA,IAAEN,KAAKG,QAAQL,EAAEK,QAAQ,IAAGL,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,IAAE,CAACG,KAAKO,EAAAA,KAAIE,EAAAA,EAAAA,MAAKxB,EAAEoB,UAAU,gBAAW,IAAQf,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,IAAE,CAACG,KAAKC,EAAAA,KAAIQ,EAAAA,EAAAA,MAAKxB,EAAEoB,UAAU,qBAAgB,IAAQf,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,IAAET,EAAAA,KAAIH,EAAEoB,UAAU,eAAU,GAAQpB,GAAEK,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,4CAA4Cd,GAAG,MAAMqB,EAAErB,C,kBCA9lC,SAASuB,EAAEA,EAAEvB,GAAG,OAAOG,EAAEoB,KAAKpB,EAAEH,EAAE,CAAC,SAASG,EAAEoB,GAAG,GAAG,MAAMA,EAAE,OAAO,KAAK,MAAMpB,EAAE,MAAMoB,EAAEG,MAAMH,EAAEG,MAAMC,GAAG,GAAG,IAAI3B,EAAE,KAAK,OAAOA,EAAE,MAAMuB,EAAEK,SAASL,EAAEK,SAAS,MAAML,EAAEG,OAAO,kBAAkBH,EAAEG,OAAO,MAAMH,EAAEG,MAAMG,eAAe,MAAMN,EAAEO,WAAWP,EAAEO,WAAWP,EAAEG,MAAMG,eAAeN,EAAEQ,IAAI,MAAM/B,EAAE,KAAI,KAAAgC,OAAM7B,EAAC,KAAA6B,OAAIhC,EAAG,C,oCAAC,MAAMA,EAAE,CAACiB,KAAK,CAACC,MAAM,CAACe,OAAuI,SAAWV,EAAEpB,GAAE,IAAA+B,EAAC,OAAO,OAADX,QAAC,IAADA,GAAQ,QAAPW,EAADX,EAAGG,aAAK,IAAAQ,OAAA,EAARA,EAAUL,gBAAe,MAAMN,EAAEO,aAAa3B,EAAEO,QAAQ,CAACyB,QAAQZ,EAAEG,MAAMC,GAAGC,SAASL,EAAEO,WAAWP,EAAEG,MAAMG,gBAAgB,EAA9QO,OAAO,CAAC,kBAAkB,CAACrB,KAAK,CAACsB,OAAOC,SAAS,mBAAmB,CAACvB,KAAK,CAACsB,OAAOC,WAAWC,QAAQ,CAAC,YAAY,CAACC,KAA4J,SAAWjB,GAAG,GAAG,MAAMA,EAAEY,SAAS,MAAMZ,EAAEK,SAAS,MAAM,CAACG,IAAI,KAAKL,MAAM,CAACC,GAAGJ,EAAEY,QAAQN,cAAc,YAAYC,WAAW,CAACW,SAASlB,EAAEK,UAAU,K,+UCAja,IAAI1B,EAAE,cAAcC,EAAAA,EAAEC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAK6B,OAAO,KAAK7B,KAAKmC,mBAAmB,KAAKnC,KAAKoC,oBAAoB,KAAKpC,KAAKqC,+BAA+B,KAAKrC,KAAKsC,aAAQ,CAAM,IAAGxC,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,OAAKrB,EAAEkB,UAAU,cAAS,IAAQf,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,OAAKrB,EAAEkB,UAAU,0BAAqB,IAAQf,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,OAAKrB,EAAEkB,UAAU,2BAAsB,IAAQf,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,OAAKrB,EAAEkB,UAAU,sCAAiC,IAAQf,EAAAA,EAAAA,GAAE,EAACkB,EAAAA,EAAAA,IAAE,CAACR,KAAK+B,WAAW5C,EAAEkB,UAAU,eAAU,GAAQlB,GAAEG,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,GAAE,qDAAqDX,GCAzY,IAAID,EAAE,cAAcI,EAAAA,EAAED,WAAAA,CAAYD,GAAGG,MAAMH,GAAGI,KAAKqC,+BAA+B,KAAKrC,KAAKwC,YAAY,CAACC,SAAQ,EAAGC,UAAS/C,EAAAA,EAAAA,MAAIgD,sBAAsB,KAAKC,kBAAkB,KAAKf,QAAOlC,EAAAA,EAAAA,MAAIkD,oBAAoB,KAAKC,gBAAgB,KAAKC,kBAAiBpD,EAAAA,EAAAA,MAAIqD,gBAAerD,EAAAA,EAAAA,OAAKK,KAAKiD,kBAAkB,CAACC,OAAMvD,EAAAA,EAAAA,MAAIwD,KAAIxD,EAAAA,EAAAA,MAAIyD,cAAazD,EAAAA,EAAAA,MAAI8C,SAAQ,EAAGY,iBAAgB,GAAIrD,KAAKsD,OAAO,IAAI,CAACC,mBAAAA,GAAsBvD,KAAKwD,aAAa,oBAAoB,CAACC,wBAAAA,GAA2BzD,KAAKwD,aAAa,cAAc,IAAG5D,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKtB,EAAEmB,UAAU,cAAS,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKtB,EAAEmB,UAAU,sCAAiC,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKtB,EAAEmB,UAAU,mBAAc,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKtB,EAAEmB,UAAU,yBAAoB,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKtB,EAAEmB,UAAU,cAAS,GAAQnB,GAAEE,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,GAAE,8DAA8DZ,G,ICAtjBqB,E,uDAAE,IAAI2C,EAAE3C,EAAE,cAAcjB,EAAAA,EAAED,WAAAA,CAAYS,GAAGP,MAAMO,EAAE,CAACqD,KAAAA,GAAQ,OAAO,IAAI5C,EAAE,CAACP,KAAKR,KAAKQ,KAAKY,IAAGzB,EAAAA,EAAAA,IAAEK,KAAKoB,IAAIwC,UAASjE,EAAAA,EAAAA,IAAEK,KAAK4D,UAAUC,aAAYpD,EAAAA,EAAAA,IAAET,KAAK6D,aAAaC,QAAOnE,EAAAA,EAAAA,IAAEK,KAAK8D,QAAQC,KAAIpE,EAAAA,EAAAA,IAAEK,KAAK+D,KAAKC,QAAQhE,KAAKgE,SAAS,CAAC5D,MAAAA,CAAOE,GAAG,OAAON,KAAKQ,OAAOF,EAAEE,MAAMR,KAAKoB,KAAKd,EAAEc,KAAI1B,EAAAA,EAAAA,IAAEM,KAAK4D,SAAStD,EAAEsD,YAAW3C,EAAAA,EAAAA,GAAEjB,KAAK6D,YAAYvD,EAAEuD,eAAcjE,EAAAA,EAAAA,IAAEI,KAAK8D,OAAOxD,EAAEwD,UAASvD,EAAAA,EAAAA,IAAEP,KAAK+D,IAAIzD,EAAEyD,MAAM/D,KAAKgE,UAAU1D,EAAE0D,OAAO,IAAG1D,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,OAAK0C,EAAE7C,UAAU,YAAO,IAAQP,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACiD,eAAc,KAAMP,EAAE7C,UAAU,UAAK,IAAQP,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACiD,eAAc,KAAMP,EAAE7C,UAAU,gBAAW,IAAQP,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACiD,eAAc,KAAMP,EAAE7C,UAAU,mBAAc,IAAQP,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACiD,eAAc,KAAMP,EAAE7C,UAAU,cAAS,IAAQP,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACiD,eAAc,KAAMP,EAAE7C,UAAU,eAAU,IAAQP,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACiD,eAAc,KAAMP,EAAE7C,UAAU,WAAM,GAAQ6C,EAAE3C,GAAET,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,GAAE,qEAAqEqD,G,gFCAlC,IAAIQ,EAAE,cAAc5D,EAAAA,EAAET,WAAAA,CAAYmB,GAAGjB,MAAMiB,GAAGhB,KAAKmE,qCAAqC,IAAIC,IAAI,CAAC,WAAW,CAACC,UAAAA,GAAarE,KAAKsE,aAAYC,EAAAA,EAAAA,IAAEvE,KAAKwE,KAAKC,MAAMC,aAAa1E,KAAKsE,YAAYK,QAAQC,KAAI,EAAG5E,KAAKsE,YAAYK,QAAQE,MAAMC,EAAAA,GAAEC,GAAG,CAACC,0BAAAA,CAA2BhE,GAAG,MAAMV,GAAEV,EAAAA,EAAAA,IAAEoB,EAAEF,EAAAA,GAAEmE,OAAOvF,GAAEwF,EAAAA,EAAAA,IAAElF,KAAKwE,KAAKC,MAAMU,OAAO7E,EAAE8E,GAAG,OAAOpF,KAAKqF,oBAAoB3F,EAAE,CAAC2F,mBAAAA,CAAoBrE,EAAEV,GAAG,GAAG,MAAMU,GAAG,MAAMhB,KAAKwE,KAAKc,wBAAwB,OAAO,KAAK,MAAMhB,YAAY1E,GAAGI,KAAKJ,EAAE+E,QAAQE,MAAMC,EAAAA,GAAEC,IAAI/E,KAAKwE,KAAKc,wBAAwBC,4BAA4BvE,EAAEpB,EAAEU,GAAG,MAAMZ,EAAEE,EAAE4F,QAAQC,IAAI3F,GAAEiB,EAAAA,EAAAA,MAAI,IAAIrB,EAAEgG,qBAAqB5F,GAAG,OAAO,KAAK,GAAG,OAAO,OAADQ,QAAC,IAADA,OAAC,EAADA,EAAGqF,eAAahG,EAAAA,EAAAA,GAAEG,EAAEkB,EAAE4E,QAAQtF,EAAEqF,aAAa,EAAE,OAAO,KAAK,MAAM1E,EAAEjB,KAAKwE,KAAKqB,mBAAmBC,iBAAiBhG,EAAE,IAAIiG,EAAAA,EAAE,CAACC,iBAAiBhG,KAAKwE,KAAKwB,oBAAoBzF,GAAEF,EAAAA,EAAAA,IAAEX,EAAEoE,QAAQ,IAAGmC,EAAAA,EAAAA,IAAEvG,GAAG,OAAO,IAAIgE,EAAE,CAAClD,KAAK0F,EAAAA,GAAEC,OAAO/E,GAAE,GAAAK,OAAI/B,EAAEmC,OAAOuE,SAAQ,KAAA3E,OAAI/B,EAAEmC,OAAOwE,UAAS,KAAA5E,OAAI/B,EAAEmC,OAAOyE,gBAAiB1C,SAAS3C,EAAE4C,YAAY/D,EAAEgE,OAAOvD,EAAEwD,KAAIwC,EAAAA,EAAAA,GAAEvF,GAAGgD,QAAQ,OAAO,IAAGwC,EAAAA,EAAAA,IAAE9G,GAAG,OAAO,IAAIgE,EAAE,CAAClD,KAAK0F,EAAAA,GAAEC,OAAO/E,GAAE,GAAAK,OAAI/B,EAAEmC,OAAOuE,SAAQ,KAAA3E,OAAI/B,EAAEmC,OAAO4E,YAAa7C,SAAS3C,EAAE4C,YAAY/D,EAAEgE,OAAOvD,EAAEwD,KAAIwC,EAAAA,EAAAA,GAAEvF,GAAGgD,QAAQ,OAAO,IAAG0C,EAAAA,EAAAA,IAAEhH,GAAG,OAAO,IAAIgE,EAAE,CAAClD,KAAK0F,EAAAA,GAAES,QAAQvF,GAAG1B,EAAEmC,OAAO+E,IAAIC,QAAQjD,SAAS3C,EAAE4C,YAAY/D,EAAEgE,OAAOvD,EAAEwD,KAAIwC,EAAAA,EAAAA,GAAEvF,GAAGgD,QAAQ,OAAO,MAAMvD,GAAEqG,EAAAA,EAAAA,IAAEpH,EAAEM,KAAKwE,MAAM,GAAG,MAAM/D,EAAE,CAAC,MAAMH,EAAEG,EAAEU,MAAMvB,EAAEa,EAAEsG,YAAY,IAAIrH,EAA4E,OAAjDA,EAAtBE,GAAK,UAAUA,EAAEY,MAAOwG,EAAAA,EAAAA,IAAEvG,EAAEb,EAAE0B,eAAmCb,EAAEe,IAAW,IAAIkC,EAAE,CAAClD,KAAK0F,EAAAA,GAAEC,OAAO/E,GAAE,GAAAK,OAAK,OAADnB,QAAC,IAADA,OAAC,EAADA,EAAGkB,IAAG,KAAAC,OAAI/B,GAAIkE,SAAS3C,EAAE4C,YAAY/D,EAAEgE,OAAOvD,EAAEwD,KAAIwC,EAAAA,EAAAA,GAAEvF,GAAGgD,QAAQvD,GAAG,CAAC,OAAO,IAAI,CAACwG,4BAAAA,CAA6BjG,EAAEV,EAAEV,GAAG,MAAMF,EAAEwH,EAAEpH,EAAEqH,EAAExH,EAAEyH,EAAErG,EAAEsG,GAAEpG,EAAAA,EAAAA,GAAEnB,EAAEkB,GAAGhB,KAAKwE,KAAKqB,mBAAmByB,kBAAkBxH,EAAEH,IAAGY,EAAAA,EAAAA,GAAEZ,EAAEA,GAAG,MAAMuB,EAAElB,KAAKwE,KAAK+C,eAAeC,uBAAuBjB,GAAGjG,GAAG,EAAE,GAAG,KAAKY,EAAEuG,KAAKC,IAAIxG,EAAEyG,IAAIzG,EAAEuE,KAAK,KAAKgC,KAAKC,IAAIpH,KAAIG,EAAAA,EAAAA,GAAEM,EAAEpB,EAAE4G,IAAG9G,EAAAA,EAAAA,GAAEC,EAAEI,EAAEiB,IAAG6G,EAAAA,EAAAA,IAAElI,EAAEI,EAAEsF,GAAG,MAAMtE,EAAEd,KAAKqF,oBAAoBD,EAAE,CAACyC,QAAQ7H,KAAKmE,qCAAqCwB,YAAYY,IAAI,GAAG,MAAMzF,EAAE,CAAC,MAAME,EAAEqG,EAAE,OAAO5G,EAAAA,EAAAA,GAAEO,EAAErB,EAAEW,IAAGb,EAAAA,EAAAA,GAAEG,EAAEkB,EAAE+C,YAAY7C,IAAGX,EAAAA,EAAAA,IAAES,EAAEgD,OAAO,CAAC,OAAO7C,EAAAA,EAAAA,GAAErB,EAAEoB,GAAG,IAAI,IAAGA,EAAAA,EAAAA,GAAE,EAACtB,EAAAA,EAAAA,OAAKwE,EAAErD,UAAU,YAAO,IAAQG,EAAAA,EAAAA,GAAE,EAACtB,EAAAA,EAAAA,OAAKwE,EAAErD,UAAU,mBAAc,GAAQqD,GAAElD,EAAAA,EAAAA,GAAE,EAAClB,EAAAA,EAAAA,GAAE,iEAAiEoE,GAAG,MAAMgD,GAAEnG,EAAAA,EAAAA,MAAIoG,GAAEpG,EAAAA,EAAAA,MAAIqG,GAAErG,EAAAA,EAAAA,MAAIsG,GAAEtG,EAAAA,EAAAA,MAAIqE,GAAElE,EAAAA,EAAAA,M,0BCA75C,IAAI6E,EAAE,cAAcrG,EAAAA,EAAEoI,aAAa7G,EAAAA,IAAIpB,WAAAA,CAAYmB,GAAGjB,MAAMiB,GAAGhB,KAAK+H,sBAAqB,EAAG/H,KAAKgI,iCAAiC,EAAEhI,KAAKiI,gCAAgC,kBAAkBjI,KAAKkI,mBAAmB,KAAKlI,KAAKmI,iBAAiB,IAAI/C,EAAAA,EAAEpF,KAAKoI,WAAWC,EAAAA,GAAErI,KAAKsI,oBAAoB,IAAIhI,EAAAA,EAAEN,KAAKuI,yBAAwB,CAAE,CAAClE,UAAAA,GAAY,IAAAmE,EAAC,MAAMxH,EAA8B,QAA7BwH,EAACxI,KAAKwE,KAAKiE,0BAAkB,IAAAD,OAAA,EAA5BA,EAA8BE,UAAU1I,KAAKoI,WAAWpH,EAAEA,EAAE2H,aAAaC,EAAAA,GAAEC,oBAAoBR,EAAAA,GAAErI,KAAK8I,aAAa,IAAI5B,EAAE,CAAC1C,KAAKxE,KAAKwE,OAAOxE,KAAK+I,WAAW,CAAC/I,KAAKgJ,mBAAmBhJ,KAAKiJ,uBAAuBjJ,KAAKkJ,mBAAmB,CAACC,OAAAA,GAAUnJ,KAAKsI,oBAAoBa,UAAUnJ,KAAKoJ,cAAcC,YAAYrJ,KAAKmI,iBAAiBgB,SAAS,CAAC,YAAIG,GAAW,OAAOtJ,KAAKoI,WAAWkB,UAAUtJ,KAAKmI,iBAAiBmB,QAAQ,CAAC,YAAIC,GAAW,OAAOvJ,KAAKoI,WAAWmB,QAAQ,CAAC,YAAIA,CAASvI,GAAGhB,KAAKoI,WAAWmB,SAASvI,CAAC,CAAC,iBAAIoI,GAAgB,OAAOpJ,KAAKwJ,iBAAiBC,YAAY,CAAC,gDAAIC,GAA+C,OAAO1J,KAAKwJ,iBAAiBG,sBAAsB,CAAC,gDAAID,CAA6C1I,GAAGhB,KAAKwJ,iBAAiBG,uBAAuB3I,CAAC,CAAC,oBAAI4I,GAAmB,OAAO5J,KAAKwE,KAAKC,MAAMU,OAAO0E,yBAAyB7J,KAAK0J,6CAA6C,CAACI,cAAAA,CAAe9I,GAAG,MAAMpB,EAAEoB,EAAE+I,aAAavH,YAAYvB,EAAEgC,kBAAkBnD,GAAGF,GAAGmD,iBAAiBrD,EAAEsD,eAAe1C,GAAGW,GAAGiC,MAAMvD,EAAEwD,IAAI5C,GAAGT,GAAEkH,EAAAA,EAAAA,GAAErH,EAAED,IAAGsH,EAAAA,EAAAA,GAAEzG,EAAED,GAAGN,KAAKgK,YAAYpK,GAAGI,KAAKiK,qBAAqBjJ,GAAGhB,KAAKkK,yBAAyBlJ,GAAGpB,EAAE2D,sBAAsBvD,KAAKmK,KAAK,iBAAiB,CAACtI,OAAOb,EAAE+I,YAAYlI,OAAOyB,OAAO1D,EAAE0D,QAAQ,CAAC8G,iCAAAA,CAAkCpJ,GAAG,MAAMC,EAAEjB,KAAKwE,MAAMc,wBAAwBxF,GAAGmB,GAAGuB,YAAY9C,GAAGsB,GAAG+B,iBAAiBzC,EAAEsC,kBAAkBjD,EAAEmD,gBAAgBvC,EAAEyC,eAAevD,GAAGC,EAAE,GAAG,MAAMC,GAAG,MAAMY,EAAE,OAAO,MAAMW,GAAEH,EAAAA,EAAAA,GAAET,EAAEb,GAAGgB,EAAET,KAAK8I,aAAaxE,YAAYiC,GAAErB,EAAAA,EAAAA,IAAExF,EAAEgD,SAAShD,EAAEmC,OAAOwI,GAAG5J,EAAEkE,QAAQE,MAAMiC,EAAAA,GAAEwD,IAAIxK,EAAEyF,4BAA4BgB,EAAE9F,GAAG,IAAIJ,EAAE,KAAKuH,EAAE,KAAKZ,EAAE,KAAKN,EAAE,KAAK,IAAI,MAAM3F,KAAKN,EAAE+E,QAAQ+E,IAAI,CAAC,MAAMvJ,GAAEwJ,EAAAA,EAAAA,IAAEzJ,EAAEf,KAAKwE,MAAM,GAAG,MAAMxD,GAAG,MAAMD,EAAE0J,sBAAsB,SAAS,MAAM3K,GAAEF,EAAAA,EAAAA,IAAEoB,GAAG,MAAMlB,IAAI,MAAMH,GAAGG,IAAIH,IAAI,MAAMU,IAAIA,EAAEL,KAAK0K,6BAA6B3J,EAAEE,EAAEC,IAAIH,EAAE0J,sBAAsBpK,IAAI2G,EAAEjG,IAAI,MAAMR,GAAGT,IAAIS,IAAI,MAAMqH,IAAIA,EAAE5H,KAAK0K,6BAA6B3J,EAAEE,EAAEC,IAAI,MAAMwF,GAAG3F,EAAE0J,sBAAsBvJ,GAAGA,EAAEH,EAAE0J,sBAAsB7C,IAAIlB,EAAE3F,IAAI,CAAC,MAAMiG,GAAGA,EAAEtB,qBAAqBpF,KAAKZ,EAAEiD,sBAAsBqE,EAAE2D,sBAAqBnE,EAAAA,EAAAA,QAAM,MAAME,GAAGA,EAAEhB,qBAAqBjG,KAAKC,EAAEmD,oBAAoB6D,EAAEiE,sBAAqBnE,EAAAA,EAAAA,OAAK,CAACkE,4BAAAA,CAA6B1J,EAAEpB,EAAEqB,GAAG,IAAG2J,EAAAA,EAAAA,IAAE5J,GAAG,CAAC,MAAMlB,GAAE+K,EAAAA,EAAAA,IAAE7J,EAAEpB,GAAG,GAAG,MAAME,EAAE,OAAO2H,KAAKhC,IAAI3F,EAAEgL,GAAE7J,EAAE,CAAC,OAAO,KAAKA,CAAC,CAAC8J,wBAAAA,CAAyB/J,GAAG,MAAMpB,EAAEI,KAAK4J,iBAAiB3I,EAAEjB,KAAKwE,MAAMhC,YAAY1C,GAAGkB,GAAG0B,SAAShD,EAAEiD,sBAAsBrC,EAAEuB,OAAOlC,EAAEkD,oBAAoBtC,EAAEwC,iBAAiBtD,EAAEuD,eAAe9B,GAAGpB,EAAEW,EAAEuK,GAAEhE,EAAAA,EAAAA,GAAEvH,EAAEC,IAAGsH,EAAAA,EAAAA,GAAE9F,EAAEvB,GAAGK,KAAKoK,kCAAkCpJ,GAAG,MAAMV,GAAE0G,EAAAA,EAAAA,GAAEvG,EAAEH,IAAGoG,EAAAA,EAAAA,GAAEjG,EAAES,EAAEzB,GAAG,MAAM8G,EAAE3G,GAAEkB,EAAAA,EAAAA,GAAEL,EAAEA,IAAGwK,EAAAA,EAAAA,GAAExK,EAAEA,EAAEgH,KAAKhC,IAAIc,EAAE,KAAIhC,EAAAA,EAAAA,GAAE9E,EAAEA,EAAEgB,GAAG,MAAMF,GAAEyG,EAAAA,EAAAA,GAAEvG,EAAEF,IAAGmG,EAAAA,EAAAA,GAAEjG,EAAEhB,EAAEyB,GAAG,MAAMb,EAAEY,EAAEwD,MAAMU,OAAO0E,yBAAyB3I,IAAGJ,EAAAA,EAAAA,GAAEL,EAAEA,IAAGwK,EAAAA,EAAAA,GAAExK,EAAEA,EAAEgH,KAAKhC,IAAIpF,EAAE,KAAIkE,EAAAA,EAAAA,GAAErD,EAAEA,EAAET,EAAE,CAACwJ,oBAAAA,CAAoBiB,GAAqC,IAAnCnB,YAAY/I,EAAEmK,kBAAkBvL,GAAEsL,EAAE,MAAM1G,KAAKvD,GAAGjB,MAAMsF,wBAAwBxF,EAAE+F,mBAAmBnG,GAAGuB,EAAE,GAAG,MAAMnB,EAAE,OAAO,MAAMQ,EAAEN,KAAK8I,aAAaxE,aAAarB,kBAAkBtD,EAAE6C,YAAYjC,GAAGS,GAAG0B,SAASjD,EAAEoC,OAAOX,GAAGX,GAAG2C,MAAMzC,EAAE0C,IAAIoD,GAAG5G,EAAEU,GAAE6E,EAAAA,EAAAA,IAAEzE,EAAE8F,EAAE8D,GAAG/J,EAAEqE,QAAQE,MAAMiC,EAAAA,GAAE/B,IAAIjF,EAAEyF,4BAA4BlF,EAAEC,GAAG,MAAMsH,EAAEtH,EAAEkF,QAAQC,IAAI1E,EAAEpB,EAAEyD,aAAasD,EAAEsE,EAAE,IAAIlK,GAAE,EAAG,GAAG,MAAM8G,GAAGA,EAAElC,qBAAqB3E,GAAG,EAACiG,EAAAA,EAAAA,GAAEpH,EAAEwL,qBAAqBrK,IAAGiG,EAAAA,EAAAA,GAAEpH,EAAEyL,iBAAiB5K,IAAGuG,EAAAA,EAAAA,GAAEpH,EAAE0L,eAAe/E,GAAG7G,EAAEoG,iBAAiB/E,EAAE2F,EAAEzF,EAAE+E,kBAAkB,MAAMhF,EAAE,GAAE0C,EAAAA,EAAAA,GAAE6C,EAAErF,IAAGwC,EAAAA,EAAAA,GAAEjD,EAAES,GAAGJ,GAAE4C,EAAAA,EAAAA,GAAEjE,EAAEsB,IAAIC,GAAE0C,EAAAA,EAAAA,GAAEjE,EAAEyB,EAAE,CAAC,MAAM+J,EAAE,IAAIM,EAAAA,EAAE7E,EAAEzF,EAAE+E,kBAAkB,CAAC,MAAM1C,OAAO1D,EAAEiC,OAAO/B,GAAGkB,EAAE,MAAMpB,GAAGA,EAAEiC,OAAO/B,EAAEF,EAAEuC,mBAAmBrB,EAAE,MAAK0J,EAAAA,EAAAA,IAAE5C,EAAE3G,GAAGrB,EAAEwC,oBAAoBtB,EAAE,KAAKmK,EAAErL,EAAE0C,QAAQxB,GAAGE,EAAEsC,OAAO,IAAIkI,EAAE,CAAC3J,OAAO/B,EAAEuC,+BAA+BrB,EAAEqB,+BAA+BF,mBAAmBrB,EAAE,MAAK0J,EAAAA,EAAAA,IAAE5C,EAAE3G,GAAGmB,oBAAoBtB,EAAE,KAAKmK,EAAE3I,QAAQxB,GAAG,CAACnB,EAAE8C,QAAQlC,EAAEkC,SAAQ,EAAG9C,EAAE0D,gBAAgBvC,CAAC,CAACoJ,wBAAAA,CAAwBuB,GAAqC,IAAnC1B,YAAY/I,EAAEmK,kBAAkBvL,GAAE6L,EAAE,MAAMxI,kBAAkBhC,EAAEuB,YAAY1C,GAAGkB,GAAGkC,MAAMxD,EAAEyD,IAAI7C,EAAE8C,aAAazD,GAAGsB,GAAGmK,qBAAqB7K,EAAE8K,iBAAiB5L,EAAE6L,eAAepK,GAAGtB,EAAE,IAAGoH,EAAAA,EAAAA,GAAErH,EAAEY,GAAGT,EAAE2C,QAAQ,CAAC,MAAMzB,EAAEgK,EAAEpL,GAAE8D,EAAAA,EAAAA,GAAEjE,EAAEc,IAAGmD,EAAAA,EAAAA,GAAEjE,EAAEyB,IAAGgD,EAAAA,EAAAA,GAAElD,EAAEtB,EAAED,IAAGwL,EAAAA,EAAAA,GAAEjK,EAAEA,EAAE,EAAEpB,IAAG2E,EAAAA,EAAAA,GAAE5E,EAAEA,EAAEqB,IAAGkD,EAAAA,EAAAA,GAAElD,EAAEV,EAAEY,IAAG+J,EAAAA,EAAAA,GAAEjK,EAAEA,EAAEpB,IAAG2E,EAAAA,EAAAA,GAAE5E,EAAEA,EAAEqB,GAAGC,EAAEwB,SAAQ,CAAE,MAAMzB,EAAEsC,OAAO,KAAKrC,EAAEwB,SAAQ,EAAGxB,EAAEoC,iBAAgB,CAAE,CAAC2G,WAAAA,CAAYhJ,GAAG,MAAMpB,EAAEI,KAAKwJ,iBAAiBkC,yBAAyBzK,EAAEjB,KAAKwE,KAAKmH,QAAQ,GAAG,MAAM/L,GAAG,MAAMoB,EAAEqB,gCAAgC,MAAMpB,EAAE,OAAM,EAAG,MAAM8B,iBAAiBjD,EAAEkD,eAAetD,GAAGsB,EAAEwB,YAAYlC,EAAEW,EAAE2K,gBAAgB9L,GAAGH,EAAEsB,EAAE2K,gBAAgBlM,GAAG,OAAOY,GAAGX,CAAC,CAACkM,yBAAAA,CAA0B7K,EAAEC,EAAEnB,EAAEJ,EAAEY,GAAG,GAAGN,KAAKuI,wBAAwBjI,EAAE,MAAMU,EAAE,OAAOhB,KAAKwJ,iBAAiBkC,yBAAyB,UAAU1L,KAAKkI,mBAAmB,MAAM,GAAG,MAAMjH,EAAE,OAAO6K,EAAAA,EAAAA,GAAE9L,KAAK+L,SAAS/K,EAAEgF,iBAAiBvG,EAAAA,EAAEuM,UAAUhM,YAAYA,KAAKwJ,iBAAiBkC,yBAAyB,MAAM,MAAM/L,EAAEK,KAAKiM,2BAA2BhL,EAAEnB,IAAIoM,UAAU3L,EAAE4L,UAAUjL,IAAGkL,EAAAA,EAAAA,IAAEnL,EAAE6F,EAAE7F,EAAEyC,EAAEzC,EAAEoH,EAAErI,KAAKwE,KAAKwB,iBAAiBhG,KAAKwE,KAAK7E,GAAGc,EAAEQ,EAAE0C,QAAQlD,EAAE4H,EAAE9H,EAAEP,KAAKiI,gCAAgCtI,EAAE0M,KAAKrM,KAAKwJ,iBAAiBkC,yBAAyBjL,EAAE,MAAM8F,GAAEC,EAAAA,EAAAA,MAAIxG,KAAKwE,KAAKqB,mBAAmByG,eAAe7L,EAAE8F,GAAGvG,KAAK0J,6CAA6CnD,EAAEvG,KAAKgI,iCAAiCzH,EAAEW,EAAElB,KAAKkI,oBAAmBtI,EAAAA,EAAAA,IAAEF,GAAGM,KAAKuJ,SAASX,EAAAA,GAAE2D,8BAA8B,CAACC,kDAAAA,CAAmDxL,EAAEpB,EAAEqB,EAAEnB,EAAEJ,GAAG,MAAM8C,YAAYlC,GAAGU,EAAE,QAAOgG,EAAAA,EAAAA,GAAE1G,EAAEoC,SAAS9C,GAAGU,EAAEsC,kBAAkBlD,EAAEY,EAAEqC,sBAAsB,KAAK7C,GAAG,IAAI,gBAAgB,IAAI,qBAAqB,CAAC,MAAMkB,EAAEhB,KAAK8I,aAAa7B,6BAA6B3G,EAAEoC,SAASzB,EAAEX,EAAEoC,UAAU,MAAMpC,EAAEsC,oBAAoBtC,EAAEqC,sBAAsB3B,EAAE,EAAEhB,KAAK+K,yBAAyB/J,GAAGA,EAAEyC,2BAA2BzD,KAAKuJ,SAASX,EAAAA,GAAE2D,8BAA8B,CAACE,uBAAAA,CAAwBzL,EAAEC,EAAEnB,EAAEJ,EAAEY,GAAO,IAALX,IAAC+M,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAAK,MAAMnM,EAAES,EAAEwB,YAAY,GAAG7C,IAAIY,EAAEkC,SAAQ,GAAI,MAAM3C,EAAE,OAAO,MAAMmB,IAAG6K,EAAAA,EAAAA,GAAE9L,KAAK+L,SAAS9K,EAAE+E,iBAAiBvG,EAAAA,EAAEuM,UAAUhM,OAAOgB,EAAEqB,+BAA+B,UAAUrB,EAAEyC,2BAA2B,MAAMvC,EAAElB,KAAKiM,2BAA2BnM,EAAEJ,IAAIwM,UAAUzL,EAAE0L,UAAU5F,IAAG6F,EAAAA,EAAAA,IAAEtM,EAAEgH,EAAEhH,EAAE4D,EAAE5D,EAAEuI,EAAErI,KAAKwE,KAAKwB,iBAAiBhG,KAAKwE,KAAKtD,GAAGb,EAAEP,EAAE6D,QAAQ,OAAOtD,EAAEgI,EAAE5H,EAAEO,EAAEqB,+BAA+BhC,EAAEL,KAAKwE,KAAKqB,mBAAmByG,eAAetL,EAAEqB,+BAA+B9B,EAAEsB,QAAQtB,EAAEuC,iBAAgBlD,EAAAA,EAAAA,IAAEU,GAAGC,EAAEsC,oBAAoB,KAAK3B,EAAEmL,MAAM,IAAI,gBAAgB,IAAI,qBAAqB,CAAC,MAAMrL,EAAEhB,KAAK8I,aAAa7B,6BAA6B1G,EAAEsB,OAAOpB,EAAE8F,EAAEhG,EAAEsB,QAAQ,MAAMtB,EAAEuC,kBAAkBvC,EAAEsC,oBAAoB7B,EAAE,EAAEhB,KAAK+K,yBAAyB/J,GAAGA,EAAEyC,2BAA2BzD,KAAKuJ,SAASX,EAAAA,GAAE2D,8BAA8B,CAACM,2BAAAA,CAA4B7L,GAAG,OAAOrB,EAAAA,EAAAA,IAAE,CAACK,KAAKmI,iBAAiB2E,KAAK,MAAM/C,YAAY/I,EAAE+L,eAAe/L,EAAEa,OAAO5B,SAAS+M,oBAAoBhM,EAAEa,OAAO3B,cAAc+M,kBAAkBjM,EAAEa,OAAO1B,QAAQ+M,yBAAwBpI,EAAAA,EAAAA,eAAE9D,EAAEa,OAAO5B,SAASD,KAAKwE,KAAKwB,sBAAsBmH,IAAwG,IAAtGpD,YAAY/I,EAAE+L,eAAenN,EAAEoN,oBAAoB/L,EAAEgM,kBAAkBnN,EAAEoN,wBAAwBxN,GAAEyN,EAAI,MAAMzN,EAAE0N,QAAQpN,KAAKyM,wBAAwBzL,EAAEpB,EAAEF,EAAE2N,SAASpM,EAAEnB,GAAGE,KAAKmI,iBAAiBmF,WAAW5N,EAAE0N,QAAQ,GAAG7G,EAAAA,KAAI,CAACgH,6BAAAA,CAA8BvM,GAAG,OAAOhB,KAAKmI,iBAAiB2E,KAAK,MAAM/C,YAAY/I,EAAE0B,SAAS1C,KAAKwJ,iBAAiBkC,6BAA6B8B,IAAmB,IAAjBzD,YAAY/I,GAAEwM,EAAIxN,KAAKuI,0BAA0BvH,EAAEwB,YAAYC,SAAQ,EAAGzB,EAAEyC,2BAA2B,GAAG8C,EAAAA,GAAE,CAACkH,wCAAAA,CAAyCzM,GAAG,OAAOhB,KAAKmI,iBAAiB2E,KAAK,MAAM/C,YAAY/I,EAAE0B,SAAS1C,KAAK0J,6CAA6CgE,qBAAqB1N,KAAKgI,iCAAiC2F,sBAAsB3N,KAAKiI,gCAAgCrF,kBAAkB5C,KAAKkI,uBAAuB0F,IAAiG,IAA/F7D,YAAY/I,EAAE0B,SAAS9C,EAAE8N,qBAAqBzM,EAAE0M,sBAAsB7N,EAAE8C,kBAAkBlD,GAAEkO,EAAI5N,KAAKwM,mDAAmDxL,EAAEpB,EAAEqB,EAAEnB,EAAEJ,EAAE,GAAG6G,EAAAA,GAAE,CAACsH,2BAAAA,CAA4B7M,GAAG,OAAOhB,KAAKmI,iBAAiB2E,KAAK,MAAM3H,OAAOnF,KAAKwE,KAAKC,MAAMU,OAAO2I,QAAQ9N,KAAK+N,mBAAmBC,IAAe,IAAbF,QAAQlO,GAAEoO,GAAKhO,KAAK+H,sBAAsB/G,EAAEwB,YAAYC,UAAU7C,GAAGoB,EAAEyC,0BAA0B,GAAG,CAACwK,+BAAAA,CAAgCjN,GAAG,OAAOhB,KAAKmI,iBAAiB2E,KAAK,IAAI9M,KAAKwE,KAAK0J,aAAa,KAAKlN,EAAEwB,YAAYC,SAAQ,EAAGzB,EAAEyC,0BAA0B,GAAG,CAAC0K,8BAAAA,CAA+BnN,GAAG,MAAMpB,EAAEA,CAACqB,EAAEnB,KAAK,MAAMJ,EAAEM,KAAK+L,SAASrJ,SAASpC,EAAEU,EAAEa,OAAO,IAAIlC,EAAE,KAAKY,EAAE,KAAKd,EAAE,KAAKyB,EAAE,KAAKT,EAAE,KAAK8F,EAAE,KAAK,GAAG,OAAO,OAAD7G,QAAC,IAADA,OAAC,EAADA,EAAGO,UAAS,CAAC,MAAMe,GAAE8D,EAAAA,EAAAA,eAAEpF,EAAEO,SAASD,KAAKwE,KAAKwB,kBAAkB,GAAG,MAAMhF,EAAEoM,QAAQ,OAAOpN,KAAKmI,iBAAiBmF,WAAWtM,EAAEoM,cAAcpM,EAAEoM,QAAQgB,SAAS,IAAIxO,EAAEqB,EAAEnB,KAAKH,EAAEqB,EAAEqM,SAAS9M,EAAEb,EAAEQ,cAAcT,EAAEC,EAAES,OAAO,CAAC,GAAG,MAAMG,EAAEL,SAAS,CAAC,MAAMe,GAAE8D,EAAAA,EAAAA,eAAExE,EAAEL,SAASD,KAAKwE,KAAKwB,kBAAkB,GAAG,MAAMhF,EAAEoM,QAAQ,OAAOpN,KAAKmI,iBAAiBmF,WAAWtM,EAAEoM,cAAcpM,EAAEoM,QAAQgB,SAAS,IAAIxO,EAAEqB,EAAEnB,KAAKoB,EAAEF,EAAEqM,SAAS5M,EAAEH,EAAEJ,cAAcqG,EAAEjG,EAAEH,OAAO,CAAC,MAAMR,GAAG,MAAMuB,KAAIiG,EAAAA,EAAAA,GAAElG,EAAEnB,EAAEuO,GAAErO,KAAKwE,KAAKwB,kBAAkB,MAAMrG,IAAGsG,EAAAA,EAAAA,IAAEoI,GAAE1O,IAAIK,KAAK6L,0BAA0B,MAAMnM,EAAEA,EAAEO,SAAS,KAAKN,EAAEY,EAAEd,GAAE,GAAI,MAAMyB,IAAG+E,EAAAA,EAAAA,IAAEoI,GAAEnN,IAAIlB,KAAKyM,wBAAwBzL,EAAEV,EAAEL,SAASiB,EAAET,EAAE8F,GAAE,GAAI,MAAM5G,GAAG,MAAMuB,IAAGgF,EAAAA,EAAAA,IAAEmI,GAAE1O,EAAEuB,IAAIF,EAAEyC,2BAA2B,EAAE,OAAOzD,KAAKwE,KAAK8J,kBAAkBC,GAAG,oBAAoBC,IAAA,IAAEC,OAAOzN,EAAEgF,iBAAiB/E,GAAEuN,EAAA,OAAG5O,EAAEoB,EAAEC,EAAE,GAAE,CAACyN,yBAAAA,CAA0B1N,GAAG,IAAIpB,EAAE,KAAK,MAAMqB,EAAE,CAAC8I,YAAY/I,EAAEmK,kBAAkB,CAACC,sBAAqB5E,EAAAA,EAAAA,MAAI6E,kBAAiB7E,EAAAA,EAAAA,MAAI8E,gBAAe9E,EAAAA,EAAAA,QAAM,OAAO7G,EAAAA,EAAAA,IAAE,CAACK,KAAKmI,iBAAiB2E,KAAK,IAAI9L,EAAEwB,cAAc,KAAK5C,GAAEsB,EAAAA,EAAAA,IAAEtB,GAAGA,GAAEE,EAAAA,EAAAA,KAAG6O,gBAAgBlO,EAAAA,EAAAA,IAAET,KAAKoI,WAAWwG,UAAU,IAAI5O,KAAK8J,eAAe7I,IAAID,GAAG,GAAG,GAAG,CAAC6N,SAAQ,EAAGzO,OAAOA,KAAI,KAAKG,EAAAA,EAAAA,KAAG,IAAIX,GAAEsB,EAAAA,EAAAA,IAAEtB,MAAM,CAACkP,mBAAAA,CAAoB9N,GAAG,MAAMpB,EAAEI,KAAKsI,oBAAoB1I,EAAEmP,IAAI/N,IAAIpB,EAAEkN,IAAI,CAAC9M,KAAK6M,4BAA4B7L,GAAGhB,KAAKuN,8BAA8BvM,GAAGhB,KAAKyN,yCAAyCzM,GAAGhB,KAAK6N,4BAA4B7M,GAAGhB,KAAKiO,gCAAgCjN,GAAGhB,KAAKmO,+BAA+BnN,GAAGhB,KAAK0O,0BAA0B1N,IAAIA,EAAE,CAACgO,sBAAAA,CAAuBhO,GAAGhB,KAAKsI,oBAAoB2G,OAAOjO,EAAE,CAACkO,8BAAAA,CAA8BC,GAAqB,IAAnBC,MAAMpO,EAAEqO,QAAQzP,GAAEuP,EAAE,IAAI,MAAMlO,KAAKrB,EAAEI,KAAKgP,uBAAuB/N,GAAG,IAAI,MAAMA,KAAKD,EAAEhB,KAAK8O,oBAAoB7N,EAAE,CAACqO,yBAAAA,CAAyBC,GAAqB,IAAnBH,MAAMpO,EAAEqO,QAAQzP,GAAE2P,EAAE,IAAI,MAAMtO,KAAKrB,EAAEI,KAAKwP,cAAcvO,GAAG,IAAI,MAAMA,KAAKD,EAAEhB,KAAKyP,WAAWxO,EAAE,CAACyO,qBAAAA,CAAsB1O,EAAEpB,GAAG,MAAMA,GAAGI,KAAKwP,cAAc5P,GAAG,MAAMoB,GAAGhB,KAAKyP,WAAWzO,EAAE,CAACyO,UAAAA,CAAWzO,GAAGhB,KAAKoJ,cAAcuG,MAAM/P,GAAGA,EAAEiC,SAASb,KAAKhB,KAAKoJ,cAAc0D,IAAI,IAAI8C,EAAE,CAAC/N,OAAOb,IAAI,CAACwO,aAAAA,CAAcxO,GAAG,MAAMpB,EAAEI,KAAKoJ,cAAcyG,WAAWjQ,GAAGA,EAAEiC,SAASb,IAAIhB,KAAKoJ,cAAc0G,SAASlQ,EAAE,CAACoJ,gBAAAA,GAAmB,OAAOrJ,EAAAA,EAAAA,IAAE,CAACK,KAAKmI,iBAAiB2E,KAAK,MAAMiD,iBAAiB,MAAM/P,KAAK+L,SAASrJ,SAAS1C,KAAK+L,SAASrJ,SAASzC,SAAS,KAAK+P,2BAA0BlL,EAAAA,EAAAA,eAAE,MAAM9E,KAAK+L,SAASrJ,SAAS1C,KAAK+L,SAASrJ,SAASzC,SAAS,KAAKD,KAAKwE,KAAKwB,kBAAkBiK,sBAAsB,MAAMjQ,KAAK+L,SAASrJ,SAAS1C,KAAK+L,SAASrJ,SAASxC,cAAc,KAAKgQ,oBAAoB,MAAMlQ,KAAK+L,SAASrJ,SAAS1C,KAAK+L,SAASrJ,SAASvC,QAAQ,SAASgQ,IAAkG,IAAhGJ,iBAAiB/O,EAAEgP,0BAA0BpQ,EAAEqQ,sBAAsBhP,EAAEiP,oBAAoBpQ,GAAEqQ,EAAI,MAAMvQ,EAAEwN,QAAQpN,KAAK6L,0BAA0B7K,EAAEpB,EAAEyN,SAASpM,EAAEnB,GAAE,GAAIE,KAAKmI,iBAAiBmF,WAAW1N,EAAEwN,QAAQ,GAAG7G,EAAAA,KAAI,CAAC0C,oBAAAA,GAAuB,OAAOjJ,KAAKmI,iBAAiBiI,uBAAuB,IAAIpQ,KAAKoJ,gBAAgBpI,GAAGhB,KAAKkP,+BAA+BlO,IAAI,CAAC6N,SAAQ,EAAGwB,OAAM,GAAI,CAACnH,eAAAA,GAAkB,OAAOvJ,EAAAA,EAAAA,IAAE,CAACK,KAAKmI,iBAAiBiI,uBAAuB,IAAIpQ,KAAK+L,SAASuE,UAAUtP,GAAGhB,KAAKsP,0BAA0BtO,IAAI,CAAC6N,SAAQ,EAAGwB,OAAM,IAAKrQ,KAAKmI,iBAAiB2E,KAAK,IAAI9M,KAAKwJ,iBAAiB+G,eAAe,CAACvP,EAAEpB,KAAKI,KAAK0P,sBAAsB1O,EAAEpB,EAAE,KAAK,CAAC,kBAAImO,GAAiB,MAAM/M,EAAEhB,KAAKwJ,iBAAiBkC,0BAA0BlH,KAAK5E,GAAGI,MAAM6F,mBAAmB5E,GAAGrB,EAAE,GAAG,MAAMoB,GAAG,MAAMC,EAAE,OAAM,EAAG,MAAMnB,EAAEkL,EAAE/J,EAAEqL,eAAetL,EAAElB,GAAG,MAAMJ,EAAEE,EAAE6E,MAAMU,OAAO0E,yBAAyB/J,GAAG,OAAO2H,KAAKC,KAAKhI,EAAEM,KAAK4J,kBAAkB5J,KAAK4J,kBAAkB4G,CAAC,CAACvE,0BAAAA,CAA2BjL,EAAEpB,GAAG,OAAOoB,EAAEyP,KAAM,OAAD7Q,QAAC,IAADA,EAAAA,EAAG,CAACyM,KAAK,kBAAkBqE,OAAO,GAAG,CAACrE,KAAK,gBAAgBqE,OAAO,EAAE,IAAG1P,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC4D,eAAc,KAAM8B,EAAElF,UAAU,gBAAW,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC4D,eAAc,KAAM8B,EAAElF,UAAU,wBAAmB,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC4D,eAAc,KAAM8B,EAAElF,UAAU,YAAO,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,WAAW,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,WAAW,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,4BAAuB,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,gBAAgB,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,+CAA+C,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,wCAAmC,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,uCAAkC,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,0BAAqB,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,mBAAmB,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACsQ,UAAS,KAAM5K,EAAElF,UAAU,wBAAmB,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,kBAAa,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK0F,EAAElF,UAAU,iBAAiB,MAAMkF,GAAE/E,EAAAA,EAAAA,GAAE,EAAC4G,EAAAA,EAAAA,GAAE,6DAA6D7B,GAAG,MAAMyK,EAAE,GAAGxF,GAAExE,EAAAA,EAAAA,MAAI6D,GAAEuG,EAAAA,EAAAA,MAAIvC,IAAEjH,EAAAA,EAAAA,MAAI0D,GAAE,I,sFCA3sd,MAAMxK,GAAE,IAApE,MAAQT,WAAAA,GAAcG,KAAK6Q,UAAU,EAAE7Q,KAAK8Q,WAAW,GAAG,GAAgJ,MAAMrQ,GAAE,IAA5C,MAAQZ,WAAAA,GAAcG,KAAK+Q,KAAK,EAAE,GAAgB,SAAStR,GAAEK,GAAG,OAAOF,EAAAA,GAAAA,IAAEE,EAAEkR,YAAY,IAAI,CAAoK,MAAM9P,GAAE,IAA3K,MAAQrB,WAAAA,GAAcG,KAAK+Q,KAAK,GAAG/Q,KAAKiR,aAAa,IAAInR,GAAAA,EAAE,CAAC,EAAE,IAAI,IAAI,MAAME,KAAKkR,cAAc,IAAIpR,GAAAA,EAAE,CAAC,IAAI,EAAE,GAAG,MAAME,KAAKmR,eAAe,IAAIrR,GAAAA,EAAE,CAAC,IAAI,IAAI,IAAI,KAAK,GAA+V,MAAMoF,GAAE,IAAvV,MAAQrF,WAAAA,GAAcG,KAAK8Q,WAAW,EAAE9Q,KAAKoR,WAAW,EAAEpR,KAAKqR,kBAAkB,IAAIvR,GAAAA,EAAE,CAAC,EAAE,IAAI,IAAI,IAAIE,KAAKsR,kBAAkB,IAAIxR,GAAAA,EAAE,CAAC,EAAE,IAAI,IAAI,MAAME,KAAKuR,mBAAmB,IAAIzR,GAAAA,EAAE,CAAC,IAAI,EAAE,GAAG,IAAIE,KAAKwR,mBAAmB,IAAI1R,GAAAA,EAAE,CAAC,IAAI,EAAE,GAAG,KAAKE,KAAKyR,oBAAoB,IAAI3R,GAAAA,EAAE,CAAC,IAAI,IAAI,IAAI,IAAIE,KAAK0R,oBAAoB,IAAI5R,GAAAA,EAAE,CAAC,IAAI,IAAI,IAAI,IAAI,G,wCCA3oB,SAASF,GAAEE,EAAEmB,GAAG,IAAIrB,EAAE,KAAK,MAAMU,EAAER,EAAE6R,OAAOpD,GAAG,gBAAgBvN,IAAI,MAAMpB,IAAIA,EAAEqP,SAASrP,EAAE,MAAM,UAAUoB,EAAE4Q,QAAQhS,EAAEE,EAAE+R,iBAAiB5Q,GAAGA,EAAED,IAAIC,GAAGA,EAAED,EAAE,IAAI,OAAOA,EAAAA,EAAAA,KAAG,KAAI,IAAA8Q,EAAE,QAADA,EAAAlS,SAAC,IAAAkS,GAADA,EAAG7C,SAAS3O,EAAE2O,QAAQ,GAAG,C,4BCAuO,MAAMnO,WAAUnB,GAAAA,EAAEE,WAAAA,CAAYmB,EAAEtB,GAAG,MAAMC,GAAEsB,EAAAA,GAAAA,IAAEnB,GAAEkB,EAAE+Q,iBAAiBtS,GAAEgB,EAAAA,GAAAA,IAAEd,EAAEW,GAAEyQ,KAAK,GAAG,IAAIjQ,EAAE,IAAIC,GAAAA,EAAEtB,GAAGM,MAAM,CAACyE,KAAKxD,EAAEgR,cAAc,CAAClR,GAAGmR,SAASvS,EAAEQ,cAAc,CAACmM,KAAK,kBAAkBqE,OAAO,KAAKnQ,GAAEP,MAAMA,KAAKkS,aAAYtS,EAAAA,EAAAA,KAAG,MAAMuS,MAAMrS,GAAEkB,EAAE+Q,oBAAoB/Q,IAAIrB,EAAEyS,cAAcpR,EAAE,GAAG,CAACmI,OAAAA,GAAUnJ,KAAKkS,YAAYjD,SAASlP,MAAMoJ,SAAS,EAAE,MAAM5C,WAAU5G,GAAAA,EAAEE,WAAAA,CAAYmB,EAAEpB,GAAG,MAAMmR,KAAKjR,EAAEmR,aAAa3Q,EAAE4Q,cAAcvR,EAAEwR,eAAelQ,GAAGvB,GAAEK,MAAM,CAACyE,KAAKxD,EAAEgR,cAAc,CAAC9Q,GAAEpB,EAAEQ,EAAEb,GAAAA,GAAE4S,SAASnR,GAAEpB,EAAEH,EAAEF,GAAAA,GAAE6S,SAASpR,GAAEpB,EAAEmB,EAAExB,GAAAA,GAAE8S,UAAUN,SAASrS,EAAEM,cAAc,CAACmM,KAAK,kBAAkBqE,OAAO,KAAKnQ,GAAEP,KAAK,EAAE,SAASkB,GAAEtB,EAAEE,EAAEQ,GAAG,OAAO,IAAIS,GAAAA,GAAEN,EAAAA,GAAAA,KAAEQ,EAAAA,GAAAA,IAAED,GAAAA,EAAEwR,WAAW1S,IAAIF,EAAE,GAAG,IAAIU,EAAE,C,ICA+lBkK,G,wEAAG,SAASxJ,GAAGA,EAAEyR,MAAM,QAAQzR,EAAE0R,SAAS,WAAW1R,EAAE2R,QAAQ,SAAS,CAArE,CAAuEnI,KAAIA,GAAE,CAAC,IAAI,IAAIrD,GAAE,cAAcoE,GAAAA,EAAE1L,WAAAA,CAAYmB,GAAGjB,MAAMiB,GAAGhB,KAAK4S,0BAAyB,EAAG5S,KAAKwJ,iBAAiB,KAAKxJ,KAAK6S,8BAA8B,KAAK7S,KAAK8S,wBAAwB,KAAK9S,KAAK+S,oBAAoB,KAAK/S,KAAKgT,iBAAiB,IAAI/R,EAAAA,EAAEjB,KAAKmI,iBAAiB,IAAInB,EAAAA,EAAEhH,KAAKiT,oBAAoB,IAAIhS,EAAAA,EAAEjB,KAAKkT,0BAA0B,IAAI,CAAC7O,UAAAA,GAAarE,KAAK8I,aAAa,IAAI5B,EAAE,CAAC1C,KAAKxE,KAAKwE,OAAOxE,KAAK+I,YAAWjJ,EAAAA,EAAAA,KAAG,IAAIE,KAAKyE,QAAQzD,IAAIA,IAAIwJ,GAAEmI,SAAS3S,KAAKmT,oBAAoB,GAAG1T,EAAAA,KAAIO,KAAKoT,qBAAqBpT,KAAKqT,6BAA6BrT,KAAKsT,mBAAmBtT,KAAK+I,WAAW,CAAC/I,KAAKmI,iBAAiB2E,KAAK,SAAAyG,EAAA,OAAyB,QAAzBA,EAAIvT,KAAKwJ,wBAAgB,IAAA+J,OAAA,EAArBA,EAAuB7H,wBAAwB,IAAG1K,GAAGhB,KAAKwT,0BAA0BxS,IAAIE,EAAAA,IAAGlB,KAAKmI,iBAAiB2E,KAAK,IHAt+E,SAAWhN,GAAG,MAAMF,EAAEE,EAAEkR,YAAY,MAAM,CAACyC,UAAU7T,EAAE8T,YAAWzS,EAAAA,GAAAA,IAAErB,GAAG+T,YAAY,IAAI/T,EAAEW,EAAE,CGA+4EgE,CAAEvE,KAAKwE,KAAKuN,kBAAkB7G,IAAA,IAAEuI,UAAUzS,EAAE0S,WAAW9T,EAAE+T,YAAYjU,GAAEwL,EAAA,OAAGlL,KAAK4T,sBAAsB5S,EAAEpB,EAAEF,EAAE,GAAEwB,EAAAA,IAAGlB,KAAKmI,iBAAiB2E,KAAK,IAAI9M,KAAK6T,mCAAmC7S,GAAGhB,KAAK8T,yBAAyB9S,KAAKhB,KAAKiJ,uBAAuBjJ,KAAKmI,iBAAiB4L,SAAS,KAAK/T,KAAKgU,uBAAuB,IAAIhU,KAAKiU,uBAAuB/S,EAAAA,KAAI,CAACiI,OAAAA,GAAUnJ,KAAKmI,kBAAiBxI,EAAAA,EAAAA,IAAEK,KAAKmI,kBAAkBnI,KAAKiT,qBAAoBtT,EAAAA,EAAAA,IAAEK,KAAKiT,qBAAqBjT,KAAKgT,kBAAiBrT,EAAAA,EAAAA,IAAEK,KAAKgT,kBAAkBhT,KAAKoT,qBAAqB,KAAKpT,KAAKiU,sBAAsBjU,KAAKkU,mBAAmBlU,KAAK8I,aAAa,KAAK9I,KAAKmU,KAAK,WAAW,KAAK,CAAC,SAAI1P,GAAO,IAAA2P,EAAC,OAAOpU,KAAKqU,OAAOrU,KAAKsU,uBAAuB9J,GAAEmI,QAAQnI,GAAEkI,SAAS,OAA4B,QAAxB0B,EAAEpU,KAAK+L,SAASrJ,gBAAQ,IAAA0R,OAAA,EAAtBA,EAAwBnU,UAASuK,GAAEmI,QAAQnI,GAAEiI,KAAK,CAAC,UAAI8B,GAAS,OAAOvU,KAAKqU,QAAQrU,KAAKwU,aAAa,YAAY,IAAI,CAAC,YAAIlL,GAAW,OAAO,MAAMtJ,KAAKwJ,kBAAkBxJ,KAAKwJ,iBAAiBF,UAAUtJ,KAAKmI,iBAAiBmB,QAAQ,CAAC,gBAAIkL,GAAe,OAAOxU,KAAKqU,QAAQ,UAAUrU,KAAK6S,6BAA6B,CAAC,wBAAImB,GAAsB,IAAAS,EAAC,OAAOzU,KAAKwU,cAAc,OAA4B,QAAxBC,EAAEzU,KAAK+L,SAASrJ,gBAAQ,IAAA+R,OAAA,EAAtBA,EAAwBxU,YAAWD,KAAKsU,sBAAsB,CAACI,WAAW1U,KAAKwE,KAAKmQ,WAAW3U,IAAI,CAAC4U,IAAAA,GAAO5U,KAAKwE,KAAKmQ,WAAW,IAAI,CAACE,gBAAAA,GAAmB7U,KAAKwJ,iBAAiBsL,SAAS9U,KAAK+U,kBAAkB,CAACC,YAAAA,CAAahU,GAAG,OAAOA,EAAER,MAAM,IAAI,yBAAyBR,KAAKiV,oBAAoBjU,GAAG,MAAM,IAAI,WAAWhB,KAAKkV,gBAAgBlU,GAAG,MAAM,IAAI,eAAehB,KAAKmV,oBAAoBnU,GAAG,CAACoU,iBAAAA,CAAkBpU,GAAM,oBAAoBA,EAAER,MAAKR,KAAKqV,cAAcrU,EAAE,CAACsU,MAAAA,GAAS,CAACC,MAAAA,GAAS,CAACC,YAAAA,GAAexV,KAAKiU,qBAAqB,CAAChL,oBAAAA,GAAuB,OAAOjJ,KAAKmI,iBAAiBiI,uBAAuB,IAAIpQ,KAAKwJ,iBAAiBC,eAAezI,GAAGhB,KAAKyV,gCAAgCzU,IAAI,CAAC6N,SAAQ,EAAGwB,OAAM,GAAI,CAACoF,+BAAAA,CAA+BhK,GAAqB,IAAnB2D,MAAMpO,EAAEqO,QAAQzP,GAAE6L,EAAE,IAAI,MAAM/L,KAAKE,EAAEI,KAAKgP,uBAAuBtP,GAAG,IAAI,MAAMA,KAAKsB,EAAEhB,KAAK8O,oBAAoBpP,EAAE,CAACoP,mBAAAA,CAAoB9N,GAAG,GAAGhB,KAAK0V,UAAU,YAAYpV,EAAAA,EAAE0L,UAAUhM,MAAM2V,KAAK,gFAAgF,MAAM/V,EAAEI,KAAKgT,iBAAiB,GAAGpT,EAAEmP,IAAI/N,GAAG,OAAO,MAAMtB,EAAEM,KAAK4V,yBAAyB5U,EAAEa,QAAQ,MAAM7B,KAAKkT,2BAA2BxT,EAAEuS,SAASpQ,SAAS7B,KAAKwJ,iBAAiB+G,eAAevQ,KAAKkT,0BAA0BxT,EAAEM,KAAKkT,0BAA0B2C,WAAU,EAAG7V,KAAKkT,0BAA0B4C,aAAY,EAAG9V,KAAK8T,4BAA4BlU,EAAEkN,IAAI,CAAC9M,KAAKmI,iBAAiB2E,KAAK,IAAI9M,KAAK+V,4CAA4C/U,KAAK,IAAIhB,KAAKgW,wBAAwBtW,EAAEsB,IAAIE,EAAAA,IAAGlB,KAAKmI,iBAAiB2E,KAAK,IAAI9L,EAAEqB,iCAAiCrB,GAAGhB,KAAKiW,wBAAwBjV,EAAEtB,IAAIwB,EAAAA,KAAIF,EAAE,CAACgO,sBAAAA,CAAuBhO,GAAG,GAAGhB,KAAK0V,UAAU,YAAYpV,EAAAA,EAAE0L,UAAUhM,MAAM2V,KAAK,qFAAqF3V,KAAKgT,iBAAiB/D,OAAOjO,GAAG,MAAMpB,EAAEI,KAAKkW,sBAAsBlV,EAAEa,QAAQ,MAAMjC,IAAII,KAAKmW,aAAalH,OAAOrP,GAAGI,KAAKiT,oBAAoBhE,OAAOrP,GAAG,MAAMI,KAAKkT,2BAA2BlT,KAAKkT,4BAA4BtT,IAAII,KAAKkT,0BAA0B,MAAM,CAACe,mBAAAA,GAAsBjU,KAAKwJ,iBAAiB+G,cAAa5Q,EAAAA,EAAAA,IAAEK,KAAKwJ,iBAAiB+G,aAAa,CAACqF,wBAAAA,CAAyB5U,GAAG,MAAMpB,EAAE,CAACiC,OAAOb,EAAER,KAAK,UAAUd,EAAE,IAAIoB,GAAEd,KAAKwE,KAAK5E,GAAG,OAAOI,KAAKiT,oBAAoBnG,IAAI,CAAC9M,KAAKoW,qCAAqC1W,GAAGA,EAAEiS,OAAOpD,GAAG,gBAAgBvN,GAAGhB,KAAKqW,wBAAwB3W,EAAEsB,KAAKtB,EAAEiS,OAAOpD,GAAG,mBAAmBvN,GAAGhB,KAAKsW,kBAAkB5W,EAAEsB,MAAMtB,GAAGM,KAAKmW,aAAarJ,IAAIpN,GAAG,MAAMsB,EAAEf,SAASP,EAAE6W,yBAAyBvV,EAAEf,SAASP,EAAEmW,WAAU,EAAGnW,CAAC,CAACwW,qBAAAA,CAAsBlV,GAAG,IAAIpB,EAAE,KAAK,OAAOI,KAAKmW,aAAaK,SAAS9W,IAAI,MAAMa,EAAEb,EAAE+W,YAAY,MAAM7W,GAAG,WAAWW,EAAE0R,SAASzR,MAAMD,EAAE0R,SAASpQ,SAASb,IAAIpB,EAAEW,EAAE,IAAIX,CAAC,CAACyT,0BAAAA,GAA6B,MAAMrS,EAAE,IAAIoE,GAAEpF,KAAKwE,KAAK,CAAChE,KAAK,WAAW4C,aAAa,OAAO,OAAOpD,KAAKiT,oBAAoBnG,IAAI,CAAC9M,KAAK0W,uCAAuC1V,GAAGA,EAAE2Q,OAAOpD,GAAG,gBAAgB3O,GAAGI,KAAKqW,wBAAwBrV,EAAEpB,KAAKoB,EAAE2Q,OAAOpD,GAAG,mBAAmB3O,GAAGI,KAAKsW,kBAAkBtV,EAAEpB,MAAMoB,GAAGhB,KAAKmW,aAAarJ,IAAI9L,GAAGA,CAAC,CAAC2V,qBAAAA,GAAwB,OAAO3V,IAAI,MAAMpB,EAAEI,KAAK8I,aAAa9D,2BAA2BhE,EAAE4V,WAAW,OAAO,MAAMhX,EAAE,MAAIiX,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAA,GAAK7V,GAAC,IAACoC,aAAaxD,GAAE,CAAC,CAACwW,oCAAAA,CAAqCpV,GAAG,OAAO4H,EAAAA,GAAAA,IAAE5H,GAAG,CAACpB,EAAEF,EAAEa,KAAKb,EAAEoX,KAAK9W,KAAK2W,yBAAyBG,KAAK9W,KAAK+W,sBAAsB/V,IAAI8V,MAAM,IAAI9W,KAAK8T,6BAA6BvT,EAAEuW,KAAK9W,KAAKgX,sBAAsBhW,EAAEiR,SAASpQ,SAASiV,MAAM,IAAI9W,KAAK8T,4BAA4B,GAAG,CAAC4C,sCAAAA,CAAuC1V,GAAG,OAAO4H,EAAAA,GAAAA,IAAE5H,GAAG,CAACA,EAAEpB,EAAEF,KAAKE,EAAEkX,KAAK9W,KAAK2W,yBAAyBG,KAAK9W,KAAKiX,2BAA2BH,MAAM,IAAI9W,KAAK8T,6BAA6BpU,EAAEoX,KAAK9W,KAAKkX,2BAA2BJ,MAAM,IAAI9W,KAAK8T,4BAA4B,GAAG,CAACmD,uBAAAA,GAA0B,OAAOjW,IAAI,MAAMA,EAAEoC,aAAaQ,UAAU,MAAM5D,KAAK+L,SAASrJ,WAAW1C,KAAK+L,SAASrJ,SAAS,IAAIhD,GAAAA,GAAGM,KAAKmX,wBAAwBnX,KAAK+L,SAASrJ,SAAS1B,EAAEoC,eAAepD,KAAK+L,SAASrJ,SAAS,KAAK1B,EAAE,CAACkW,uBAAAA,GAAyB,IAAAE,EAAC,MAAMpW,EAAE,OAA4B,QAAxBoW,EAAEpX,KAAK+L,SAASrJ,gBAAQ,IAAA0U,OAAA,EAAtBA,EAAwBnX,UAASD,KAAK+L,SAASrJ,SAASiB,QAAQ,KAAK,OAAO/D,IAAII,KAAK+L,SAASrJ,SAAS1B,EAAEpB,EAAE,CAACmX,qBAAAA,CAAsB/V,GAAG,OAAOpB,IAAII,KAAKmX,wBAAwBnW,EAAEiR,SAASpQ,OAAOjC,EAAEwD,cAAc,MAAM1D,EAAEE,EAAEwD,aAAaQ,SAAS,OAAO,MAAMlE,IAAIsB,EAAEuV,yBAAyB7W,GAAGE,CAAC,CAAC,CAACoX,qBAAAA,CAAsBhW,GAAE,IAAAqW,EAAC,MAAMzX,EAAY,QAAXyX,EAACrW,EAAEf,gBAAQ,IAAAoX,OAAA,EAAVA,EAAY1T,QAAQ,OAAOjE,IAAIsB,EAAEf,SAASL,EAAEF,EAAE,CAAC2W,uBAAAA,CAAwBrV,EAAEpB,GAAG,OAAOA,EAAEgS,QAAQ,IAAI,QAAQ5R,KAAK+S,oBAAoB/R,EAAE,MAAM,IAAI,MAAMhB,KAAK+S,sBAAsB/R,IAAIhB,KAAK+S,oBAAoB,MAAM,CAACiD,uBAAAA,CAAwBhV,EAAEpB,GAAG,MAAM6C,QAAQ/C,EAAE2D,gBAAgB9C,GAAGX,EAAEqD,kBAAkBjC,EAAEyD,MAAM/E,EAAEa,EAAEuL,GAAAA,GAAEuG,QAAQvG,GAAAA,GAAEwG,QAAQxG,GAAAA,GAAEyG,OAAO,CAACwD,2CAAAA,CAA4C/U,GAAG,MAAMyB,QAAQ7C,EAAEyD,gBAAgB3D,GAAGsB,EAAEiC,kBAAkB,MAAM,CAACR,QAAQ7C,EAAEyD,gBAAgB3D,EAAE,CAACmU,8BAAAA,GAAiC,MAAM,CAACyD,uBAAuBtX,KAAK8S,wBAAwByE,mBAAmBvX,KAAK+S,oBAAoByE,oBAAoBxX,KAAKgU,qBAAqBjE,iBAAiB,MAAM/P,KAAK+L,SAASrJ,SAAS1C,KAAK+L,SAASrJ,SAASzC,SAAS,KAAKqC,QAAQtC,KAAKsC,QAAQ,CAACwR,wBAAAA,GAAiE,IAAxC9S,EAAC0L,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC1M,KAAK6T,iCAAkC,MAAMyD,uBAAuB1X,EAAE2X,mBAAmB7X,EAAE8X,oBAAoBjX,EAAEwP,iBAAiB9O,EAAEqB,QAAQhC,GAAGU,EAAE,GAAG,MAAMpB,EAAE,OAAO,MAAMD,EAAE,MAAMD,EAAEA,EAAEa,GAAG,MAAMU,EAAEjB,KAAKkT,0BAA0B,KAAK,MAAMvT,GAAGW,GAAGV,EAAE0C,SAAQ,EAAG1C,EAAE6X,qBAAqB9X,EAAE+X,eAAe/X,IAAIK,KAAKoT,qBAAqBxT,EAAE+X,0BAAyB/P,EAAAA,GAAAA,IAAE5H,KAAKoT,qBAAqBsE,eAAe/X,EAAE+X,eAAe5S,IAAGlF,EAAE+X,yBAAyB,OAAO/X,EAAE0C,SAAQ,EAAG1C,EAAE6X,qBAAqB,KAAK7X,EAAE+X,yBAAyB,KAAK,CAACrE,gBAAAA,GAAmBtT,KAAKkU,mBAAmB,MAAMrD,UAAU7P,EAAE8P,WAAWlR,GAAG8D,GAAE1D,KAAK8S,wBAAwB,IAAI5N,GAAAA,EAAE,CAACV,KAAKxE,KAAKwE,KAAKoT,UAAS,EAAGtV,QAAQtC,KAAKsC,QAAQuV,MAAM,CAAChH,UAAU7P,EAAE8P,WAAWlR,GAAGkY,cAAa,GAAI,CAAC5D,gBAAAA,GAAmB,MAAMlU,KAAK8S,0BAA0B9S,KAAK8S,wBAAwB3J,UAAUnJ,KAAK8S,wBAAwB,KAAK,CAACc,qBAAAA,CAAsB5S,EAAEtB,EAAEa,GAAG,MAAMU,EAAEjB,KAAK8S,wBAAwB,GAAG,MAAM7R,EAAE,OAAO,MAAMX,EAAEW,EAAE4W,MAAM5W,EAAE4W,OAAKhB,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAA,GAAKvW,GAAC,IAACmT,UAAU7T,GAAAA,EAAEmY,UAAU/W,GAAG0S,WAAW9T,GAAAA,EAAEmY,UAAUrY,GAAGiU,YAAYpT,GAAE,CAACiT,yBAAAA,CAA0BxS,GAAG,MAAMA,GAAGhB,KAAKoT,qBAAqBnB,SAAS7O,aAAa,KAAKpD,KAAKoT,qBAAqByC,WAAU,EAAG7V,KAAKoT,qBAAqBmD,yBAAyBvV,GAAGhB,KAAKoT,qBAAqByC,WAAU,CAAE,CAACI,uBAAAA,CAAwBjV,EAAEpB,GAAG,MAAMoB,GAAGpB,EAAE2W,yBAAyBvV,EAAEpB,IAAII,KAAKkT,4BAA4BtT,EAAEiW,WAAU,IAAKjW,EAAEiW,WAAU,CAAE,CAACmC,uBAAAA,CAAwBhX,GAAE,IAAAiX,EAAC,MAAMrY,EAAEI,KAAK8I,aAAa9D,2BAA2BhE,GAAG,GAAG,OAAO,OAADpB,QAAC,IAADA,OAAC,EAADA,EAAGgE,UAAS,GAAG,OAA4B,QAAxBqU,EAAEjY,KAAK+L,SAASrJ,gBAAQ,IAAAuV,OAAA,EAAtBA,EAAwBhY,UAAS,CAACD,KAAKiU,sBAAsB,MAAMjT,EAAE,IAAIT,GAAAA,EAAEP,KAAKmX,wBAAwBnW,EAAEpB,GAAGI,KAAK+L,SAASuE,QAAQxD,IAAI9L,EAAE,KAAK,CAAC,MAAMA,EAAE,IAAItB,GAAAA,EAAEM,KAAKmX,wBAAwBnW,EAAEpB,GAAGI,KAAK+L,SAASrJ,SAAS1B,CAAC,CAAC,CAACqU,aAAAA,CAAcrU,GAAGhB,KAAKqU,QAAQrT,EAAEkX,SAAS9Q,GAAAA,EAAE+Q,QAAQnY,KAAKgY,yBAAwBxM,EAAAA,GAAAA,IAAExK,IAAIA,EAAEoX,kBAAkB,CAACnD,mBAAAA,CAAoBjU,GAAGhB,KAAKqU,QAAQrT,EAAEkX,SAAS9Q,GAAAA,EAAE+Q,QAAQnY,KAAK4U,OAAO5T,EAAEoX,kBAAkB,CAAClD,eAAAA,CAAgBlU,GAAGhB,KAAKqU,QAAQ,WAAWrT,EAAEqX,MAAMrY,KAAK4U,OAAO5T,EAAEoX,kBAAkB,CAACjD,mBAAAA,CAAoBnU,GAAE,IAAAsX,EAAC,GAAGtY,KAAKsU,uBAAuB,OAAO,GAAGtU,KAAK6S,8BAA8B7R,EAAEuX,YAAYvY,KAAK8T,4BAA4B9T,KAAKwU,cAAc,OAA4B,QAAxB8D,EAAEtY,KAAK+L,SAASrJ,gBAAQ,IAAA4V,OAAA,EAAtBA,EAAwBrY,UAAS,OAAO,MAAML,GAAE4L,EAAAA,GAAAA,IAAExK,GAAGtB,EAAEM,KAAK8I,aAAa9D,2BAA2BpF,GAAG,OAAO,OAADF,QAAC,IAADA,OAAC,EAADA,EAAGkE,YAAW,MAAM5D,KAAKwJ,iBAAiB+G,eAAevQ,KAAKwJ,iBAAiB+G,aAAa,IAAIhQ,GAAAA,GAAGP,KAAKmX,wBAAwBnX,KAAKwJ,iBAAiB+G,aAAa7Q,GAAGM,KAAK8T,2BAA2B,CAACqD,uBAAAA,CAAwBnW,EAAEpB,GAAG,GAAG,MAAMA,EAAEgE,SAAS,OAAO5C,EAAEf,SAAS,KAAKe,EAAEd,cAAc,UAAUc,EAAEb,QAAQ,MAAM,OAAOP,EAAEY,MAAM,KAAK0D,EAAAA,GAAEiC,OAAO,GAAG,MAAMvG,EAAEoE,QAAQ,CAAC,MAAMtE,EAAEE,EAAEoE,QAAQzD,GAAE0K,EAAAA,EAAAA,IAAEvL,GAAG,kBAAkBa,EAAE8L,OAAO9L,EAAE8L,KAAK,qBAAqB9L,EAAEmQ,OAAO,GAAG1P,EAAEd,cAAc,IAAIwG,GAAAA,EAAEnG,GAAGS,EAAEb,QAAQT,CAAC,MAAMsB,EAAEd,cAAc,KAAKc,EAAEb,QAAQ,KAAK,MAAM,KAAK+D,EAAAA,GAAEyC,QAAQ3F,EAAEd,cAAc,IAAIwG,GAAAA,EAAE,CAAC2F,KAAK,kBAAkBrL,EAAEb,QAAQ,KAAK,MAAM,QAAQa,EAAEd,cAAc,KAAKc,EAAEb,QAAQ,KAAK,MAAMT,EAAEE,EAAEgE,SAASD,QAAQjE,EAAE2I,GAAEtH,EAAAA,EAAAA,IAAEf,KAAKwE,KAAK9E,EAAE,CAAC2M,KAAK,kBAAkBqE,OAAO,GAAG1P,EAAEd,eAAec,EAAEf,SAASP,CAAC,CAAC4W,iBAAAA,CAAkBtV,EAAEpB,GAAG,GAAG,aAAaoB,EAAEiR,SAASzR,MAAMQ,EAAEwX,UAAUxX,EAAEyX,UAAU7Y,EAAEsY,SAAS9Q,GAAAA,EAAE+Q,OAAOnY,KAAK+L,SAASuE,QAAQ3D,QAAQ,EAAE,OAAO,MAAM9K,OAAOnC,GAAGsB,EAAEiR,SAASjS,KAAK+L,SAASuE,QAAQrB,OAAOvP,GAAGE,EAAEwY,iBAAiB,CAAC,YAAIM,GAAW,MAAM,CAACC,uBAAuB3Y,KAAK8S,wBAAwB8F,qBAAqB5X,GAAGhB,KAAKkW,sBAAsBlV,GAAG,IAAGA,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC4D,eAAc,KAAMkD,GAAEtG,UAAU,YAAO,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC4D,eAAc,KAAMkD,GAAEtG,UAAU,gBAAW,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACsQ,UAAS,KAAMxJ,GAAEtG,UAAU,QAAQ,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACsQ,UAAS,KAAMxJ,GAAEtG,UAAU,SAAS,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK8G,GAAEtG,UAAU,gCAA2B,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACsQ,UAAS,KAAMxJ,GAAEtG,UAAU,WAAW,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC4D,eAAc,KAAMkD,GAAEtG,UAAU,wBAAmB,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACsQ,UAAS,KAAMxJ,GAAEtG,UAAU,eAAe,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK8G,GAAEtG,UAAU,qCAAgC,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK8G,GAAEtG,UAAU,uBAAuB,OAAMG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK8G,GAAEtG,UAAU,+BAA0B,IAAQG,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAK8G,GAAEtG,UAAU,2BAAsB,GAAQsG,IAAEnG,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,GAAE,wEAAwE0G,IAAG,MAAMrC,IAAEyB,EAAAA,GAAAA,M,gBCAhyZ,MAAMvF,GAAEnB,WAAAA,CAAYmB,EAAEtB,EAAEE,EAAED,GAAGK,KAAK6Y,yBAAyB7X,EAAEhB,KAAK8Y,0BAA0BpZ,EAAEM,KAAK+Y,2BAA2BnZ,EAAEI,KAAKgZ,oBAAoBrZ,CAAC,CAACwJ,OAAAA,GAAUnJ,KAAK6Y,yBAAyB1P,UAAUnJ,KAAK8Y,0BAA0B3P,UAAUnJ,KAAK+Y,2BAA2B5P,UAAUnJ,KAAKgZ,oBAAoB7P,SAAS,E,uCCA2+B,IAAIhC,GAAE,cAAcvH,EAAAA,EAAEC,WAAAA,CAAYmB,GAAGjB,MAAMiB,GAAGhB,KAAKiZ,2BAA2B,IAAIC,MAAMlZ,KAAKsI,oBAAoB,IAAIxI,EAAAA,EAAEE,KAAKmI,iBAAiB,IAAInB,EAAAA,CAAC,CAAC3C,UAAAA,GAAarE,KAAK+I,WAAW/I,KAAKiJ,wBAAwBjJ,KAAKmZ,8BAA8B,CAAChQ,OAAAA,GAAUnJ,KAAKmI,kBAAiBxI,EAAAA,EAAAA,IAAEK,KAAKmI,kBAAkBnI,KAAKsI,qBAAoB3I,EAAAA,EAAAA,IAAEK,KAAKsI,qBAAqBtI,KAAKoZ,wBAAuBzZ,EAAAA,EAAAA,IAAEK,KAAKoZ,uBAAuB,CAAC,WAAI9W,GAAU,OAAOtC,KAAKwJ,iBAAiBlH,OAAO,CAAC,YAAIgH,GAAW,OAAOtJ,KAAKmI,iBAAiBmB,QAAQ,CAAC,0BAAI+P,GAAyB,OAAOrZ,KAAKwJ,iBAAiBsM,aAAa9V,KAAKwJ,iBAAiBsL,QAAQ,CAAC,QAAIwE,GAAO,MAAM,CAACC,wBAAwBA,KAAK,IAAI,MAAMvY,KAAKhB,KAAKiZ,2BAA2BjY,EAAE6X,yBAAyBW,eAAejV,GAAAA,GAAEkV,QAAQzY,EAAE8X,0BAA0BU,eAAejV,GAAAA,GAAEkV,QAAQzY,EAAE+X,2BAA2BS,eAAejV,GAAAA,GAAEkV,OAAO,EAAEC,eAAe1Z,KAAKiZ,2BAA2B,CAACU,+BAAAA,GAAkC,MAAM3Y,EAAEX,GAAET,EAAEI,KAAKwE,KAAK1E,EAAEE,KAAK8X,aAAa7W,EAAE,CAACuD,KAAK5E,EAAEgY,UAAS,EAAGgC,MAAM5Y,EAAEoQ,WAAWN,WAAW9P,EAAE8P,WAAWgH,aAAahY,GAAGH,EAAED,GAAAA,EAAE8S,WAAWxR,EAAEsQ,mBAAmBhR,EAAEZ,GAAAA,EAAE8S,WAAWxR,EAAEqQ,mBAAmB5R,EAAEC,GAAAA,EAAE8S,WAAWxR,EAAEwQ,oBAAoBjR,EAAEb,GAAAA,EAAE8S,WAAWxR,EAAEuQ,oBAAoB9Q,EAAEf,GAAAA,EAAE8S,WAAWxR,EAAE0Q,qBAAqBnL,EAAE7G,GAAAA,EAAE8S,WAAWxR,EAAEyQ,qBAAqBvQ,EAAE,IAAI0G,GAAAA,GAACiP,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAC,CAAC,EAAG5V,GAAC,IAACkR,MAAMxS,EAAE+T,WAAWpT,KAAIS,EAAE,IAAI6G,GAAAA,GAACiP,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAC,CAAC,EAAG5V,GAAC,IAACkR,MAAM1S,EAAEiU,WAAWnT,KAAIyG,EAAE,IAAIY,GAAAA,GAACiP,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAC,CAAC,EAAG5V,GAAC,IAACkR,MAAM1R,EAAEiT,WAAWnN,KAAIhC,EAAE,IAAIzD,GAAAA,GAAC+V,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAC,CAACrS,KAAK5E,EAAEgY,UAAS,GAAM3M,IAAC,IAAC8F,KAAK,EAAE+G,aAAahY,KAAIqH,EAAE,IAAIT,GAAExF,EAAEH,EAAEiG,EAAEzC,GAAG,OAAOvE,KAAKiZ,2BAA2BY,KAAK1S,GAAGA,CAAC,CAAC2S,gCAAAA,CAAiC9Y,GAAGA,EAAEmI,UAAUnJ,KAAKiZ,2BAA2Bc,OAAO/Z,KAAKiZ,2BAA2Be,QAAQhZ,GAAG,EAAE,CAACiZ,+BAAAA,CAAgCjZ,EAAEpB,EAAEE,GAAG,MAAMmB,EAAEZ,IAAG4C,kBAAkBtD,EAAE6C,YAAYlC,GAAGU,GAAGkC,MAAMzD,EAAE0D,IAAI5C,EAAE6C,aAAa3C,EAAEgC,QAAQ1B,EAAEsC,gBAAgB2D,GAAGrH,GAAG+C,SAASgE,GAAGpG,EAAEsH,EAAEwE,GAAExE,EAAE,IAAIlB,EAAE,GAAGkB,EAAE,IAAIlB,EAAE,GAAGkB,EAAE,IAAIlB,EAAE,GAAG,MAAM5F,GAAEyF,EAAAA,EAAAA,GAAEuF,GAAErM,EAAEiH,GAAGnC,GAAEgC,EAAAA,EAAAA,GAAE7C,GAAEnD,EAAEmG,GAAGS,GAAEZ,EAAAA,EAAAA,GAAErC,GAAEzD,EAAEiG,IAAImS,yBAAyB5N,EAAE6N,0BAA0BlI,EAAEmI,2BAA2B7T,EAAE8T,oBAAoB9R,GAAGtH,EAAEwH,EAAE,MAAMpH,KAAKwJ,iBAAiBkC,0BAA0B,MAAM1K,EAAEqB,+BAA+B4D,EAAEjG,KAAKsC,UAAU8E,EAAE6D,EAAE3I,QAAQ2D,EAAE2K,EAAEtO,QAAQ2D,EAAEf,EAAE5C,QAAQ2D,EAAEiB,EAAE5E,QAAQ2D,EAAEiB,EAAE0Q,UAAU9X,EAAEuZ,uBAAuBpT,IAAIgF,EAAEoC,SAAS,KAAKuD,EAAEvD,SAAS,KAAKnI,EAAEmI,SAAS,KAAKnG,EAAEmG,SAASrM,EAAEqB,+BAA+BtB,EAAEiG,GAAGiE,EAAEoC,SAAS,CAAC,EAACnM,EAAAA,EAAAA,IAAEJ,IAAGI,EAAAA,EAAAA,IAAEqD,KAAK0G,EAAEiP,UAAUtS,EAAEqD,EAAEkH,MAAMzS,GAAAA,EAAE8S,WAAWvR,EAAEqQ,mBAAmBpK,EAAEiL,MAAMzS,GAAAA,EAAE8S,WAAWvR,EAAEoQ,qBAAqBpG,EAAEoC,SAAS,CAAC,EAACnM,EAAAA,EAAAA,IAAEJ,IAAGI,EAAAA,EAAAA,IAAEiG,KAAK8D,EAAEiP,UAAUtS,EAAEqD,EAAEkH,MAAMzS,GAAAA,EAAE8S,WAAWvR,EAAEuQ,oBAAoBZ,EAAEvD,SAAS,CAAC,EAACnM,EAAAA,EAAAA,IAAEiG,IAAGjG,EAAAA,EAAAA,IAAEqD,KAAKqM,EAAEsJ,UAAUtS,EAAEV,EAAEiL,MAAMzS,GAAAA,EAAE8S,WAAWvR,EAAEsQ,sBAAsBrM,EAAEmI,SAAS,CAAC,EAACnM,EAAAA,EAAAA,IAAEJ,IAAGI,EAAAA,EAAAA,IAAEqD,KAAKW,EAAEgV,UAAUtS,EAAEV,EAAEiL,MAAMzS,GAAAA,EAAE8S,WAAWvR,EAAEwQ,sBAAsB,CAAC0I,wCAAAA,CAAyCnZ,GAAG,MAAMiC,kBAAkBvD,GAAGsB,GAAGwQ,mBAAmB5R,EAAE0R,kBAAkBxR,GAAGO,GAAE,MAAM,CAAC4C,kBAAkBvD,EAAE8R,mBAAmB5R,EAAE0R,kBAAkBxR,EAAEwC,QAAQtC,KAAKsC,QAAQ+W,uBAAuBrZ,KAAKqZ,uBAAuB,CAACvK,mBAAAA,CAAoB9N,GAAG,MAAMtB,EAAEM,KAAKsI,oBAAoB,GAAG5I,EAAEqP,IAAI/N,GAAG,OAAO,MAAMpB,EAAEI,KAAK2Z,kCAAkCja,EAAEoN,IAAI,CAAC9M,KAAKmI,iBAAiB2E,KAAK,IAAI9M,KAAKma,yCAAyCnZ,KAAKtB,GAAGM,KAAKia,gCAAgCjZ,EAAEpB,EAAEF,IAAI,CAACmP,SAAQ,EAAGzO,OAAOA,KAAI,KAAKa,EAAAA,EAAAA,KAAG,IAAIjB,KAAK8Z,iCAAiCla,MAAMoB,EAAE,CAACgO,sBAAAA,CAAuBhO,GAAGhB,KAAKsI,oBAAoB2G,OAAOjO,EAAE,CAACiI,oBAAAA,GAAuB,OAAOjJ,KAAKmI,iBAAiBiI,uBAAuB,IAAIpQ,KAAKwJ,iBAAiBC,eAAezI,GAAGhB,KAAKyV,gCAAgCzU,IAAI,CAAC6N,SAAQ,EAAGwB,OAAM,GAAI,CAACoF,+BAAAA,CAA+BvK,GAAqB,IAAnBkE,MAAMpO,EAAEqO,QAAQ3P,GAAEwL,EAAE,IAAI,MAAMtL,KAAKF,EAAEM,KAAKgP,uBAAuBpP,GAAG,IAAI,MAAMA,KAAKoB,EAAEhB,KAAK8O,oBAAoBlP,EAAE,CAACuZ,4BAAAA,GAA+B,MAAMnY,EAAEtB,GAAAA,EAAE8S,WAAWnS,GAAEgR,mBAAmBzR,EAAE,IAAIkB,GAAAA,GAAC+V,EAAAA,GAAAA,IAAAA,EAAAA,GAAAA,GAAC,CAACrS,KAAKxE,KAAKwE,KAAK2N,MAAMnR,GAAKiK,IAAC,IAAC6M,aAAa9X,KAAK8X,gBAAe9X,KAAKoZ,uBAAuBxZ,EAAEI,KAAK+I,WAAW/I,KAAKmI,iBAAiB2E,KAAK,MAAMpK,SAAS1C,KAAKwJ,iBAAiBkC,yBAAyB2N,uBAAuBrZ,KAAKqZ,uBAAuB/W,QAAQtC,KAAKsC,YAAYmJ,IAAmD,IAAjD/I,SAAS1B,EAAEqY,uBAAuB3Z,EAAE4C,QAAQxC,GAAE2L,EAAI,MAAMzK,IAAItB,GAAGI,GAAGF,EAAEyN,SAASrM,EAAEhB,KAAKoZ,uBAAuBxB,UAAS,GAAIhY,EAAEgY,UAAS,CAAE,GAAGtX,EAAAA,IAAG,IAAGU,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,IAAE,CAACwE,eAAc,KAAMkD,GAAEtG,UAAU,gBAAW,IAAQG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,IAAE,CAACwE,eAAc,KAAMkD,GAAEtG,UAAU,wBAAmB,IAAQG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,IAAE,CAACwE,eAAc,KAAMkD,GAAEtG,UAAU,YAAO,IAAQG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,IAAE,CAACkR,UAAS,KAAMxJ,GAAEtG,UAAU,UAAU,OAAMG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,IAAE,CAACwE,eAAc,KAAMkD,GAAEtG,UAAU,oBAAe,IAAQG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,OAAK0H,GAAEtG,UAAU,WAAW,OAAMG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,OAAK0H,GAAEtG,UAAU,yBAAyB,OAAMG,EAAAA,EAAAA,GAAE,EAACvB,EAAAA,EAAAA,OAAK0H,GAAEtG,UAAU,OAAO,MAAMsG,IAAEnG,EAAAA,EAAAA,GAAE,EAACT,EAAAA,EAAAA,GAAE,gEAAgE4G,IAAG,MAAM8D,GAAE,CAAC8F,KAAK,EAAEqJ,sBAAqB,EAAGC,UAAU,SAASna,cAAc,CAACmM,KAAK,kBAAkBqE,OAAO,GAAG4J,YAAY,GAAGxO,IAAE/K,EAAAA,EAAAA,MAAI2C,IAAE3C,EAAAA,EAAAA,MAAImD,IAAEnD,EAAAA,EAAAA,MAAIqL,IAAE3L,EAAAA,GAAAA,M,gBCApjK,IAAIM,GAAE,eAActB,EAAAA,EAAAA,GAAEK,EAAAA,EAAEgI,aAAapI,EAAAA,KAAKG,WAAAA,CAAYD,GAAGG,MAAMH,GAAGI,KAAKQ,KAAK,wBAAwBR,KAAK+L,SAAS,KAAK/L,KAAKua,KAAK,KAAKva,KAAKyJ,aAAa,IAAI9J,EAAAA,EAAEK,KAAK0L,yBAAyB,KAAK1L,KAAK2J,wBAAuB1I,EAAAA,EAAAA,MAAIjB,KAAKuQ,aAAa,KAAKvQ,KAAK8U,UAAS,CAAE,CAACzQ,UAAAA,GAAa,MAAMzE,EAAEI,KAAKwE,KAAK9E,EAAEM,KAAK+L,SAAS/L,KAAKwa,oBAAoB,IAAIna,EAAE,CAAC0L,SAASrM,EAAE8J,iBAAiBxJ,KAAKwE,KAAK5E,IAAII,KAAKya,uBAAuB,IAAIvZ,GAAE,CAAC6K,SAASrM,EAAE8J,iBAAiBxJ,KAAKwE,KAAK5E,EAAEkY,cAAc9X,KAAK0a,SAAS1a,KAAK+I,WAAW,CAAC/I,KAAKwa,oBAAoBjM,GAAG,kBAAkB3O,IAAIA,EAAEiC,SAAS7B,KAAKuQ,cAAcvQ,KAAKmK,KAAK,iBAAiBvK,EAAE,KAAIoH,EAAAA,GAAAA,IAAEhH,KAAK0D,KAAI,CAACyF,OAAAA,IAAU1I,EAAAA,GAAAA,IAAET,MAAMA,KAAKwa,qBAAoBla,EAAAA,EAAAA,IAAEN,KAAKwa,qBAAqBxa,KAAKya,wBAAuBna,EAAAA,EAAAA,IAAEN,KAAKya,uBAAuB,CAAC,WAAIjV,GAAU,OAAOxF,KAAKyJ,aAAakR,KAAK/a,GAAGA,EAAE0D,QAAQ,CAAC,YAAIiG,GAAW,OAAOvJ,KAAKwa,oBAAoBjR,QAAQ,CAAC,YAAIA,CAAS3J,GAAGI,KAAKwa,oBAAoBjR,SAAS3J,CAAC,CAAC,YAAI0J,GAAW,OAAO,MAAMtJ,KAAKwa,qBAAqBxa,KAAKwa,oBAAoBlR,UAAU,MAAMtJ,KAAKya,wBAAwBza,KAAKya,uBAAuBnR,QAAQ,CAACsR,kBAAAA,CAAmBhb,GAAE,IAAAib,EAAC,OAAgD,QAAhDA,EAAO7a,KAAKyJ,aAAaqR,MAAMpb,GAAGA,EAAEmC,SAASjC,WAAG,IAAAib,OAAA,EAAzCA,EAA2CvX,MAAM,CAAC,YAAIoV,GAAW,MAAM,CAACqC,cAAc/a,KAAKya,uBAAuBO,WAAWhb,KAAKwa,oBAAoB,IAAG5a,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,IAAE,CAAC2P,UAAS,KAAM5P,GAAEF,UAAU,YAAO,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,IAAE,CAACiD,eAAc,EAAGgX,aAAY,KAAMla,GAAEF,UAAU,gBAAW,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,YAAO,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,IAAE,CAAC2P,UAAS,KAAM5P,GAAEF,UAAU,UAAU,OAAMjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,WAAW,OAAMjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,oBAAe,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,gCAA2B,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,8BAAyB,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,oBAAe,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,WAAW,OAAMjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,gBAAW,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,2BAAsB,IAAQjB,EAAAA,EAAAA,GAAE,EAACoB,EAAAA,EAAAA,OAAKD,GAAEF,UAAU,8BAAyB,GAAQE,IAAEnB,EAAAA,EAAAA,GAAE,EAACW,EAAAA,EAAAA,GAAE,qDAAqDQ,IAAG,MAAMwF,GAAExF,E","sources":["../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import f from\"../symbols/support/ElevationInfo.js\";let l=class extends(i(s(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:c,json:{write:{isRequired:!0}}})],l.prototype,\"position\",void 0),o([a({type:f}),m()],l.prototype,\"elevationInfo\",void 0),o([a(e)],l.prototype,\"feature\",void 0),l=o([n(\"esri.analysis.LineOfSightAnalysisObserver\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as t}from\"./featureReferenceUtils.js\";import{Clonable as e}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import c from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(e)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:m}),n()],l.prototype,\"position\",void 0),o([p({type:c}),n()],l.prototype,\"elevationInfo\",void 0),o([p(t)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const f=l;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction e(e,l){return t(e)===t(l)}function t(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let l=null;return l=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==l?null:`o-${t}-${l}`}const l={json:{write:{writer:r,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:n}}}};function r(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function n(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}export{e as featureReferenceEquals,l as featureReferenceProperty,t as getFeatureId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);export{s as LineOfSightAnalysisResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,observerFeatureId:null,target:s(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as i}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{G as n}from\"../../../../chunks/vec32.js\";import{clone as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{equals as a}from\"../../../../geometry/support/ray.js\";var m;let y=m=class extends o{constructor(r){super(r)}clone(){return new m({type:this.type,id:s(this.id),mapPoint:s(this.mapPoint),renderPoint:c(this.renderPoint),normal:s(this.normal),ray:s(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&i(this.mapPoint,r.mapPoint)&&n(this.renderPoint,r.renderPoint)&&t(this.normal,r.normal)&&a(this.ray,r.ray)&&this.graphic===r.graphic}};r([e()],y.prototype,\"type\",void 0),r([e({constructOnly:!0})],y.prototype,\"id\",void 0),r([e({constructOnly:!0})],y.prototype,\"mapPoint\",void 0),r([e({constructOnly:!0})],y.prototype,\"renderPoint\",void 0),r([e({constructOnly:!0})],y.prototype,\"normal\",void 0),r([e({constructOnly:!0})],y.prototype,\"graphic\",void 0),r([e({constructOnly:!0})],y.prototype,\"ray\",void 0),y=m=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],y);export{y as LineOfSightIntersectionResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import r from\"../../../../core/Accessor.js\";import{screenPointObjectToArray as t}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as s,c as n,n as a,h as c,g as l}from\"../../../../chunks/vec32.js\";import{clone as p,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as u,copy as d,fromPoints as g}from\"../../../../geometry/support/ray.js\";import{sv2d as f}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as h}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as y}from\"./LineOfSightIntersectionResult.js\";import{isI3sIntersectorResult as j,isTiles3DIntersectorResult as I}from\"../../layers/i3s/Intersector.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as v}from\"../../terrain/Intersector.js\";import{newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as P,IntersectorType as R}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as x}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import U from\"../../../../geometry/Point.js\";let C=class extends r{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=b(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=P.MIN}getScreenPointIntersection(e){const r=t(e,f.get()),i=w(this.view.state.camera,r,T);return this._getRayIntersection(i)}_getRayIntersection(e,r){if(null==e||null==this.view.sceneIntersectionHelper)return null;const{intersector:t}=this;t.options.store=P.MIN,this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,t,r);const i=t.results.min,o=m();if(!i.getIntersectionPoint(o))return null;if(null!=r?.maxDistance&&s(o,e.origin)>r.maxDistance**2)return null;const n=this.view.renderCoordsHelper.fromRenderCoords(o,new U({spatialReference:this.view.spatialReference})),a=p(i.normal);if(j(i))return new y({type:R.OBJECT,id:`${i.target.layerUid}/${i.target.nodeIndex}/${i.target.componentIndex}`,mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:null});if(I(i))return new y({type:R.OBJECT,id:`${i.target.layerUid}/${i.target.graphicUid}`,mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:null});if(v(i))return new y({type:R.TERRAIN,id:i.target.lij.slice(),mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:null});const c=x(i,this.view);if(null!=c){const r=c.layer,t=c.sourceLayer;let i;if(t)if(\"scene\"===t.type)i=h(c,t.objectIdField);else i=c.uid;else i=c.uid;return new y({type:R.OBJECT,id:`${r?.uid}/${i}`,mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:c})}return null}updateFromGroundIntersection(e,r,t){const i=L,o=O,s=S,m=$;n(o,e),this.view.renderCoordsHelper.worldUpAtPosition(o,s),a(s,s);const u=this.view.basemapTerrain.visibleElevationBounds,d=(r>=0?1:-1)*((u?Math.abs(u.max-u.min):100)+Math.abs(r));c(m,s,d),l(i,o,m),g(i,o,T);const f=this._getRayIntersection(T,{include:this._terrainIntersectionOptionsLayerUids,maxDistance:d});if(null!=f){const e=$;return c(e,s,r),l(t,f.renderPoint,e),p(f.normal)}return n(t,e),null}};e([i()],C.prototype,\"view\",void 0),e([i()],C.prototype,\"intersector\",void 0),C=e([o(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],C);const L=m(),O=m(),S=m(),$=m(),T=u();export{C as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{getFeatureId as t}from\"../../../../analysis/featureReferenceUtils.js\";import n from\"../../../../core/Accessor.js\";import{createTask as o}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as a}from\"../../../../core/handleUtils.js\";import l from\"../../../../core/Logger.js\";import{abortMaybe as u}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as c}from\"../../../../core/promiseUtils.js\";import{initial as d}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as h,q as m,f as v,n as f,h as _,g as b,o as y,z as C}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as T}from\"../../../../core/support/UpdatingHandles.js\";import{projectOrLoad as P}from\"../../../../geometry/projection.js\";import{projectBoundingRect as O}from\"../../../../geometry/projection/projectBoundingRect.js\";import{empty as S,containsPointObject as j,intersectsSegment as R}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as w,create as A}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as E}from\"../../../../support/elevationInfoUtils.js\";import{LineOfSightAnalysisResult as H}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as F}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as V}from\"../support/projectionUtils.js\";import{StoreResults as x}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as D,hasLod as N,getIntersectedFeatureBSRadius as G}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as z,TaskPriority as k}from\"../../../support/Scheduler.js\";import M from\"../../../../geometry/Point.js\";let U=class extends(i.EventedMixin(n)){constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new T,this._frameTask=z,this._computationHandles=new r,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(k.LINE_OF_SIGHT_TOOL):z,this._intersector=new L({view:this.view}),this.addHandles([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:n,computationResult:o}=t,{observerAdjusted:i,targetAdjusted:r}=n,{start:s,end:a}=o;h(s,i),h(a,r);this._canCompute(t)?this._computeIntersection(e):this._interpolateIntersection(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const n=this.view,{sceneIntersectionHelper:o}=n,{inputPoints:i}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:l}=i;if(null==s&&null==a)return;const u=m(r,l),c=this._intersector.intersector,d=w(i.observer,i.target,B);c.options.store=x.ALL,o.intersectToolIntersectorRay(d,c);let p=null,g=null,h=null,v=null;for(const m of c.results.all){const e=D(m,this.view);if(null==e||null==m.distanceInRenderSpace)continue;const o=t(e);null!=o&&(null!=s&&o===s&&(null==p&&(p=this._getFeatureDistanceThreshold(m,n,u)),m.distanceInRenderSpace<p&&(h=m)),null!=a&&o===a&&(null==g&&(g=this._getFeatureDistanceThreshold(m,n,u)),null==v&&m.distanceInRenderSpace<u&&u-m.distanceInRenderSpace<g&&(v=m)))}null!=h&&h.getIntersectionPoint(r)&&(i.observerSurfaceNormal=h.getTransformedNormal(I())),null!=v&&v.getIntersectionPoint(l)&&(i.targetSurfaceNormal=v.getTransformedNormal(I()))}_getFeatureDistanceThreshold(e,t,n){if(N(e)){const o=G(e,t);if(null!=o)return Math.min(o*K,n)}return 1e-5*n}_adjustStartEndPositions(e){const t=this._screenPixelSize,n=this.view,{inputPoints:o}=e,{observer:i,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:l,targetAdjusted:u}=o,c=q;h(l,i),h(u,s),this._updateAdjustedPointsFromFeatures(e),null!=r?h(c,r):v(c,u,l);const d=t;f(c,c),_(c,c,Math.min(d,1)),b(l,l,c),null!=a?h(c,a):v(c,l,u);const p=n.state.camera.computeScreenPixelSizeAt(u);f(c,c),_(c,c,Math.min(p,1)),b(u,u,c)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:n}=this,{sceneIntersectionHelper:o,renderCoordsHelper:i}=n;if(null==o)return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:c,end:d}=s,p=w(c,d,B);r.options.store=x.MIN,o.intersectToolIntersectorRay(p,r);const g=r.results.min,m=s.intersection,v=q;let f=!0;if(null!=g&&g.getIntersectionPoint(m)){h(t.originalIntersection,m),h(t.originalObserver,c),h(t.originalTarget,d),i.fromRenderCoords(m,v,n.spatialReference);const e=1-y(d,u)/y(c,u);f=y(l,m)>=e*y(l,u)}const _=new M(v,n.spatialReference);{const{result:t,target:o}=e;null!=t?(t.target=o,t.intersectedGraphic=f?null:D(g,n),t.intersectedLocation=f?null:_,t.visible=f):e.result=new H({target:o,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:f?null:D(g,n),intersectedLocation:f?null:_,visible:f})}s.isValid=a.isValid=!0,s.isTargetVisible=f}_interpolateIntersection({computation:e,interpolationInfo:t}){const{computationResult:n,inputPoints:o}=e,{start:i,end:r,intersection:s}=n,{originalIntersection:a,originalObserver:l,originalTarget:u}=t;if(h(s,a),o.isValid){const e=q,t=y(l,a)/y(l,u);C(e,i,l),_(e,e,1-t),b(s,s,e),C(e,r,u),_(e,e,t),b(s,s,e),n.isValid=!0}else e.result=null,n.isValid=!1,n.isTargetVisible=!1}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,n=this.view.frustum;if(null==t||null==e.elevationAlignedTargetLocation||null==n)return!1;const{observerAdjusted:o,targetAdjusted:i}=e.inputPoints,r=n.intersectsPoint(o),s=n.intersectsPoint(i);return r&&s}_onObserverPositionChange(e,n,o,i,r){if(this._externalObserverUpdate=r,null==e)return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(null==n)return V(this.analysis,e.spatialReference,l.getLogger(this)),void(this.analysisViewData.elevationAlignedObserver=null);const s=this._getEffectiveElevationInfo(n,o),{absoluteZ:a,elevation:u}=E(n.x,n.y,n.z,this.view.spatialReference,this.view,s),c=n.clone();c.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=c;const d=I();this.view.renderCoordsHelper.toRenderCoords(c,d),this._elevationAlignedObserverPositionRenderSpace=d,this._observerGroundOffsetRenderSpace=a-u,this._observerFeatureId=t(i),this.priority=k.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,n,o,i){const{inputPoints:r}=e;switch(h(r.observer,t),r.observerFeatureId=i,r.observerSurfaceNormal=null,o){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,n,r.observer);null==r.observerFeatureId&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=k.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,n,o,i,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),null==o)return null!=n&&V(this.analysis,n.spatialReference,l.getLogger(this)),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const u=this._getEffectiveElevationInfo(o,i),{absoluteZ:c,elevation:d}=E(o.x,o.y,o.z,this.view.spatialReference,this.view,u),p=o.clone();switch(p.z=c,e.elevationAlignedTargetLocation=p,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=t(r),a.targetSurfaceNormal=null,u.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,c-d,a.target);null==a.targetFeatureId&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=k.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return s([this._updatingHandles.add((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:P(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:n,targetFeatureInfo:o,projectedTargetPosition:i})=>{null==i.pending?this._onTargetPositionChange(e,t,i.geometry,n,o):this._updatingHandles.addPromise(i.pending)}),d)])}_connectComputationToObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),d)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:n,observerElevationMode:o,observerFeatureId:i})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,n,o,i)}),d)}_connectComputationToCamera(e){return this._updatingHandles.add((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}))}_connectComputationToSlicePlane(e){return this._updatingHandles.add((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(n,o)=>{const i=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,c=null,d=null;if(null!=i?.position){const e=P(i.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(n,o)));s=e.geometry,a=i.elevationInfo,l=i.feature}if(null!=r.position){const e=P(r.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(n,o)));u=e.geometry,c=r.elevationInfo,d=r.feature}null==s&&null==u||(O(n,o,J,this.view.spatialReference),null!=s&&j(J,s)&&this._onObserverPositionChange(null!=i?i.position:null,s,a,l,!1),null!=u&&j(J,u)&&this._onTargetPositionChange(e,r.position,u,c,d,!1),null!=s&&null!=u&&R(J,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(({extent:e,spatialReference:n})=>t(e,n)))}_connectComputationToTask(e){let t=null;const n={computation:e,interpolationInfo:{originalIntersection:I(),originalObserver:I(),originalTarget:I()}};return s([this._updatingHandles.add((()=>e.inputPoints),(()=>{t=u(t),t=o((async e=>{await c(this._frameTask.schedule((()=>this._computeResult(n)),e))}))}),{initial:!0,equals:()=>!1}),a((()=>t=u(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const n of t)this._disconnectComputation(n);for(const n of e)this._connectComputation(n)}_onTargetCollectionChange({added:e,removed:t}){for(const n of t)this._removeTarget(n);for(const n of e)this._addTarget(n)}_onCursorTargetChange(e,t){null!=t&&this._removeTarget(t),null!=e&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new F({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return s([this._updatingHandles.add((()=>({observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,projectedObserverPosition:P(null!=this.analysis.observer?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:null!=this.analysis.observer?this.analysis.observer.elevationInfo:null,observerFeatureInfo:null!=this.analysis.observer?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:n,observerFeatureInfo:o})=>{null==t.pending?this._onObserverPositionChange(e,t.geometry,n,o,!0):this._updatingHandles.addPromise(t.pending)}),d)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this._computations),(e=>this._onComputationCollectionChange(e)),{initial:!0,final:!0})}_connectTargets(){return s([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),this._updatingHandles.add((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:n}=t;if(null==e||null==n)return!1;const o=q;n.toRenderCoords(e,o);const i=t.state.camera.computeScreenPixelSizeAt(o);return Math.abs((i-this._screenPixelSize)/this._screenPixelSize)>Z}_getEffectiveElevationInfo(e,t){return e.hasZ?t??{mode:\"absolute-height\",offset:0}:{mode:\"on-the-ground\",offset:0}}};e([p({constructOnly:!0})],U.prototype,\"analysis\",void 0),e([p({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),e([p({constructOnly:!0})],U.prototype,\"view\",void 0),e([p()],U.prototype,\"updating\",null),e([p()],U.prototype,\"priority\",null),e([p()],U.prototype,\"updateOnCameraChange\",void 0),e([p()],U.prototype,\"_computations\",null),e([p()],U.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([p()],U.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([p()],U.prototype,\"_effectiveObserverElevationMode\",void 0),e([p()],U.prototype,\"_observerFeatureId\",void 0),e([p()],U.prototype,\"_screenPixelSize\",null),e([p({readOnly:!0})],U.prototype,\"_updatingHandles\",void 0),e([p()],U.prototype,\"_frameTask\",void 0),e([p()],U.prototype,\"_isCameraDirty\",null),U=e([g(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],U);const Z=.1,q=I(),B=A(),J=S(),K=.05;export{U as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{getContrast as n,multiplyOpacityToUnitRGBA as t}from\"../../../../core/colorUtils.js\";class e{constructor(){this.glowWidth=8,this.innerWidth=.75}}const r=new e;function s(o){const t=o.accentColor;return{glowColor:t,innerColor:n(t),globalAlpha:.75*t.a}}class i{constructor(){this.size=.5}}const c=new i;function l(o){return t(o.accentColor,.75)}class h{constructor(){this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}}const u=new h;class d{constructor(){this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}const w=new d;export{s as getLaserLineColors,l as getObserverRGBA,r as laserLineConfiguration,w as lineOfSightConfiguration,c as observerConfiguration,u as targetConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{getGraphicEffectiveElevationInfo as o}from\"../../../../support/elevationInfoUtils.js\";function n(e,n=o(e)){return\"on-the-ground\"!==n.mode&&!(null==e.geometry||!e.geometry.hasZ)}function t(o,n){let t=null;const r=o.events.on(\"grab-changed\",(e=>{null!=t&&(t.remove(),t=null),\"start\"===e.action?(t=o.disableDisplay(),n&&n(e)):n&&n(e)}));return e((()=>{t?.remove(),r.remove()}))}export{n as canMoveZ,t as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{watch as t}from\"../../../../core/reactiveUtils.js\";import{getObserverRGBA as o,observerConfiguration as r,targetConfiguration as i}from\"./LineOfSightConfiguration.js\";import{Manipulator3D as s}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as n}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as m}from\"../../interactive/RenderObject.js\";import{disableDisplayOnGrab as a}from\"../../interactive/editingTools/manipulatorUtils.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorStateCustomFlags as l}from\"../../../interactive/interfaces.js\";class f extends s{constructor(e,i){const s=n(o(e.effectiveTheme)),l=c(s,r.size,32,32),f=new m(l);super({view:e,renderObjects:[f],metadata:i,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this),this.themeHandle=t((()=>({color:o(e.effectiveTheme)})),(e=>{s.setParameters(e)}))}destroy(){this.themeHandle.remove(),super.destroy()}}class d extends s{constructor(e,t){const{size:o,visibleColor:r,occludedColor:s,undefinedColor:n}=i;super({view:e,renderObjects:[u(o,r,l.Custom1),u(o,s,l.Custom2),u(o,n,l.Custom3)],metadata:t,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this)}}function u(t,o,r){return new m(c(n(e.toUnitRGBA(o)),t,32,32),r)}export{f as LineOfSightObserverManipulator,d as LineOfSightTargetManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import a from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import n from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o,syncAndInitial as l,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import{create as d,fromPoints as g}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as _,getConvertedElevation as m}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{getLaserLineColors as b,laserLineConfiguration as y}from\"./LineOfSightConfiguration.js\";import{LineOfSightTargetManipulator as f,LineOfSightObserverManipulator as T}from\"./LineOfSightManipulators.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{LaserlineVisualElement as w}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{IntersectorType as C}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import\"../../../input/ViewEvents.js\";import{AnalysisToolBase as M}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as k}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as V}from\"../../../interactive/interfaces.js\";import{createScreenPointFromEvent as H}from\"../../../support/screenUtils.js\";import{MouseButton as S}from\"../../../input/IViewEvents.js\";var D;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(D||(D={}));let O=class extends M{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._updatingHandles=new h,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new L({view:this.view}),this.addHandles(o((()=>this.state),(e=>{e===D.Created&&this.finishToolCreation()}),l)),this._observerManipulator=this._createObserverManipulator(),this._createLaserLine(),this.addHandles([this._updatingHandles.add((()=>this.analysisViewData?.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),u),this._updatingHandles.add((()=>b(this.view.effectiveTheme)),(({glowColor:e,innerColor:t,globalAlpha:i})=>this._updateLaserLineStyle(e,t,i)),u),this._updatingHandles.add((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations(),this._updatingHandles.addWhen((()=>!this._shouldRenderTracker),(()=>this._clearCursorTracker()),u)])}destroy(){this._updatingHandles=s(this._updatingHandles),this._manipulatorHandles=s(this._manipulatorHandles),this._analysisHandles=s(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeLaserLine(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?this.hasGrabbedManipulators?D.Created:D.Creating:null!=this.analysis.observer?.position?D.Created:D.Ready}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return null!=this.analysisViewData&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&null!=this.analysis.observer?.position&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"key-down\":this._keyDownHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);null==this._targetTrackerManipulator&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add((()=>this._getLineOfSightManipulatorStateDependencies(e)),(()=>this._updateManipulatorState(i,e)),u),this._updatingHandles.add((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),u)],e)}_disconnectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);null!=t&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),null!=this._targetTrackerManipulator&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=s(this.analysisViewData.cursorTarget)}_createTargetManipulator(e){const t={target:e,type:\"target\"},i=new f(this.view,t);return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i),i.events.on(\"grab-changed\",(e=>this._manipulatorGrabChanged(i,e))),i.events.on(\"immediate-click\",(e=>this._manipulatorClick(i,e)))],i),this.manipulators.add(i),null!=e.position?i.elevationAlignedLocation=e.position:i.available=!1,i}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const a=i.manipulator;null==t&&\"target\"===a.metadata.type&&a.metadata.target===e&&(t=a)})),t}_createObserverManipulator(){const e=new T(this.view,{type:\"observer\",intersection:null});return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e),e.events.on(\"grab-changed\",(t=>this._manipulatorGrabChanged(e,t))),e.events.on(\"immediate-click\",(t=>this._manipulatorClick(e,t)))],e),this.manipulators.add(e),e}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return null==t?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return k(e,((t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),a.next(this._cancelTargetDragStep(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return k(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(null!=e.intersection.mapPoint?(null==this.analysis.observer&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=null!=this.analysis.observer?.position?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return null!=i&&(e.elevationAlignedLocation=i),t}}_cancelTargetDragStep(e){const t=e.position?.clone();return i=>(e.position=t,i)}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_updateManipulatorState(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?V.Custom1:V.Custom2:V.Custom3}_getLineOfSightManipulatorStateDependencies(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:n,visible:r}=e;if(null==t)return;const s=null!=i?i:a&&null!=n?this._targetTrackerManipulator:null;null!=s&&r?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=g(this._observerManipulator.renderLocation,s.renderLocation,P):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createLaserLine(){this._removeLaserLine();const{glowWidth:e,innerWidth:t}=y;this._laserlineVisualElement=new w({view:this.view,attached:!0,visible:this.visible,style:{glowWidth:e,innerWidth:t},isDecoration:!0})}_removeLaserLine(){null!=this._laserlineVisualElement&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_updateLaserLineStyle(e,i,a){const n=this._laserlineVisualElement;if(null==n)return;const r=n.style;n.style={...r,glowColor:t.toUnitRGB(e),innerColor:t.toUnitRGB(i),globalAlpha:a}}_onObserverLocationChange(e){null!=e?(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e):this._observerManipulator.available=!1}_onTargetLocationChange(e,t){null!=e?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(null!=t?.mapPoint)if(null!=this.analysis.observer?.position){this._clearCursorTracker();const e=new a;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==S.Right&&(this._addPointFromClickEvent(H(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==S.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&\"Escape\"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||null==this.analysis.observer?.position)return;const t=H(e),i=this._intersector.getScreenPointIntersection(t);null!=i?.mapPoint&&(null==this.analysisViewData.cursorTarget&&(this.analysisViewData.cursorTarget=new a),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(null==t.mapPoint)return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case C.OBJECT:if(null!=t.graphic){const i=t.graphic,a=_(i);\"on-the-ground\"===a.mode&&(a.mode=\"relative-to-ground\",a.offset=0),e.elevationInfo=new v(a),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case C.TERRAIN:e.elevationInfo=new v({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=m(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==S.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){return{laserLineVisualElement:this._laserlineVisualElement,getTargetManipulator:e=>this._getTargetManipulator(e)}}};e([p({constructOnly:!0})],O.prototype,\"view\",void 0),e([p({constructOnly:!0})],O.prototype,\"analysis\",void 0),e([p({readOnly:!0})],O.prototype,\"state\",null),e([p({readOnly:!0})],O.prototype,\"cursor\",null),e([p()],O.prototype,\"removeIncompleteOnCancel\",void 0),e([p({readOnly:!0})],O.prototype,\"updating\",null),e([p({constructOnly:!0})],O.prototype,\"analysisViewData\",void 0),e([p({readOnly:!0})],O.prototype,\"_showTracker\",null),e([p()],O.prototype,\"_latestPointerMovePointerType\",void 0),e([p()],O.prototype,\"_shouldRenderTracker\",null),e([p()],O.prototype,\"_laserlineVisualElement\",void 0),e([p()],O.prototype,\"_grabbedManipulator\",void 0),O=e([c(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool\")],O);const P=d();export{O as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}export{e as LineOfSightVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{initial as r}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as d}from\"../../../../chunks/vec32.js\";import{fromArray as u,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import{lineOfSightConfiguration as p}from\"./LineOfSightConfiguration.js\";import{LineOfSightVisualElement as v}from\"./LineOfSightVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as f}from\"../../interactive/visualElements/PointVisualElement.js\";import{RenderOccludedFlag as b}from\"../../webgl-engine/lib/Material.js\";let O=class extends t{constructor(e){super(e),this._lineOfSightVisualElements=new Array,this._computationHandles=new o,this._updatingHandles=new h}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=s(this._updatingHandles),this._computationHandles=s(this._computationHandles),this._observerVisualElement=s(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){return{disablePartialOcclusion:()=>{for(const e of this._lineOfSightVisualElements)e.visibleLineVisualElement.renderOccluded=b.Occlude,e.occludedLineVisualElement.renderOccluded=b.Occlude,e.undefinedLineVisualElement.renderOccluded=b.Occlude},visualizations:this._lineOfSightVisualElements}}_createLineOfSightVisualization(){const e=p,t=this.view,o=this.isDecoration,n={view:t,attached:!0,width:e.outerWidth,innerWidth:e.innerWidth,isDecoration:o},s=i.toUnitRGBA(e.visibleOuterColor),r=i.toUnitRGBA(e.visibleInnerColor),l=i.toUnitRGBA(e.occludedOuterColor),a=i.toUnitRGBA(e.occludedInnerColor),c=i.toUnitRGBA(e.undefinedOuterColor),d=i.toUnitRGBA(e.undefinedInnerColor),u=new g({...n,color:s,innerColor:r}),m=new g({...n,color:l,innerColor:a}),h=new g({...n,color:c,innerColor:d}),b=new f({view:t,attached:!0,..._,size:8,isDecoration:o}),O=new v(u,m,h,b);return this._lineOfSightVisualElements.push(O),O}_destroyLineOfSightVisualization(e){e.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(e),1)}_updateLineOfSightVisualization(e,t,o){const n=p,{computationResult:s,inputPoints:r}=e,{start:l,end:a,intersection:c,isValid:m,isTargetVisible:h}=s,{observer:v}=r,g=E;g[12]=v[0],g[13]=v[1],g[14]=v[2];const f=d(V,l,v),b=d(y,a,v),O=d(C,c,v),{visibleLineVisualElement:_,occludedLineVisualElement:A,undefinedLineVisualElement:w,targetVisualElement:L}=t,S=null==this.analysisViewData.elevationAlignedObserver||null==e.elevationAlignedTargetLocation,j=this.visible&&!S;_.visible=j,A.visible=j,w.visible=j,L.visible=j,L.attached=!o.interactiveAndEditable,j&&(_.geometry=null,A.geometry=null,w.geometry=null,L.geometry=e.elevationAlignedTargetLocation,m?h?(_.geometry=[[u(f),u(b)]],_.transform=g,_.color=i.toUnitRGBA(n.visibleOuterColor),L.color=i.toUnitRGBA(n.visibleInnerColor)):(_.geometry=[[u(f),u(O)]],_.transform=g,_.color=i.toUnitRGBA(n.occludedOuterColor),A.geometry=[[u(O),u(b)]],A.transform=g,L.color=i.toUnitRGBA(n.occludedInnerColor)):(w.geometry=[[u(f),u(b)]],w.transform=g,L.color=i.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(e){const{computationResult:i}=e,{occludedOuterColor:t,visibleOuterColor:o}=p;return{computationResult:i,occludedOuterColor:t,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(e){const i=this._computationHandles;if(i.has(e))return;const t=this._createLineOfSightVisualization();i.add([this._updatingHandles.add((()=>this._getLineOfSightVisualizationDependencies(e)),(i=>this._updateLineOfSightVisualization(e,t,i)),{initial:!0,equals:()=>!1}),n((()=>this._destroyLineOfSightVisualization(t)))],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:i}){for(const t of i)this._disconnectComputation(t);for(const t of e)this._connectComputation(t)}_createObserverVisualization(){const e=i.toUnitRGBA(p.visibleInnerColor),t=new f({view:this.view,color:e,..._,isDecoration:this.isDecoration});this._observerVisualElement=t,this.addHandles(this._updatingHandles.add((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:e,interactiveAndEditable:i,visible:o})=>{null!=e&&!i&&o?(t.geometry=e,this._observerVisualElement.attached=!0):t.attached=!1}),r))}};e([l({constructOnly:!0})],O.prototype,\"analysis\",void 0),e([l({constructOnly:!0})],O.prototype,\"analysisViewData\",void 0),e([l({constructOnly:!0})],O.prototype,\"view\",void 0),e([l({readOnly:!0})],O.prototype,\"visible\",null),e([l({constructOnly:!0})],O.prototype,\"isDecoration\",void 0),e([l()],O.prototype,\"updating\",null),e([l()],O.prototype,\"interactiveAndEditable\",null),e([l()],O.prototype,\"test\",null),O=e([a(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],O);const _={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},V=m(),y=m(),C=m(),E=c();export{O as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Evented.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as n}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{LineOfSightController as p}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as y}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as u}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as h,removeAnalysisViewTool as c}from\"../../analysis/analysisViewUtils.js\";let m=class extends(l(o.EventedMixin(i))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new s,this.elevationAlignedObserver=null,this.observerEngineLocation=n(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new p({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new u({analysis:i,analysisViewData:this,view:t,isDecoration:!this.parent}),this.addHandles([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)})),h(this,y)])}destroy(){c(this),this._analysisController=r(this._analysisController),this._analysisVisualization=r(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return null!=this._analysisController&&this._analysisController.updating||null!=this._analysisVisualization&&this._analysisVisualization.updating}getResultForTarget(t){return this.computations.find((i=>i.target===t))?.result}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}};t([e({readOnly:!0})],m.prototype,\"type\",void 0),t([e({constructOnly:!0,nonNullable:!0})],m.prototype,\"analysis\",void 0),t([e()],m.prototype,\"tool\",void 0),t([e({readOnly:!0})],m.prototype,\"results\",null),t([e()],m.prototype,\"priority\",null),t([e()],m.prototype,\"computations\",void 0),t([e()],m.prototype,\"elevationAlignedObserver\",void 0),t([e()],m.prototype,\"observerEngineLocation\",void 0),t([e()],m.prototype,\"cursorTarget\",void 0),t([e()],m.prototype,\"updating\",null),t([e()],m.prototype,\"editable\",void 0),t([e()],m.prototype,\"_analysisController\",void 0),t([e()],m.prototype,\"_analysisVisualization\",void 0),m=t([a(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],m);const d=m;export{d as default};\n"],"names":["l","i","s","t","constructor","o","super","this","position","elevationInfo","feature","equals","p","r","a","type","c","json","write","isRequired","prototype","f","m","e","n","u","layer","id","objectId","objectIdField","attributes","uid","concat","writer","_e$layer","layerId","target","Number","String","origins","read","ObjectId","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","visible","Boolean","inputPoints","isValid","observer","observerSurfaceNormal","observerFeatureId","targetSurfaceNormal","targetFeatureId","observerAdjusted","targetAdjusted","computationResult","start","end","intersection","isTargetVisible","result","notifyResultChanged","notifyChange","notifyInputPointsChanged","y","clone","mapPoint","renderPoint","normal","ray","graphic","constructOnly","C","_terrainIntersectionOptionsLayerUids","Set","initialize","intersector","b","view","state","viewingMode","options","hud","store","P","MIN","getScreenPointIntersection","get","w","camera","T","_getRayIntersection","sceneIntersectionHelper","intersectToolIntersectorRay","results","min","getIntersectionPoint","maxDistance","origin","renderCoordsHelper","fromRenderCoords","U","spatialReference","j","R","OBJECT","layerUid","nodeIndex","componentIndex","d","I","graphicUid","v","TERRAIN","lij","slice","x","sourceLayer","h","updateFromGroundIntersection","L","O","S","$","worldUpAtPosition","basemapTerrain","visibleElevationBounds","Math","abs","max","g","include","EventedMixin","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","z","_computationHandles","_externalObserverUpdate","_this$view$resourceCo","resourceController","scheduler","registerTask","k","LINE_OF_SIGHT_TOOL","_intersector","addHandles","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","updating","priority","analysisViewData","computations","_elevationAlignedObserverPositionRenderSpace","observerEngineLocation","_screenPixelSize","computeScreenPixelSizeAt","_computeResult","computation","_canCompute","_computeIntersection","_interpolateIntersection","emit","_updateAdjustedPointsFromFeatures","B","ALL","all","D","distanceInRenderSpace","_getFeatureDistanceThreshold","getTransformedNormal","N","G","K","_adjustStartEndPositions","q","_","_ref","interpolationInfo","originalIntersection","originalObserver","originalTarget","M","H","_ref2","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","V","analysis","getLogger","_getEffectiveElevationInfo","absoluteZ","elevation","E","mode","toRenderCoords","LINE_OF_SIGHT_TOOL_INTERACTIVE","_onObserverRenderSpacePositionChangeForComputation","_onTargetPositionChange","arguments","length","undefined","_connectComputationToTarget","add","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","_ref3","pending","geometry","addPromise","_connectComputationToObserver","_ref4","_connectComputationToRenderSpaceObserver","observerGroundOffset","observerElevationMode","_ref5","_connectComputationToCamera","isDirty","_isCameraDirty","_ref6","_connectComputationToSlicePlane","slicePlane","_connectComputationToElevation","finally","J","elevationProvider","on","_ref7","extent","_connectComputationToTask","async","schedule","initial","_connectComputation","has","_disconnectComputation","remove","_onComputationCollectionChange","_ref8","added","removed","_onTargetCollectionChange","_ref9","_removeTarget","_addTarget","_onCursorTargetChange","some","F","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_ref10","addOnCollectionChange","final","targets","cursorTarget","Z","hasZ","offset","readOnly","A","glowWidth","innerWidth","size","accentColor","visibleColor","occludedColor","undefinedColor","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","events","action","disableDisplay","_t","effectiveTheme","renderObjects","metadata","themeHandle","color","setParameters","Custom1","Custom2","Custom3","toUnitRGBA","Ready","Creating","Created","removeIncompleteOnCancel","_latestPointerMovePointerType","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_createLaserLine","_this$analysisViewDat","_onObserverLocationChange","glowColor","innerColor","globalAlpha","_updateLaserLineStyle","_laserLineRendererDependencies","_updateLaserLineRenderer","addWhen","_shouldRenderTracker","_clearCursorTracker","_removeLaserLine","_set","_this$analysis$observ","active","hasGrabbedManipulators","cursor","_showTracker","_this$analysis$observ2","continue","activeTool","stop","onEditableChange","editable","internallyEditable","onInputEvent","_doubleClickHandler","_keyDownHandler","_pointerMoveHandler","onInputEventAfter","_clickHandler","onShow","onHide","onDeactivate","_onComputationsCollectionChange","destroyed","warn","_createTargetManipulator","available","interactive","_getLineOfSightManipulatorStateDependencies","_updateManipulatorState","_onTargetLocationChange","_getTargetManipulator","manipulators","_createTargetManipulatorDragPipeline","_manipulatorGrabChanged","_manipulatorClick","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","_screenToIntersection","screenEnd","_objectSpread","next","_updateTargetDragStep","_cancelTargetDragStep","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","_this$analysis$observ3","_e$position","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","isDecoration","toUnitRGB","_addPointFromClickEvent","_this$analysis$observ4","button","Right","stopPropagation","key","_this$analysis$observ5","pointerType","grabbing","dragging","testInfo","laserLineVisualElement","getTargetManipulator","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","_lineOfSightVisualElements","Array","_createObserverVisualization","_observerVisualElement","interactiveAndEditable","test","disablePartialOcclusion","renderOccluded","Occlude","visualizations","_createLineOfSightVisualization","width","push","_destroyLineOfSightVisualization","splice","indexOf","_updateLineOfSightVisualization","transform","_getLineOfSightVisualizationDependencies","pixelSnappingEnabled","primitive","outlineSize","tool","_analysisController","_analysisVisualization","parent","map","getResultForTarget","_this$computations$fi","find","visualization","controller","nonNullable"],"sourceRoot":""}