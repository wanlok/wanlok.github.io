{"version":3,"file":"static/js/7318.5cf39f9f.chunk.js","mappings":"ybAIo0D,MAAMA,UAAUC,EAAAA,EAAEC,WAAAA,GAAcC,SAASC,WAAWC,KAAKC,SAAQC,EAAAA,EAAAA,IAAEC,EAAAA,IAAGH,KAAKI,eAAc,EAAGJ,KAAKK,yBAAwB,EAAGL,KAAKM,YAAY,EAAEN,KAAKO,UAAU,EAAEP,KAAKQ,KAAK,EAAER,KAAKS,OAAO,CAAC,CAAC,aAAIC,GAAY,OAAOV,KAAKW,gBAAgBX,KAAKS,OAAOT,KAAKQ,IAAI,CAAC,iBAAII,GAAgB,OAAOZ,KAAKI,cAAc,EAAEJ,KAAKO,SAAS,CAAC,mBAAII,GAAkB,OAAOX,KAAKI,gBAAgBJ,KAAKK,uBAAuB,EAAE,MAAMQ,UAAUC,EAAAA,GAAEjB,WAAAA,CAAYkB,EAAEC,EAAEC,GAAGnB,MAAMiB,GAAGf,KAAKkB,OAAOH,EAAEf,KAAKmB,OAAOH,EAAEhB,KAAKoB,UAAUH,CAAC,EAAE,SAASI,EAAEC,GAAG,MAAMC,EAAE,IAAIC,EAAAA,GAAEC,EAAEH,EAAEI,SAASC,EAAAA,EAAEC,MAAM1B,EAAEoB,EAAEI,SAASC,EAAAA,EAAEE,YAAY1B,EAAEmB,EAAEI,SAASC,EAAAA,EAAEG,WAAWC,OAAOjB,EAAEkB,SAASpC,GAAG2B,EAAE,OAAOA,EAAEU,QAAQC,EAAAA,GAAEZ,GAAGC,EAAEY,WAAWC,IAAIC,EAAAA,EAAEC,SAAS,QAAQf,EAAEY,WAAWC,IAAIC,EAAAA,EAAEE,MAAM,QAAQzB,EAAE0B,SAASJ,IAAI,IAAIK,EAAAA,EAAE,aAAa,CAAC1B,EAAEO,KAAIN,EAAAA,EAAAA,IAAE0B,EAAEpB,EAAEqB,OAAOC,YAAW3B,EAAAA,EAAAA,IAAEyB,EAAE3B,EAAEG,WAAW,IAAI2B,EAAAA,EAAE,QAAQ,CAAC9B,EAAEC,IAAIA,EAAE2B,OAAOG,mBAAmB,IAAIC,EAAAA,EAAE,oBAAoB,CAAChC,EAAEC,EAAEC,KAAI+B,EAAAA,EAAAA,IAAEC,EAAEhC,EAAEb,cAAc,EAAEa,EAAEV,UAAUS,EAAE2B,OAAOO,WAAWC,EAAEpC,EAAEI,QAAQH,EAAE2B,OAAOO,cAAc5B,EAAElB,cAAc,IAAIgD,EAAAA,EAAE,cAAc,CAACrC,EAAEC,KAAIgC,EAAAA,EAAAA,IAAEC,EAAElC,EAAEL,UAAUM,EAAE2B,OAAOO,WAAWlC,EAAE2B,OAAOU,cAAc,IAAIN,EAAAA,EAAE,cAAc,CAAChC,EAAEC,EAAEC,KAAI+B,EAAAA,EAAAA,IAAEC,EAAElC,EAAEK,UAAUH,EAAEX,YAAYU,EAAE2B,OAAOO,WAAWlC,EAAE2B,OAAOU,WAAWrC,EAAE2B,OAAOO,eAAe5B,EAAEgC,gBAAgBxC,EAAE0B,SAASJ,IAAI,IAAImB,EAAAA,EAAE,WAAW,CAACxC,EAAEC,EAAEC,KAAIuC,EAAAA,EAAAA,GAAEC,EAAExC,EAAEhB,QAAQ,GAAGc,EAAEG,OAAO,GAAGD,EAAEhB,QAAQ,GAAGc,EAAEG,OAAO,GAAGD,EAAEhB,QAAQ,GAAGc,EAAEG,OAAO,MAAM,IAAIqC,EAAAA,EAAE,WAAW,CAACxC,EAAEC,EAAEC,KAAIuC,EAAAA,EAAAA,GAAEC,EAAExC,EAAEhB,QAAQ,GAAGc,EAAEG,OAAO,GAAGD,EAAEhB,QAAQ,GAAGc,EAAEG,OAAO,GAAGD,EAAEhB,QAAQ,GAAGc,EAAEG,OAAO,QAAQJ,EAAE4C,UAAUtB,IAAI,UAAU,OAAO,EAAErB,EAAAA,IAAGA,EAAAA,IAAGA,EAAAA,KAAID,EAAE4C,UAAUtB,IAAI,UAAU,OAAO,CAACrB,EAAAA,GAAEA,EAAAA,GAAEA,EAAAA,MAAKb,IAAGyD,EAAAA,EAAAA,IAAEpC,IAAGqC,EAAAA,EAAAA,IAAErC,GAAGA,EAAEsC,SAASzB,IAAI,QAAQ,UAAUd,EAAEI,SAASC,EAAAA,EAAEG,WAAWP,EAAEsC,SAASzB,IAAI,SAAS,QAAQtB,EAAEgD,KAAK1B,KAAI2B,EAAAA,EAAAA,GAACC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,gxBAqBj6G3C,EAAE4C,gBAAeH,EAAAA,EAAAA,GAACI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,qDACmBF,EAAAA,EAAAA,GAACK,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,sxBAkBtC/D,GAAE6D,EAAAA,EAAAA,GAACM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,wDAAmD,GACtDxC,GAAEsC,EAAAA,EAAAA,GAACO,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,uBAAkB,KAEvBrE,EAAEqC,QAAQsC,EAAAA,EAAEjD,GAAGnB,GAAGoB,EAAEU,QAAQuC,EAAAA,GAAElD,GAAG1B,EAAEkE,KAAK1B,KAAI2B,EAAAA,EAAAA,GAACU,IAAAA,GAAAR,EAAAA,EAAAA,GAAA,8NAQ1C/D,GAAE6D,EAAAA,EAAAA,GAACW,IAAAA,GAAAT,EAAAA,EAAAA,GAAA,sCAAiC,GACpC9D,GAAE4D,EAAAA,EAAAA,GAACY,IAAAA,GAAAV,EAAAA,EAAAA,GAAA,0BAAqB,GACxBxC,GAAEsC,EAAAA,EAAAA,GAACa,IAAAA,GAAAX,EAAAA,EAAAA,GAAA,sCAAiC,KAEvC1C,CAAC,CAAC,SAAS4B,EAAEpC,GAAG,OAAOA,EAAE,IAAI,EAAE,CAAC,MAAM2B,GAAEpB,EAAAA,EAAAA,MAAImC,GAAEhC,EAAAA,EAAAA,MAAIwB,GAAE1B,EAAAA,EAAAA,MAAIsD,EAAEC,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,4BAA4BrE,EAAEsE,4BAA4BxF,EAAEyF,MAAM/D,EAAEgE,2BAA2BlC,GAAGmC,OAAOC,YAAY,CAACC,MAAM,W,iJCvDuW,MAAM/D,EAAEA,IAAI,IAAIvB,EAAE,cAAcuB,EAAE5B,WAAAA,GAAcC,SAASC,WAAWC,KAAKyF,mBAAkB,EAAGzF,KAAK0F,8BAA6B,CAAE,CAACC,UAAAA,CAAW5E,GAAGjB,MAAM6F,WAAW5E,IAAGQ,EAAAA,EAAAA,IAAEvB,KAAK4F,QAAQ5F,KAAK6F,oBAAoB7F,KAAK8F,2BAA2B,CAAC,8BAAMA,GAA2B,MAAM/E,EAAE,IAAIgF,gBAAgBzE,EAAEP,EAAEiF,OAAOhG,KAAKiG,YAAWjD,EAAAA,EAAAA,KAAG,IAAIjC,EAAEmF,iBAAiBjF,EAAAA,EAAAA,KAAG,SAAAkF,EAAA,OAA6B,QAA7BA,EAAInG,KAAKoG,KAAKC,uBAAe,IAAAF,OAAA,EAAzBA,EAA2BG,oBAAoB,GAAEhF,IAAGkC,EAAAA,EAAAA,IAAElC,GAAG,MAAMN,GAAEb,EAAAA,EAAAA,IAAEH,KAAK4F,MAAM5F,KAAKoG,KAAKG,gBAAgBvG,KAAK0F,8BAA8B,GAAG1E,EAAE,MAAMA,CAAC,CAACwF,SAAAA,GAAY,MAAMzF,EAAEf,KAAK4F,OAAO,wBAAwB5F,KAAK4F,MAAM5F,KAAK4F,MAAMa,oBAAoB,KAAK,OAAO3G,MAAM0G,gBAAgB,OAADzF,QAAC,IAADA,GAAAA,EAAG2F,YAAW3F,EAAE4F,UAAU5F,EAAE2F,UAAU3F,EAAE4F,SAAS,CAACC,cAAAA,GAAiB,MAAM7F,EAAEjB,MAAM8G,iBAAiB5D,EAAEhD,KAAK4F,OAAO,wBAAwB5F,KAAK4F,MAAM5F,KAAK4F,MAAMa,oBAAoB,KAAK,OAAOzD,GAAGA,EAAE0D,UAAU1D,EAAE2D,UAAU3D,EAAE0D,SAAS1D,EAAE2D,WAAW5F,EAAE8F,mBAAkB,GAAI9F,CAAC,GAAG,OAAOA,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKpB,EAAE4G,UAAU,YAAO,IAAQ/F,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,OAAKpB,EAAE4G,UAAU,yBAAoB,GAAQ5G,GAAEa,EAAAA,EAAAA,GAAE,EAACC,EAAAA,EAAAA,GAAE,qCAAqCd,GAAGA,CAAC,C,2ZCA9hD,MAAMa,UAAUyC,EAAAA,EAAE3D,WAAAA,CAAY2D,EAAEzC,EAAEE,EAAEK,EAAEN,GAAGlB,MAAM0D,EAAEzC,GAAG,EAAEE,EAAEK,GAAGtB,KAAK+G,MAAM/F,CAAC,EAAE,MAAMC,EAAEpB,WAAAA,CAAY2D,EAAEzC,EAAEE,EAAEK,GAAGtB,KAAKgH,QAAQxD,EAAExD,KAAKiH,aAAalG,EAAEf,KAAKkH,WAAWjG,EAAEjB,KAAKmH,eAAe7F,CAAC,E,eCA5L,MAAMA,UAAU0B,EAAAA,EAAEnD,WAAAA,CAAYmD,GAAGlD,MAAM,mBAAmB,YAAY,CAACsH,UAAUpE,GAAGhD,KAAKqH,iBAAiBrE,IAAIA,EAAE,CAACqE,gBAAAA,CAAiBrE,GAAG,MAAM1B,EAAE,CAAC0B,EAAEsE,gBAAgB,GAAG,MAAMtE,EAAEuE,sBAAsBvE,EAAEuE,qBAAqBC,QAAQlG,EAAEmG,KAAKzE,EAAEuE,qBAAqBC,QAAQ,MAAMxE,EAAE0E,yBAAyB1E,EAAE0E,wBAAwBF,QAAQlG,EAAEmG,KAAKzE,EAAE0E,wBAAwBF,QAAQ,MAAMxE,EAAE2E,qBAAqB,IAAI,MAAM5G,KAAKiC,EAAE2E,qBAAqB,MAAM5G,GAAGA,EAAEyG,QAAQlG,EAAEmG,KAAK1G,EAAEyG,QAAQ,IAAI,MAAMzG,KAAKiC,EAAE4E,mBAAmB7G,EAAEyG,QAAQlG,EAAEmG,KAAK1G,EAAEyG,QAAQ,OAAOlG,CAAC,E,eCAuI,MAAMG,EAAE,EAAC,GAAItB,EAAE,CAAC,MAAMmB,EAAE,EAAC,GAAIL,EAAE,CAAC,MAAM,SAASsD,EAAExD,EAAEiC,EAAEvB,GAAG,IAAItB,EAAEY,EAAE,KAAKZ,EAAE,GAAG,CAAC,MAAMY,EAAEiC,EAAE6E,QAAQ1H,GAAG,GAAGY,GAAG,EAAE,OAAOA,EAAEZ,EAAEsB,EAAEqG,YAAY3H,EAAE,CAAC,OAAO6C,EAAE6E,QAAQ1H,EAAE,CAAgwB,SAASyD,EAAE7C,EAAEiC,EAAEvB,GAAG,MAAMtB,EAAE,CAAC6C,EAAE+E,OAAO,IAAIzG,EAAE,GAAG,KAAK,IAAInB,EAAE6H,QAAQ,CAAC,MAAMjH,EAAEZ,EAAE8H,MAAM3G,EAAE0G,OAAO,EAAE,IAAI,IAAI/G,EAAE,EAAEA,EAAE+B,EAAEkF,KAAKF,OAAO/G,IAAI,CAAC,IAAIsD,EAAEvB,EAAEkF,KAAKjH,GAAGH,EAAEW,EAAEqG,YAAYvD,GAAG,KAAKzD,IAAIC,GAAGwD,EAAEzD,EAAEA,EAAEW,EAAEqG,YAAYvD,GAAG,IAAIC,EAAErE,EAAE0H,QAAQtD,GAAGC,EAAE,IAAIA,EAAErE,EAAE6H,OAAO7H,EAAEsH,KAAKlD,GAAGjD,EAAEmG,KAAK,KAAKnG,EAAEkD,GAAGiD,KAAKzE,EAAEkF,KAAKjH,GAAG,CAAC,CAAC+B,EAAEkF,KAAK/H,EAAE,IAAI,IAAIc,EAAE,EAAEA,EAAEd,EAAE6H,OAAO/G,IAAIK,EAAEL,GAAG+G,OAAO,EAAEjH,EAAE0G,KAAK,CAACM,OAAO,CAAC5H,EAAEc,IAAIiH,KAAK5G,EAAEL,KAAKd,EAAEc,GAAGK,EAAEL,GAAG,EAAE,C,eCAvzD,MAAMD,EAAEnB,WAAAA,CAAYmD,EAAEQ,EAAE/B,GAAGzB,KAAKmI,OAAO,GAAGnI,KAAKoI,SAAS,EAAEpI,KAAKqI,QAAQrF,EAAEhD,KAAKsI,UAAU9E,EAAExD,KAAKuI,wBAAuBxH,EAAAA,EAAAA,IAAEyC,GAAGxD,KAAKoI,SAAS3G,CAAC,CAAC+G,OAAAA,CAAQzH,EAAEiC,GAAM,IAAJQ,EAACzD,UAAAiI,OAAA,QAAAS,IAAA1I,UAAA,GAAAA,UAAA,GAAC,EAAG,KAAKC,KAAKmI,OAAOH,OAAOjH,GAAGf,KAAKmI,OAAOV,KAAK,OAA2nD,SAAW1G,EAAEiC,EAAEQ,EAAE/B,EAAET,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEF,EAAEiH,OAAO/G,IAAI,CAAC,MAAMK,EAAEP,EAAEE,GAAGK,EAAEoH,IAAItB,UAAU9F,EAAEqH,cAAc3F,EAAEQ,EAAE/B,EAAET,EAAE,CAAC,EAA7tDM,CAAE0B,EAAEhD,KAAKqI,QAAQrI,KAAKsI,UAAU9E,EAAExD,KAAKuI,wBAAwBvI,KAAKmI,OAAOpH,GAAG,CAAC6H,MAAM5F,EAAE6F,QAAQ,IAAIC,YAAY9I,KAAKoI,WAA0mD,SAAWrH,EAAEiC,GAAG,MAAMQ,EAAE,CAAC,GAAG,KAAKA,EAAEwE,QAAQ,CAAC,MAAMvG,EAAE+B,EAAEyE,MAAMjH,EAAED,EAAEQ,EAAEE,EAAEuB,IAAI4F,MAAMrE,EAAE9C,EAAEuB,IAAI,IAAI,IAAI/B,EAAE,EAAEA,EAAED,EAAE+H,WAAW9H,IAAI,CAAC,MAAMK,EAAEN,EAAEgI,WAAW/H,EAAE,MAAMF,EAAEQ,EAAED,EAAE0B,MAAMjC,EAAEQ,EAAED,EAAE0B,IAAI6F,QAAQtE,EAAEjD,EAAE0B,IAAIvB,EAAE+B,EAAEiE,KAAKnG,GAAG,CAAC,CAAC,CAAtyDqC,CAAE3D,KAAKmI,OAAOnI,KAAKoI,SAAS,CAACa,OAAAA,CAAQlI,GAAG,QAAQf,KAAKmI,OAAOpH,EAAE,CAACmI,OAAAA,CAAQnI,GAAG,MAAMiC,EAAEhD,KAAKoI,SAAS,OAAOpI,KAAKmI,OAAO5G,EAAER,EAAEiC,IAAI4F,MAAMrE,EAAExD,EAAEiC,GAAG,CAACmG,YAAAA,CAAapI,GAAG,MAAMiC,EAAEhD,KAAKoI,SAAS,OAAOpI,KAAKmI,OAAO5G,EAAER,EAAEiC,IAAI4F,MAAMrE,EAAExD,EAAEiC,IAAI2F,aAAa,CAACS,YAAAA,CAAarI,EAAEiC,GAAG,MAAMQ,EAAExD,KAAKoI,SAASpI,KAAKmI,OAAO5G,EAAER,EAAEyC,IAAIoF,MAAMrE,EAAExD,EAAEyC,IAAImF,cAAcU,KAAKrG,EAAE,CAAC8E,WAAAA,CAAY/G,GAAG,MAAMiC,EAAEhD,KAAKoI,SAAS,OAAOpI,KAAKmI,OAAO5G,EAAER,EAAEiC,IAAI6F,QAAQtE,EAAExD,EAAEiC,GAAG,CAACsG,QAAAA,CAASvI,EAAEiC,GAAG,MAAMQ,EAAEjC,EAAER,EAAEf,KAAKoI,UAAU3G,EAAEF,EAAER,EAAEiC,EAAE,EAAEhD,KAAKoI,UAAU,IAAI,IAAIpH,EAAEwC,EAAExC,GAAGS,EAAET,IAAI,GAAG,MAAMhB,KAAKmI,OAAOnH,GAAG,OAAM,EAAG,OAAM,CAAE,CAACuI,aAAAA,CAAcxI,GAAG,IAAI,IAAIiC,EAAE,EAAEA,EAAEhD,KAAKmI,OAAOH,OAAOhF,IAAI,CAAC,MAAMQ,EAAExD,KAAKmI,OAAOnF,GAAG,GAAGQ,EAAE,IAAI,IAAI/B,EAAE,EAAEA,EAAE+B,EAAEoF,MAAMZ,OAAOvG,IAAIV,EAAEiC,EAAEhD,KAAKoI,SAAS3G,EAAE,CAAC,CAAC+H,wBAAAA,GAA2B,MAAMzI,EAAE,CAAC0I,MAAMzJ,KAAK+G,MAAM,GAAG2C,MAAM,GAAGC,UAAS3G,EAAAA,EAAAA,OAAK,MAAM,CAACA,EAAEQ,IAAc,SAAWzC,EAAEiC,EAAEhC,GAAG,MAAMC,EAAEF,EAAE0I,MAAM,IAAIxI,EAAEqI,SAAS,EAAE,GAAG,OAAO,MAAMhI,EAAEP,EAAEgG,MAAMzF,EAAE0G,OAAO,EAAE1G,EAAEmG,KAAK,GAAG,MAAM9D,EAAE5C,EAAE2I,MAAM,IAAI/F,EAAEqE,OAAO,EAAErE,EAAE8D,KAAK,GAAGnG,EAAE0G,OAAO,GAAG,CAAC,MAAMzD,EAAEjD,EAAE2G,MAAM,IAAInH,EAAE6C,EAAEsE,MAAM,MAAM9H,EAAEc,EAAEiI,QAAQ3E,GAAGrE,EAAEe,EAAEkI,aAAa5E,GAAG,IAAIC,GAAE,EAAG,GAAG,MAAMxB,EAAE4G,YAAY,CAAC,MAAM5I,EAAE,GAAGgC,EAAE6G,QAAQ7B,OAAO,IAAIlH,EAAEE,KAAKd,EAAE4J,gBAAgB/I,EAAE4I,WAAUnG,EAAAA,EAAAA,IAAER,EAAE4G,YAAY7I,EAAE4I,UAAU7I,GAAGE,GAAES,EAAAA,EAAAA,IAAEuB,EAAE4G,YAAY7I,EAAE4I,YAAYnF,GAAE,GAAI,CAAC,IAAI,IAAIzD,EAAE,EAAEA,EAAEiC,EAAE6G,QAAQ7B,QAAQxD,EAAEzD,IAAI,CAAC,MAAMyC,EAAE,GAAGzC,EAAE,GAAG,IAAID,EAAE0C,GAAG,CAAC,MAAM/B,EAAEvB,EAAE6J,eAAe/G,EAAE6G,QAAQ9I,IAAIU,EAAE,EAAE+C,GAAE,EAAG/C,EAAE,IAAIX,GAAG0C,EAAE,CAAC,CAAC,GAAGxC,EAAEgJ,UAAUzF,EAAEpE,EAAEqE,GAAG,CAAC,MAAMzD,EAAEZ,EAAE6I,WAAWhG,EAAE7C,EAAE4I,WAAW,IAAIvF,GAAE,EAAG,MAAM/B,EAAEF,EAAER,EAAEE,EAAEmH,UAAUlI,EAAEqB,EAAER,EAAEiC,EAAE,EAAE/B,EAAEmH,UAAU,IAAI,IAAI9G,EAAEG,EAAEH,GAAGpB,EAAEoB,IAAI,IAAIL,EAAEgI,QAAQ3H,GAAG,CAACN,EAAEiJ,SAAS1F,EAAEjD,GAAGkC,GAAE,EAAG,KAAK,CAAC,IAAIA,EAAE,IAAI,IAAIxC,EAAE,EAAEA,EAAEgC,EAAEhC,IAAIM,EAAEmG,KAAK1G,EAAEC,GAAG2C,EAAE8D,KAAK3G,EAAE,CAAC,CAAC,CAAxvBG,CAAEF,EAAEiC,EAAEQ,EAAE,EAAkiC,SAASjC,EAAER,EAAEiC,GAAG,OAAOjC,EAAEiC,EAAE,CAAC,CAAC,SAASuB,EAAExD,EAAEiC,GAAG,OAAOjC,EAAEiC,CAAC,CCA12E,SAASA,EAAEA,GAAE,IAAAkH,EAAC,MAAMnJ,EAAEiC,EAAEmH,SAAS1I,EAAG,OAADV,QAAC,IAADA,OAAC,EAADA,EAAGqJ,KAAKnJ,EAAa,QAAZiJ,EAAE,OAADnJ,QAAC,IAADA,OAAC,EAADA,EAAGsJ,gBAAQ,IAAAH,EAAAA,EAAE,KAAK,IAAI/J,EAAE,KAAKa,GAAE,EAAG,MAAMO,EAAEyB,EAAEsH,qBAAqB,6BAA6B7I,GAAG,wBAAwBA,GAAG,6BAA6BA,EAAEtB,EAAEqE,EAAEjD,EAAER,EAAEwJ,OAAO,oBAAoB9I,GAAGtB,EAAEmB,EAAEC,EAAER,EAAEwJ,OAAOvJ,EAAE,MAAMb,IAAIA,EAAEmB,EAAEC,EAAE,OAAOP,EAAE,MAAMb,GAAG,IAAIqD,EAAE,KAAK,OAAQ,OAADzC,QAAC,IAADA,GAAAA,EAAGyJ,kBAAkBhH,EAAEgB,EAAEjD,EAAER,EAAEyJ,gBAAgBD,QAAQ,CAACE,aAAaxJ,EAAEyJ,cAAc1J,EAAE2J,iBAAiBxK,EAAEyK,oBAAoBpH,EAAE,CAAC,SAASzC,EAAEiC,GAAG,MAAMjC,EAAEiC,EAAE6H,QAAQ,OAAO9J,EAAEA,EAAE+J,KAAK/J,IAAC,CAAIgK,WAAWhK,EAAEsJ,SAASW,cAAcxG,EAAExB,EAAEsH,qBAAqBvJ,EAAEwJ,WAAW,EAAE,CAA+E,SAAStJ,EAAE+B,GAAG,MAAMjC,EAAG,OAADiC,QAAC,IAADA,OAAC,EAADA,EAAGiI,mBAAmB,OAAOlK,GAAG,eAAeA,EAAEqJ,KAAKrJ,EAAE,IAAI,CAAoF,SAASO,EAAE0B,EAAEjC,GAAG,IAAI,MAAMU,KAAM,OAADuB,QAAC,IAADA,EAAAA,EAAG,GAAG,GAAGvB,EAAEyJ,OAAOnK,GAAG,MAAMU,EAAE0J,iBAAiB,UAAU1J,EAAE0J,gBAAgBC,WAAW,IAAI3J,EAAE0J,gBAAgBE,iBAAiB,MAAM,CAACH,KAAKnK,EAAEuK,YAAY7J,EAAE8J,cAAa,GAAI,OAAO,IAAI,CAAC,SAAS/G,EAAExB,EAAEjC,GAAG,IAAI,MAAMU,KAAM,OAADuB,QAAC,IAADA,EAAAA,EAAG,GAAG,GAAGvB,EAAEyJ,OAAOnK,EAAE,CAAC,MAAMiC,EAAE,uBAAuBvB,EAAE+J,SAAS,OAAOxI,EAAE,CAACkI,KAAKnK,EAAEuK,YAAY,KAAKC,aAAavI,GAAG,CAACkI,KAAKnK,EAAEuK,YAAY7J,EAAE8J,aAAavI,EAAE,CAAC,MAAM,eAAe,OAADjC,QAAC,IAADA,OAAC,EAADA,EAAG0K,eAAc,CAACP,KAAKnK,EAAEuK,YAAY,KAAKC,cAAa,GAAI,IAAI,C,mCCA55B,IAAIxK,GAAE,cAAcO,EAAAA,EAAEzB,WAAAA,CAAYoB,GAAGnB,MAAMmB,GAAGjB,KAAK0L,mBAAmB,IAAI,IAAGzK,EAAAA,EAAAA,GAAE,EAACuC,EAAAA,EAAAA,IAAE,CAACmI,eAAc,EAAGC,SAAS,eAAe7K,GAAE+F,UAAU,0BAAqB,GAAQ/F,IAAEE,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,GAAE,0CAA0CjC,I,uFCA5W,MAAMwD,GAAE1E,WAAAA,CAAYkB,GAAGf,KAAK6L,SAAS9K,EAAEf,KAAK8L,YAAY,IAAIC,GAAG,CAAC,SAAIC,GAAQ,OAAO,IAAIhM,KAAK8L,YAAYtL,IAAI,CAACyL,OAAAA,GAAUjM,KAAK8L,YAAY,IAAI,CAAC1J,GAAAA,CAAIY,GAAG,MAAMhC,EAAE,IAAIwC,GAAER,GAAG,OAAOhD,KAAK8L,YAAY1J,IAAIpB,GAAGhB,KAAKkM,WAAWlL,IAAGD,EAAAA,EAAAA,KAAG,IAAIf,KAAKmM,WAAWnL,IAAI,CAACmL,UAAAA,CAAWpL,GAAGf,KAAKoM,YAAYrL,GAAGf,KAAK8L,YAAYO,OAAOtL,EAAE,CAACmL,UAAAA,CAAWnL,GAAGA,EAAEuL,UAAUvL,EAAEuL,SAAQ,EAAGtM,KAAK6L,SAASU,aAAavJ,GAAGhD,KAAKwM,kBAAkBzL,EAAEiC,KAAK,CAACwJ,iBAAAA,CAAkBzL,EAAEiC,GAAG,IAAIjC,EAAEuL,QAAQ,OAAO,MAAMtL,EAAED,EAAE0L,IAAIC,IAAI1J,EAAE2J,IAAI3L,GAAGA,EAAE4L,SAAS5L,GAAGhB,KAAK6L,SAASgB,aAAa7J,EAAEhC,EAAED,EAAE4L,KAAK,CAACP,WAAAA,CAAYrL,GAAGA,EAAEuL,UAAUvL,EAAEuL,SAAQ,EAAGtM,KAAK6L,SAASU,aAAavJ,GAAGhD,KAAK8M,mBAAmB/L,EAAEiC,KAAK,CAAC8J,kBAAAA,CAAmB/L,EAAEiC,GAAGjC,EAAEuL,SAAStM,KAAK6L,SAASkB,gBAAgB/J,EAAEjC,EAAE4L,GAAG,CAACK,SAAAA,CAAUjM,GAAGf,KAAK8L,YAAYc,SAAS5J,GAAGhD,KAAKwM,kBAAkBxJ,EAAEjC,IAAI,CAACkM,WAAAA,CAAYlM,GAAGf,KAAK8L,YAAYc,SAAS5J,GAAGhD,KAAK8M,mBAAmB9J,EAAEjC,IAAI,CAACmM,SAAAA,GAAYlN,KAAK8L,YAAYc,SAAS7L,GAAGf,KAAKoM,YAAYrL,IAAI,EAAE,MAAMyC,GAAE3D,WAAAA,CAAYkB,GAAGf,KAAK2M,GAAG,IAAI3L,GAAAA,EAAEgC,GAAAA,GAAElB,WAAW9B,KAAKyM,IAAI,IAAIU,IAAInN,KAAKsM,SAAQ,EAAG,IAAI,MAAMtJ,KAAKjC,EAAE,MAAMiC,GAAGhD,KAAKoN,KAAKpK,EAAEqK,OAAOrK,EAAEsK,QAAQ,CAACF,IAAAA,CAAKrM,EAAEiC,GAAG,MAAMhC,EAAEhB,KAAKyM,IAAIC,IAAI3L,GAAGC,EAAEA,EAAEoB,IAAIY,GAAGhD,KAAKyM,IAAIc,IAAIxM,EAAE,IAAIgL,IAAI,CAAC/I,IAAI,E,uLCAjtB,MAAMrB,WAAUL,GAAAA,EAAEzB,WAAAA,CAAYkB,EAAEO,EAAEN,GAAGlB,MAAMiB,EAAEO,EAAEN,EAAE,CAACwM,iBAAAA,CAAkBzM,GAAG,OAAO,IAAIiC,GAAAA,EAAEjC,EAAE0M,KAAK9L,GAAE+L,OAAOhB,MAAMtH,MAAMpF,KAAK2N,eAAe3M,GAAAA,EAAE,CAAC4M,kBAAAA,GAAqB,OAAO1N,EAAAA,GAAAA,IAAE,CAAC2N,UAAU,CAACC,KAAK3N,GAAAA,GAAE4N,MAAMC,WAAWzM,GAAAA,GAAE0M,WAAWzJ,GAAAA,GAAE0J,aAAalO,KAAK2N,cAAcQ,aAAalN,GAAAA,GAAE,KAAKmN,YAAYpO,KAAK2N,cAAcQ,aAAa3K,GAAAA,GAAE,MAAM,EAAE7B,GAAE+L,OAAO,IAAI3M,GAAAA,EAAEU,GAAAA,GAAG,IAAI,kC,4BCArpB,MAAMH,WAAUN,GAAAA,EAAEnB,WAAAA,GAAcC,SAASC,WAAWC,KAAK0B,OAAOT,GAAAA,EAAEW,MAAM5B,KAAKqO,eAAc,EAAGrO,KAAKkE,gBAAe,EAAGlE,KAAKI,eAAc,EAAGJ,KAAKmO,cAAa,EAAGnO,KAAKsD,iBAAgB,CAAE,GAAEvC,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,GAAE,CAACsL,MAAMrN,GAAAA,EAAEsN,SAASjN,GAAEwF,UAAU,cAAS,IAAQ/F,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,MAAK1B,GAAEwF,UAAU,qBAAgB,IAAQ/F,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,MAAK1B,GAAEwF,UAAU,sBAAiB,IAAQ/F,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,MAAK1B,GAAEwF,UAAU,qBAAgB,IAAQ/F,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,MAAK1B,GAAEwF,UAAU,oBAAe,IAAQ/F,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,MAAK1B,GAAEwF,UAAU,uBAAkB,IAAQ/F,EAAAA,EAAAA,GAAE,EAACiC,EAAAA,GAAAA,GAAE,CAACwL,YAAW,KAAMlN,GAAEwF,UAAU,+BAA0B,G,4BCAi2C,MAAM2H,GAAE,CAACC,UAAU,CAAC,IAAIC,GAAAA,EAAElL,GAAAA,EAAEnB,SAAS,EAAEsM,GAAAA,GAAEC,MAAM,EAAE,KAAKC,OAAO,CAAC,IAAIH,GAAAA,EAAElL,GAAAA,EAAElB,MAAM,EAAEqM,GAAAA,GAAEG,cAAc,EAAE,GAAE,KAAM,IAAIC,GAAE,cAAcC,GAAAA,GAAEpP,WAAAA,CAAYkB,GAAGjB,MAAMiB,GAAGf,KAAKoK,KAAK8E,GAAAA,GAAEC,IAAInP,KAAKoP,UAAS,EAAGpP,KAAKqP,gBAAgB,IAAI9L,GAAAA,EAAEvD,KAAK8L,YAAY,IAAIzK,GAAE,CAACkL,YAAYxL,GAAGf,KAAKuM,YAAYxL,GAAG8L,aAAaA,CAAC9L,EAAEiC,EAAEQ,IAAIxD,KAAKsP,cAAcvO,EAAEiC,EAAEQ,GAAGuJ,gBAAgBA,CAAChM,EAAEiC,IAAIhD,KAAKuP,iBAAiBxO,EAAEiC,KAAKhD,KAAKwP,SAAS,IAAIrC,IAAI,CAAC,CAACsC,GAAAA,EAAEC,gBAAgB3O,GAAGA,IAAInB,GAAAA,EAAEiC,cAAcd,IAAInB,GAAAA,EAAEkC,YAAY9B,KAAK8L,YAAYE,QAAQ,CAACyD,GAAAA,EAAEE,qBAAqB5O,GAAGA,IAAInB,GAAAA,EAAEiC,eAAe7B,KAAK4P,SAAS,GAAG5P,KAAK6P,oBAAmB,EAAG7P,KAAK8P,iBAAiB,IAAIC,GAAE/P,KAAKgQ,OAAO,IAAIxM,GAAAA,CAAC,CAACyM,uBAAAA,CAAwBlP,GAAGf,KAAK6L,SAAS9K,EAAEA,EAAEmP,eAAe,CAACC,yBAAAA,GAA4B,CAACC,SAAAA,CAAUrP,EAAEiC,EAAEQ,EAAExC,GAAG,MAAMM,GAAEsC,EAAAA,GAAAA,MAAI1B,GAAE0B,EAAAA,GAAAA,MAAIvB,GAAEuB,EAAAA,GAAAA,MAAInB,GAAEmB,EAAAA,GAAAA,MAAIvC,GAAE0B,EAAAA,EAAAA,MAAInD,EAAEmB,EAAE4B,OAAO0N,oBAAoB,EAAEpB,EAAElO,EAAE4B,OAAO2N,MAAK7O,EAAAA,EAAAA,GAAES,EAAElB,EAAEwC,GAAG,MAAMhC,EAAE,GAAEP,EAAAA,EAAAA,GAAEiB,IAAGX,EAAAA,EAAAA,GAAEW,EAAEA,EAAEV,IAAGrB,EAAAA,EAAAA,GAAEkC,EAAEH,IAAGsC,EAAAA,GAAAA,GAAEnD,EAAEa,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAIqC,EAAAA,EAAAA,GAAErC,EAAEsB,IAAI,MAAM0L,EAAE,IAAIqB,GAAEd,EAAE,IAAIc,GAAEC,EAAE,IAAIC,MAAMhN,GAAEE,EAAAA,EAAAA,MAAIJ,GAAEI,EAAAA,EAAAA,IAAE3D,KAAKqP,gBAAgBpP,UAAS0B,EAAAA,EAAAA,IAAE4B,GAAGC,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGD,GAAGvD,KAAKgQ,OAAOU,QAAQzP,IAAI,MAAMM,EAAEN,EAAEG,UAAUpB,KAAKqP,gBAAgB/O,YAAY,IAAIH,EAAEc,EAAEyH,IAAIiI,qBAAqBtP,GAAGuC,EAAE3C,EAAEyH,IAAIkI,qBAAqBvP,GAAGlB,GAAG0Q,GAAEtP,EAAEpB,EAAE8O,EAAEjP,KAAKqP,gBAAgBzP,EAAEqB,EAAEE,QAAQyC,GAAGiN,GAAEtP,EAAEqC,EAAEqL,EAAEjP,KAAKqP,gBAAgBzP,EAAEqB,EAAEE,QAAQ,MAAMqD,EAAEZ,EAAE,EAAED,EAAE,MAAMuL,EAAE4B,MAAM,MAAMrB,EAAEqB,MAAM5B,EAAE4B,KAAK3Q,EAAEqB,GAAGiO,EAAEqB,KAAKlN,EAAEpC,EAAE,GAAGgD,GAAGb,EAAE,OAAO,MAAMZ,EAAEgO,GAAExP,EAAEqC,EAAEqL,EAAEjP,KAAKqP,gBAAgBzP,EAAEqB,EAAEE,QAAQ,IAAIF,EAAEyH,IAAIsI,aAAaxN,EAAEtB,EAAEa,GAAG,OAAO,MAAMK,EAAEL,EAAEA,EAAE9B,EAAEyH,IAAIoB,gBAAgBrG,IAAG9B,EAAAA,EAAAA,IAAE8B,GAAGD,EAAE,IAAIA,EAAE,IAAIA,EAAE,GAAGC,GAAG,MAAMM,IAAGjD,EAAAA,EAAAA,IAAEyC,EAAEE,IAAGhC,EAAAA,EAAAA,GAAEgB,EAAExB,EAAEC,OAAOsC,GAAG,MAAM7D,EAAEsB,EAAEgQ,YAAYjJ,OAAO,EAAE,IAAI,IAAIvG,EAAE,EAAEA,EAAE9B,EAAE8B,IAAI,CAAC,GAAGH,EAAE,GAAGmB,EAAE,GAAGxB,EAAEgQ,YAAY,EAAExP,GAAGH,EAAE,GAAGmB,EAAE,GAAGxB,EAAEgQ,YAAY,EAAExP,EAAE,GAAGH,EAAE,GAAGmB,EAAE,GAAGxB,EAAEgQ,YAAY,EAAExP,EAAE,GAAGsC,KAAId,EAAAA,EAAAA,IAAEM,EAAEjC,GAAG,SAAS,MAAMnB,GAAEoE,EAAAA,EAAAA,GAAEjD,EAAEY,GAAG0B,GAAE1D,EAAAA,EAAAA,GAAEoB,GAAGnB,EAAEA,EAAE,GAAGyD,EAAER,EAAE,SAAS,IAAIoB,EAAErE,EAAE8O,EAAE,MAAMtL,EAAEkN,GAAEtP,EAAEiD,EAAExE,KAAKqP,gBAAgBzP,EAAEqB,EAAEE,QAAQ,GAAGhB,EAAEwD,EAAE,EAAE,SAASa,GAAGb,EAAE,MAAMhC,EAAEoP,GAAExP,EAAEiD,EAAExE,KAAKqP,gBAAgBzP,EAAEqB,EAAEE,QAAQ,GAAGyC,EAAEjC,EAAEA,EAAE,SAAS,MAAMb,GAAGX,EAAEwD,GAAGnC,EAAEuB,EAAEhC,IAAIA,EAAEmQ,MAAMC,GAAElQ,EAAEQ,EAAEV,EAAEmQ,OAAOnQ,EAAE+P,KAAKhQ,EAAEC,EAAEqQ,OAAO/O,EAAEtB,EAAEsQ,KAAKpQ,EAAEF,EAAEuM,QAAQ7L,EAAEV,EAAE6O,SAAS5P,KAAK4P,SAAS7O,GAAG,IAAI,MAAMmO,EAAE4B,MAAMhQ,EAAEoO,EAAE4B,QAAQ,MAAM9N,GAAGA,EAAEQ,EAAExC,EAAEF,KAAKiC,EAAEmM,GAAGnO,EAAEuQ,QAAQC,QAAQ1Q,GAAAA,GAAE2Q,MAAM,MAAM/B,EAAEqB,MAAMhQ,EAAE2O,EAAEqB,QAAQ,MAAM9N,GAAGA,EAAEQ,EAAExC,EAAEF,KAAKiC,EAAE0M,GAAG1O,EAAEuQ,QAAQC,QAAQ1Q,GAAAA,GAAE4Q,MAAM,MAAMzO,GAAGA,EAAEQ,EAAExC,EAAEF,IAAI,CAAC,MAAMC,EAAE,IAAIwP,GAAEC,EAAE/I,KAAK1E,EAAEhC,GAAG,CAAC,KAAK,MAAMoC,EAAEpC,IAAI,MAAM6O,SAAS5M,EAAEqO,KAAK7N,EAAE8J,QAAQtM,GAAGD,EAAE,OAAO,IAAIgD,GAAAA,EAAEhD,EAAEmQ,MAAMlO,EAAEhC,GAAG,IAAIhB,KAAK0R,cAAclO,EAAExC,EAAED,EAAEmQ,QAAQ,EAAES,EAAEA,CAAC5Q,EAAEiC,KAAK,MAAMQ,EAAEL,EAAEH,GAAGjC,EAAEwM,IAAIvN,KAAKoK,KAAK5G,EAAER,EAAE8N,KAAK9N,EAAEoO,OAAO,EAAE,GAAGQ,GAAG1C,GAAG,CAAC,MAAMlM,EAAEjC,EAAE8Q,QAAQC,KAAK,MAAM9O,EAAE8N,MAAM5B,EAAE4B,KAAK9N,EAAE8N,OAAOa,EAAE3O,EAAEkM,EAAE,CAAC,GAAG0C,GAAGnC,IAAI1O,EAAEuQ,QAAQC,QAAQ1Q,GAAAA,GAAE2Q,IAAI,CAAC,MAAMxO,EAAEjC,EAAE8Q,QAAQE,KAAK,MAAM/O,EAAE8N,MAAMrB,EAAEqB,KAAK9N,EAAE8N,OAAOa,EAAE3O,EAAEyM,EAAE,CAAC,GAAG1O,EAAEuQ,QAAQC,QAAQ1Q,GAAAA,GAAE4Q,IAAI,CAAC,MAAMzO,GAAEI,EAAAA,GAAAA,IAAEI,EAAExC,GAAG,IAAI,MAAMwC,KAAKgN,EAAE,CAAC,MAAMxP,GAAErB,EAAAA,GAAAA,IAAEqD,GAAG2O,EAAE3Q,EAAEwC,GAAGzC,EAAE8Q,QAAQG,IAAIvK,KAAKzG,EAAE,CAAC,CAAC,CAACiR,gBAAAA,CAAiBlR,GAAG,OAAO,IAAIf,KAAKgQ,OAAOhI,QAAQjH,EAAEW,SAAS9B,GAAAA,EAAEgC,QAAQb,EAAEW,SAAS9B,GAAAA,EAAEiC,aAAad,EAAEmR,eAAeC,OAAO1C,GAAAA,EAAEE,uBAAuB5O,EAAEW,SAAS9B,GAAAA,EAAEkC,UAAU,MAAM9B,KAAKgQ,OAAOU,QAAQ1N,IAAI,MAAMA,EAAEoP,KAAKpS,KAAKqS,UAAUtR,EAAEiC,EAAE,IAAIhD,KAAK8P,iBAAiB5L,eAAelE,KAAKqP,gBAAgB1O,gBAAgBX,KAAK8P,iBAAiB1P,cAAcJ,KAAKqP,gBAAgBjP,cAAcJ,KAAK8P,iBAAiBzB,cAAcrO,KAAK6P,mBAAmB7P,KAAK8P,iBAAiB3B,aAAapN,EAAEmR,eAAe/D,aAAanO,KAAK8P,iBAAiBxM,gBAAgBtD,KAAKsS,iBAAiBtS,KAAK8P,iBAAiBpO,OAAOX,EAAEW,OAAO1B,KAAK6L,SAAS0G,oBAAoBC,kBAAkB3N,GAAE7E,KAAK8P,iBAAiB9P,KAAKyS,YAAY,CAACC,UAAAA,CAAW3R,EAAEiC,GAAG,MAAMQ,EAAEzC,EAAE0M,KAAKzM,EAAEwC,EAAEmP,cAAc3P,EAAEjC,EAAEmR,eAAelS,KAAKqP,iBAAiB/N,EAAEP,EAAEW,SAAS9B,GAAAA,EAAEkC,UAAU9B,KAAKgQ,OAAOU,QAAQ1N,IAAI,IAAIA,EAAEiO,YAAYjJ,QAAQ1G,IAAI0B,EAAE4P,aAAa5R,EAAE6R,SAAS7P,EAAEjC,EAAEmR,eAAelS,KAAKqP,iBAAiB7L,EAAEsP,QAAQ9P,EAAEoP,KAAK9Q,EAAEtB,KAAK+S,0BAA0BvP,EAAER,GAAGQ,EAAEwP,WAAWnQ,GAAAA,GAAEoQ,OAAO,EAAEjQ,EAAEiO,YAAYjJ,OAAO,GAAG,GAAG,CAAC+K,yBAAAA,CAA0BhS,EAAEiC,GAAG,MAAMQ,EAAER,EAAE4P,WAAW,GAAG,MAAMpP,EAAE,OAAO,IAAIxC,EAAEwC,EAAE,GAAG0P,UAAU5R,EAAEN,EAAE,EAAE,IAAI,IAAIC,EAAE,EAAEA,EAAEuC,EAAEwE,OAAO/G,IAAI,CAAC,MAAM+B,EAAEQ,EAAEvC,GAAGiS,UAAU,GAAGlQ,IAAI1B,EAAE,CAAC,MAAMkC,EAAElC,EAAEN,EAAEwC,EAAE,GAAGzC,EAAEiS,WAAWnQ,GAAAA,GAAEoQ,OAAOjS,EAAEwC,GAAGxC,EAAEgC,CAAC,CAAC1B,EAAE0B,EAAE,CAAC,CAAC,MAAMvB,EAAEH,EAAEN,EAAES,EAAE,GAAGV,EAAEiS,WAAWnQ,GAAAA,GAAEoQ,OAAOjS,EAAES,EAAE,CAAC,iBAAIrB,CAAcW,GAAGf,KAAKqP,gBAAgBjP,gBAAgBW,IAAIf,KAAKqP,gBAAgBjP,cAAcW,EAAEf,KAAKmT,iBAAiB,CAAC,iBAAI/S,GAAgB,OAAOJ,KAAKqP,gBAAgBjP,aAAa,CAAC,eAAIE,CAAYS,GAAGf,KAAKqP,gBAAgB/O,cAAcS,IAAIf,KAAKqP,gBAAgB/O,YAAYS,EAAEf,KAAKmT,iBAAiB,CAAC,eAAI7S,GAAc,OAAON,KAAKqP,gBAAgB/O,WAAW,CAAC,aAAIC,CAAUQ,GAAGf,KAAKqP,gBAAgB9O,YAAYQ,IAAIf,KAAKqP,gBAAgB9O,UAAUQ,EAAEf,KAAKmT,iBAAiB,CAAC,aAAI5S,GAAY,OAAOP,KAAKqP,gBAAgB9O,SAAS,CAAC,2BAAIF,CAAwBU,GAAGf,KAAKqP,gBAAgBhP,0BAA0BU,IAAIf,KAAKqP,gBAAgBhP,wBAAwBU,EAAEf,KAAKmT,iBAAiB,CAAC,2BAAI9S,GAA0B,OAAOL,KAAKqP,gBAAgBhP,uBAAuB,CAAC,QAAIG,CAAKO,GAAGf,KAAKqP,gBAAgB7O,OAAOO,IAAIf,KAAKqP,gBAAgB7O,KAAKO,EAAEf,KAAKmT,iBAAiB,CAAC,QAAI3S,GAAO,OAAOR,KAAKqP,gBAAgB7O,IAAI,CAAC,UAAIC,CAAOM,GAAGf,KAAKqP,gBAAgB5O,SAASM,IAAIf,KAAKqP,gBAAgB5O,OAAOM,EAAEf,KAAKmT,iBAAiB,CAAC,UAAI1S,GAAS,OAAOT,KAAKqP,gBAAgB5O,MAAM,CAAC,eAAImJ,CAAY7I,IAAGmB,EAAAA,EAAAA,IAAElC,KAAKqP,gBAAgBpP,QAAQc,GAAGsB,EAAAA,GAAE,CAAC,oBAAIiQ,GAAmB,QAAO7P,EAAAA,EAAAA,IAAEzC,KAAKqP,gBAAgBpP,QAAQoC,EAAAA,IAAG,CAACtB,EAAEiC,IAAIjC,IAAIiC,GAAG,CAAC,qBAAIyC,GAAoB,OAAOzF,KAAK6P,kBAAkB,CAAC,qBAAIpK,CAAkB1E,GAAGf,KAAK6P,qBAAqB9O,IAAIf,KAAK6P,mBAAmB9O,EAAEf,KAAKmT,iBAAiB,CAACC,OAAAA,CAAQrS,GAAGf,KAAKgQ,OAAOvI,KAAK1G,GAAGf,KAAK8L,YAAYkB,UAAUjM,GAAGf,KAAKmT,gBAAgB,CAACE,UAAAA,CAAWtS,GAAG,IAAIyC,EAAE,KAAK,OAAOxD,KAAKgQ,OAAOsD,eAAetS,GAAGA,EAAE2L,KAAK5L,IAAIyC,EAAExC,EAAEA,EAAEoR,KAAIpP,EAAAA,EAAAA,IAAEhC,EAAEoR,KAAKpS,KAAK8L,YAAYmB,YAAYjM,IAAG,KAAMhB,KAAKmT,iBAAiB3P,CAAC,CAAC+I,WAAAA,CAAYxL,GAAGf,KAAKgQ,OAAOU,OAAO3P,EAAE,CAACmM,SAAAA,GAAYlN,KAAKgQ,OAAOU,QAAQ3P,GAAGA,EAAEqR,KAAIpP,EAAAA,EAAAA,IAAEjC,EAAEqR,OAAOpS,KAAK8L,YAAYoB,YAAYlN,KAAKgQ,OAAOuD,QAAQvT,KAAKmT,gBAAgB,CAACK,SAAAA,CAAUzS,GAAG,OAAOf,KAAK8L,YAAY1J,IAAIrB,EAAE,CAACuO,aAAAA,CAAcvO,EAAEiC,EAAEQ,GAAGzC,EAAE6R,WAA4pC,SAAW7R,EAAEiC,EAAEQ,GAAG,MAAMzC,IAAIA,EAAE,IAAI,MAAMC,EAAE,CAACkS,UAAUlQ,EAAE2J,GAAGnJ,GAAGzC,EAAE0G,KAAKzG,GAAG,MAAMM,EAAEmS,GAAEzS,GAAG,IAAIS,EAAEV,EAAEiH,OAAO,EAAE,KAAKvG,EAAE,GAAGH,EAAEmS,GAAE1S,EAAEU,EAAE,MAAMV,EAAEU,EAAE,GAAGV,EAAEU,IAAI,CAACV,EAAEU,GAAGV,EAAEU,EAAE,MAAMA,EAAE,OAAOV,CAAC,CAArzC2S,CAAE3S,EAAE6R,WAAW5P,EAAEQ,GAAGxD,KAAKmT,gBAAgB,CAAC5D,gBAAAA,CAAiBxO,EAAEiC,GAAGjC,EAAE6R,WAAovC,SAAW7R,EAAEiC,GAAG,GAAG,MAAMjC,EAAE,OAAOA,EAAE,MAAMyC,EAAEzC,EAAE4S,QAAQ5S,GAAGA,EAAE4L,KAAK3J,IAAI,OAAO,IAAIQ,EAAEwE,OAAO,KAAKxE,CAAC,CAAv0CoQ,CAAE7S,EAAE6R,WAAW5P,GAAGhD,KAAKmT,gBAAgB,CAACd,SAAAA,CAAUtR,EAAEiC,GAAG,MAAMQ,EAAEzC,EAAE0M,KAAKzK,EAAEoP,IAAI,IAAI5B,GAAAA,EAAEhN,EAAEhC,GAAAA,EAAEiN,GAAE,CAACC,UAAUmF,GAAAA,EAAEC,aAAatQ,EAAEd,GAAAA,GAAEqR,YAAY/Q,EAAEiO,aAAanC,OAAO+E,GAAAA,EAAEC,aAAatQ,EAAEd,GAAAA,GAAEqR,YAAY/Q,EAAEgR,MAAM,CAACb,cAAAA,GAAiBnT,KAAK6L,UAAU7L,KAAK6L,SAASqE,eAAe,IAAGnP,EAAAA,EAAAA,GAAE,EAACC,EAAAA,EAAAA,IAAE,CAAC2K,eAAc,KAAMqD,GAAElI,UAAU,qBAAgB,GAAQkI,IAAEjO,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,GAAE,2CAA2C0N,IAAG,MAAMiF,WAAU9Q,GAAAA,EAAEtD,WAAAA,CAAYkB,EAAEiC,EAAEQ,EAAExC,EAAEM,EAAEG,EAAER,EAAEM,GAAgB,IAAdpB,EAACJ,UAAAiI,OAAA,QAAAS,IAAA1I,UAAA,GAAAA,UAAA,GAAC,KAAKwE,EAACxE,UAAAiI,OAAA,QAAAS,IAAA1I,UAAA,GAAAA,UAAA,GAAC,KAAMD,MAAM0D,EAAElC,EAAE0B,GAAGhD,KAAK2M,GAAG5L,EAAEf,KAAK0I,IAAI1H,EAAEhB,KAAKiR,YAAYxP,EAAEzB,KAAKgU,IAAI/S,EAAEjB,KAAKmC,WAAWZ,EAAEvB,KAAKkU,iBAAiB/T,EAAEH,KAAK4S,WAAWrO,CAAC,EAAqD,SAASwM,GAAEhQ,EAAEiC,EAAEQ,EAAExC,EAAEM,GAAG,GAAGkC,EAAE7C,gBAAgB,OAAO6C,EAAE9C,UAAUsC,EAAEhC,EAAE,MAAMS,GAAEkQ,EAAAA,GAAAA,GAAErQ,GAAG0B,EAAEhC,EAAE,OAAOwC,EAAEpD,cAAc+T,KAAKrC,IAAItO,EAAE9C,UAAU,EAAEe,GAAG+B,EAAE5C,cAAc,EAAEuT,KAAKrC,IAAIqC,KAAKpC,IAAIvO,EAAE5C,cAAcoC,EAAEhC,EAAED,EAAE,GAAGU,GAAG0S,KAAKrC,IAAI/Q,EAAE,EAAEU,EAAE,CAAC,SAASoP,GAAE9P,EAAEiC,EAAEQ,EAAExC,EAAEM,GAAG,OAAOkC,EAAE7C,gBAAgB,EAAEoQ,GAAEhQ,EAAEiC,EAAEQ,EAAExC,EAAEM,EAAE,CAAC,SAAS6P,GAAEpQ,EAAEiC,EAAEQ,GAAG,OAAO,MAAMA,IAAIA,GAAEI,EAAAA,GAAAA,OAAKJ,EAAE,GAAGzC,EAAEG,OAAO,GAAGH,EAAEkQ,YAAY,EAAEjO,GAAGQ,EAAE,GAAGzC,EAAEG,OAAO,GAAGH,EAAEkQ,YAAY,EAAEjO,EAAE,GAAGQ,EAAE,GAAGzC,EAAEG,OAAO,GAAGH,EAAEkQ,YAAY,EAAEjO,EAAE,GAAGQ,CAAC,CAAC,SAASiQ,GAAE1S,GAAG,OAAO,MAAMA,EAAEmS,UAAUnS,EAAEmS,WAAW,CAAC,CAAqQ,MAAM3C,GAAE1Q,WAAAA,GAAcG,KAAKqR,KAAK,KAAKrR,KAAKsN,QAAQ,KAAKtN,KAAKkR,MAAM,KAAKlR,KAAK8Q,KAAK,KAAK9Q,KAAKoR,OAAO,KAAKpR,KAAK4P,SAAS,EAAE,EAAE,SAASgC,GAAG7Q,GAAG,OAAO,MAAMA,EAAE+P,MAAM,MAAM/P,EAAEmQ,OAAO,MAAMnQ,EAAEuM,SAAS,MAAMvM,EAAEsQ,IAAI,C,+GCA31L,MAAW+C,IAAGnF,EAAAA,EAAAA,MAAI,IAAIoF,GAAG,eAAcC,EAAAA,GAAAA,IAAGvD,EAAAA,EAAAA,GAAEwD,GAAAA,KAAM1U,WAAAA,GAAcC,SAASC,WAAWC,KAAKoK,KAAK,iBAAiBpK,KAAKwU,kBAAkB,IAAIxU,KAAKyF,mBAAkB,EAAGzF,KAAKyU,UAAU,KAAKzU,KAAK0U,gBAAe,EAAG1U,KAAK2U,eAAe,IAAI5I,IAAI/L,KAAK4U,YAAY,IAAIzH,IAAInN,KAAK6U,mBAAkB,EAAG7U,KAAK8U,WAAW,EAAE9U,KAAK+U,sBAAsB,EAAE/U,KAAKgV,gBAAgB,EAAEhV,KAAKiV,eAAe,EAAEjV,KAAKkV,YAAY,GAAGlV,KAAKmV,WAAW,IAAI1E,MAAMzQ,KAAKoV,WAAW,IAAI3R,EAAAA,EAAEzD,KAAKqV,mBAAmB,IAAIlI,IAAInN,KAAKsV,cAAc,IAAInI,IAAInN,KAAKuV,aAAY,EAAGvV,KAAKwV,iBAAgB,EAAGxV,KAAKyV,8BAA8B,KAAKzV,KAAK0V,sCAAsC,KAAK1V,KAAK2V,WAAW,EAAE3V,KAAK4V,OAAO,KAAK5V,KAAK6V,sBAAqB,EAAG7V,KAAK8V,aAAa,GAAG9V,KAAK+V,qBAAoB,CAAE,CAAC,WAAIC,GAAU,OAAOhW,KAAK4F,MAAMqQ,UAAUC,IAAI,CAAC,cAAIC,GAAY,IAAAC,EAAC,MAAMrV,ENA1tH,SAAWiC,GAAG,MAAMjC,EAAG,OAADiC,QAAC,IAADA,OAAC,EAADA,EAAGiI,mBAAmB,OAAOlK,GAAG,UAAUA,EAAEqJ,KAAKrJ,EAAE,IAAI,CMA+oHsV,CAAY,QAAXD,EAACpW,KAAK4F,aAAK,IAAAwQ,OAAA,EAAVA,EAAYjM,UAAc,OAAO,OAAO,OAADpJ,QAAC,IAADA,OAAC,EAADA,EAAGT,aAAYS,EAAET,YAAhC,CAA6C,CAAC,2BAAID,GAAyB,IAAAiW,EAAC,MAAMvV,EAAEgP,EAAY,QAAXuG,EAACtW,KAAK4F,aAAK,IAAA0Q,OAAA,EAAVA,EAAYnM,UAAe,OAAO,OAAO,OAADpJ,QAAC,IAADA,OAAC,EAADA,EAAGV,0BAAwBU,EAAEV,uBAAyB,CAAC,aAAIkW,GAAW,IAAAC,EAAC,MAAMzV,EAAEgP,EAAY,QAAXyG,EAACxW,KAAK4F,aAAK,IAAA4Q,OAAA,EAAVA,EAAYrM,UAAc,OAAO,OAAO,OAADpJ,QAAC,IAADA,OAAC,EAADA,EAAGP,MAAKO,EAAEP,KAAzB,CAA+B,CAAC,kBAAIiW,GAAgB,IAAAC,EAAY,OAAiB,QAAVA,EAAA1W,KAAK4F,aAAK,IAAA8Q,GAAVA,EAAYvM,SAAS,GAAInK,KAAK4F,MAAMuE,SAASwM,cAAc,CAAC,CAAC,mBAAIC,GAAkB,MAAM7V,EAAEwP,EAAEvQ,KAAK4F,OAAO5C,EAAE,IAAI+I,IAAIhL,EAAE4J,kBAAkB3H,EAAEZ,IAAIrB,EAAE4J,iBAAiBO,MAAMnK,EAAE6J,qBAAqB5H,EAAEZ,IAAIrB,EAAE6J,oBAAoBM,MAAM,MAAMlK,EAAEmQ,EAAEnR,KAAK4F,OAAO,GAAG5E,EAAE,IAAI,MAAMM,KAAKN,EAAEM,EAAE0J,eAAehI,EAAEZ,IAAId,EAAE0J,cAAcE,MAAM,GAAGlL,KAAK4F,MAAMiR,UAAU,IAAI,MAAMvV,KAAKsN,EAAAA,EAAAA,IAAE5O,KAAK4F,MAAMkR,YAAY9W,KAAK4F,MAAMiR,WAAW7T,EAAEZ,IAAId,GAAG,OAAOmP,MAAMsG,KAAK/T,EAAE,CAAC,gBAAIgU,GAAe,IAAIhX,KAAKoG,OAAOpG,KAAKoG,KAAK6Q,aAAa,OAAO,KAAK,MAAMlW,GAAE8D,EAAAA,EAAAA,MAAI7B,EAAEhD,KAAKoG,KAAK8Q,uBAAuB,OAAOC,EAAAA,GAAAA,GAAGnX,KAAKoG,KAAK6Q,aAAalW,EAAEiC,GAAGjC,EAAE,IAAI,CAAC,oBAAIqW,GAAmB,MAAMrW,EAAEf,KAAK4F,OAAO5F,KAAK4F,MAAMyR,cAAc,GAAGtW,GAAG,oBAAoBA,EAAEuW,KAAK,KAAAC,EAAC,MAAMvU,GAAErD,EAAAA,EAAAA,IAAEK,KAAK4F,MAAM4R,kBAAkBxW,GAAE2N,EAAAA,EAAAA,IAAE5N,EAAE0W,MAAM,OAAe,QAATF,EAACxW,EAAE2W,cAAM,IAAAH,EAAAA,EAAE,GAAGvW,EAAEgC,CAAC,CAAC,OAAO,CAAC,CAAC2U,UAAAA,GAAa,MAAM5W,EAAEf,KAAKoG,KAAKwR,mBAAmB5U,EAAu1kB,SAAYjC,GAAG,OAAOiC,GAAGjC,EAAE8W,UAAUC,SAAS9U,EAAE,CAAr4kB+U,CAAGhX,GAAGf,KAAKgY,QAAQ,IAAIjU,EAAEf,GAAGhD,KAAK6F,oBAAoB7F,KAAKgY,QAAQC,SAASjY,KAAKkY,WAAUzJ,EAAAA,EAAAA,GAAE,EAAE,EAAE,EAAEzO,KAAK4F,MAAM4R,mBAAkB/H,EAAAA,EAAAA,IAAEzP,KAAK4F,QAAOzC,EAAAA,EAAAA,IAAEnD,KAAK4F,MAAM5F,KAAKoG,MAAMpG,KAAKmY,gBAAgBpX,EAAEqX,0BAA0BC,GAAAA,GAAGC,WAAWtY,KAAKuY,eAAexX,EAAEqX,0BAA0BC,GAAAA,GAAGG,UAAUxY,KAAKyY,gBAAgB,MAAMzX,EAAEhB,KAAK0Y,iBAAiBpX,EAAEtB,KAAKoG,KAAKwR,mBAAmBe,iBAAiB3Y,KAAK4Y,UAAUtX,EAAEuX,SAAS,OAADC,OAAQ9Y,KAAK4F,MAAMmT,MAAO/Y,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKgX,eAAe,IAAIhX,KAAKiZ,wBAAwBtV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKoX,mBAAmB,IAAIpX,KAAKkZ,2BAA2BvV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAK4F,MAAMuE,WAAW,IAAInK,KAAKmZ,oBAAoBxV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAK4F,MAAMiF,UAAU,IAAI7K,KAAKoZ,WAAWzV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAK4F,MAAMiR,YAAY,IAAI7W,KAAKoZ,WAAWzV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAK4F,MAAMa,sBAAsB,IAAIzG,KAAKiZ,yBAAyBjZ,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKoG,KAAKiT,MAAMC,gBAAgB,IAAItZ,KAAKiZ,yBAAyBjZ,KAAKiG,WAAW,CAACjG,KAAKoG,KAAKmT,eAAeC,GAAG,gBAAgBzY,GAAGf,KAAKyZ,oBAAoB1Y,MAAKb,EAAAA,EAAAA,KAAG,IAAIF,KAAKoG,KAAKsT,UAAU,IAAI1Z,KAAKiZ,wBAAwBhW,EAAAA,MAAKjD,KAAK6F,oBAAoB7E,GAAGhB,KAAK2Z,MAAM,KAAK3Z,KAAKiG,WAAW,CAAClF,EAAE6Y,UAAUC,aAAaC,GAAAA,GAAGC,kBAAkB/Z,MAAMe,EAAE6Y,UAAUI,4BAA4B,IAAIha,KAAKia,eAAe,IAAIja,KAAKka,aAAala,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKma,YAAYpZ,IAAIA,EAAEf,KAAKoa,kBAAkBpa,KAAKiZ,sBAAsB,GAAGtV,EAAAA,KAAI,IAAI,KAAK3D,KAAKgZ,iBAAiB9L,YAAYlN,KAAKqa,kBAAkB,GAAG,CAACpB,oBAAAA,GAAuBjZ,KAAK6U,mBAAkB,EAAG7U,KAAKsa,gBAAgB,CAACrO,OAAAA,GAAUjM,KAAKua,gBAAgBva,KAAKgY,SAAQzW,EAAAA,EAAAA,IAAEvB,KAAKgY,SAAShY,KAAKwa,mBAAmBxa,KAAK4Y,WAAUrX,EAAAA,EAAAA,IAAEvB,KAAK4Y,WAAW5Y,KAAK0V,uCAAsC9R,EAAAA,EAAAA,IAAE5D,KAAK0V,uCAAuC1V,KAAKyV,8BAA8B,IAAI,CAACgD,aAAAA,GAAgBzY,KAAKyU,UAAU,IAAIgG,GAAG,CAAC/I,cAAcA,CAAC3Q,EAAEiC,EAAEhC,IAAIhB,KAAK0a,eAAe3Z,EAAEiC,EAAEhC,KAAKhB,KAAKyU,UAAU7E,SAAS5P,KAAK4F,MAAMmT,IAAI/Y,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKgX,eAAejW,GAAGf,KAAKyU,UAAU7K,YAAY7I,GAAG4C,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKma,YAAYpZ,GAAGf,KAAK2a,mBAAmB5Z,IAAI4C,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKmW,aAAapV,GAAGf,KAAKyU,UAAUnU,YAAYS,GAAG4C,EAAAA,IAAG3D,KAAKyU,UAAUlU,UAAU4T,KAAKyG,KAAK,GAAG5a,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKK,0BAA0BU,GAAGf,KAAKyU,UAAUpU,wBAAwBU,GAAG4C,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKuW,YAAYxV,IAAI,MAAMiC,GAAErB,EAAAA,EAAAA,IAAEZ,GAAGf,KAAKyU,UAAUjU,KAAKO,EAAEf,KAAKyU,UAAUhU,OAAOuC,CAAC,GAAGW,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKyF,oBAAoB1E,GAAGf,KAAKyU,UAAUhP,kBAAkB1E,GAAG4C,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKyW,iBAAiB,IAAIzW,KAAKiZ,wBAAwBtV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKwU,oBAAoB,IAAIxU,KAAKiZ,wBAAwBtV,EAAAA,IAAG3D,KAAKgZ,iBAAiB5W,KAAK,IAAIpC,KAAKoG,KAAKyU,gBAAgBC,aAAaC,WAAWC,YAAYja,IAAIf,KAAK8U,WAAW/T,EAAEf,KAAKiZ,sBAAsB,GAAGtV,EAAAA,GAAE,CAAC6W,gBAAAA,GAAmBxa,KAAKyU,UAAUvH,YAAYlN,KAAK2a,mBAAkB,EAAG,CAACD,cAAAA,CAAe3Z,EAAEiC,EAAEhC,GAAG,MAAMM,EAAE,MAAMP,EAAEmT,iBAAiBnT,EAAEmT,iBAAiBlR,GAAGA,EAAEQ,GAAEyX,EAAAA,GAAAA,IAAGjb,KAAKoG,KAAKpF,GAAGC,EAAEjB,KAAKkb,yBAAyBna,EAAEO,GAAG,OAAO,IAAI6Z,GAAG,CAACzP,mBAAmB,CAAC2B,OAAOtM,EAAE4L,GAAGyO,iBAAiBpY,EAAEqY,0BAA0B/Z,EAAEga,MAAMtb,KAAKiV,gBAAgBsG,SAAS/X,EAAErB,WAAWlB,EAAE2E,MAAM5F,KAAK4F,MAAM4V,YAAYxb,KAAK4F,OAAO,CAACsV,wBAAAA,CAAyBna,EAAEiC,GAAG,MAAMhC,EAAE,CAAC,EAAE,IAAI,MAAMM,KAAKP,EAAEoB,WAAWnC,KAAKyb,wBAAwBna,EAAE0J,cAAc1J,EAAEoa,OAAO1Y,EAAEhC,GAAG,OAAOA,CAAC,CAACya,uBAAAA,CAAwB1a,EAAEiC,EAAEhC,EAAEM,GAAE,IAAAqa,EAAAC,EAAC,MAAMpY,EAAe,QAAdmY,EAAC5a,EAAEuK,mBAAW,IAAAqQ,OAAA,EAAbA,EAAexQ,gBAAgBlK,EAAqB,QAApB2a,EAAE,OAADpY,QAAC,IAADA,OAAC,EAADA,EAAG6H,wBAAgB,IAAAuQ,EAAAA,EAAE,EAAE,GAAG,IAAI3a,EAAEK,EAAEP,EAAEmK,MAAMlI,EAAEhC,QAAQ,GAAG,WAAW,OAADwC,QAAC,IAADA,OAAC,EAADA,EAAG4H,YAAWnK,GAAG,EAAE,CAAC,IAAIuC,EAAE,EAAE,MAAM/B,EAAET,EAAEC,EAAE,IAAI,IAAIF,EAAEU,EAAEV,EAAEU,EAAER,EAAEF,IAAIyC,GAAGA,GAAG,GAAGR,EAAEjC,GAAGO,EAAEP,EAAEmK,MAAM1H,CAAC,MAAMlC,EAAEP,EAAEmK,WAAM,CAAM,CAACyP,iBAAAA,CAAkB5Z,GAAGA,IAAIf,KAAK0U,gBAAgB1U,KAAKoG,KAAKyV,OAAOC,gBAAgB9b,KAAKyU,WAAWzU,KAAK0U,gBAAe,IAAK3T,GAAGf,KAAK0U,iBAAiB1U,KAAKoG,KAAKyV,OAAOE,mBAAmB/b,KAAKyU,WAAWzU,KAAK0U,gBAAe,EAAG,CAACyE,gBAAAA,GAAmBnZ,KAAKyU,UAAUrU,cNAjnR,SAAW4C,GAAG,MAAMjC,EAAG,OAADiC,QAAC,IAADA,OAAC,EAADA,EAAGiI,mBAAmB,QAAS,OAADlK,QAAC,IAADA,IAAAA,EAAGqJ,OAAM,eAAerJ,EAAEqJ,IAAI,CMA6iRqJ,CAAEzT,KAAK4F,MAAMuE,UAAUnK,KAAKoZ,SAAS,CAACA,OAAAA,GAAUpZ,KAAKoa,kBAAkBpa,KAAK4Y,UAAUrF,QAAQvT,KAAKiZ,sBAAsB,CAACC,uBAAAA,GAA0BlZ,KAAKoa,kBAAkBpa,KAAK4Y,UAAUrF,QAAQvT,KAAK0Y,gBAAgB,CAACe,mBAAAA,CAAoB1Y,GAAG,MAAMiC,EAAEhD,KAAK4F,MAAMa,qBAAoBuV,EAAAA,GAAAA,IAAGhZ,EAAE0D,SAAS1D,EAAE2D,WAAUpD,EAAAA,EAAAA,GAAExC,EAAEkb,OAAOlb,EAAEyW,iBAAiB0E,GAAGlc,KAAK4F,MAAM4R,oBAAoBxX,KAAK4U,YAAYhI,SAAS,CAAC5J,EAAEhC,KAAK,IAAIhB,KAAK2U,eAAewH,IAAInb,GAAG,YAAYhB,KAAK4U,YAAYvI,OAAOrL,GAAG,MAAMM,EAAEtB,KAAK4V,OAAO1M,QAAQlI,IAAG+B,EAAAA,EAAAA,IAAEmZ,GAAG5a,EAAEoH,IAAI0T,SAASpc,KAAK4U,YAAYrH,IAAIvM,EAAED,EAAEsb,MAAM,IAAIrc,KAAKiZ,wBAAwBjZ,KAAK4U,YAAYrB,OAAO,CAAC+I,aAAAA,CAAcvb,GAAGf,KAAKmV,WRA95T,SAAWpU,EAAEiC,EAAElC,GAAG,IAAI,IAAIW,EAAE,EAAEA,EAAEuB,EAAEgF,OAAOvG,IAAIH,EAAEG,IAAG,EAAGR,EAAEQ,GAAG,KAAK,IAAI,IAAIH,EAAE,EAAEA,EAAEP,EAAEiH,OAAO1G,IAAIG,EAAEH,IAAG,EAAGnB,EAAEmB,GAAG,KAAK,IAAI,IAAIG,EAAE,EAAEA,EAAEuB,EAAEgF,OAAOvG,IAAI,CAAC,MAAMR,EAAEsD,EAAEvB,EAAEvB,GAAGV,EAAED,GAAGG,GAAG,IAAIK,EAAEG,IAAG,EAAG,MAAMtB,EAAEc,GAAGd,EAAEc,GAAGwG,KAAKzE,EAAEvB,IAAItB,EAAEc,GAAG,CAAC+B,EAAEvB,IAAI,CAAC,IAAI,IAAItB,EAAE,EAAEA,EAAEY,EAAEiH,OAAO7H,IAAI,CAAC,MAAMmB,EAAEiD,EAAExD,EAAEZ,GAAG6C,EAAElC,GAAGQ,GAAG,IAAIG,EAAEtB,IAAG,EAAG,MAAMc,EAAEK,GAAGL,EAAEK,GAAGmG,KAAK1G,EAAEZ,IAAIc,EAAEK,GAAG,CAACP,EAAEZ,IAAI,CAAC,MAAMqE,EAAE,GAAG,IAAI,IAAIlD,EAAE,EAAEA,EAAEP,EAAEiH,OAAO1G,IAAI,MAAMnB,EAAEmB,IAAIG,EAAEH,IAAIkD,EAAEiD,KAAK,CAACS,KAAK,GAAGH,OAAO,CAAChH,EAAEO,MAAM,IAAI,IAAIG,EAAE,EAAEA,EAAEuB,EAAEgF,OAAOvG,IAAI,MAAMR,EAAEQ,IAAIH,EAAEG,IAAI+C,EAAEiD,KAAK,CAACS,KAAK,CAAClF,EAAEvB,IAAIsG,OAAO,KAAK,IAAI,IAAItG,EAAE,EAAEA,EAAEuB,EAAEgF,OAAOvG,IAAI,MAAMR,EAAEQ,KAAKR,EAAEQ,GAAGuG,OAAO,GAAG/G,EAAEQ,GAAG,KAAKuB,EAAEvB,KAAK+C,EAAEiD,KAAK,CAACS,KAAK,CAAClF,EAAEvB,IAAIsG,OAAO9G,EAAEQ,KAAK,IAAI,IAAIA,EAAE,EAAEA,EAAEV,EAAEiH,OAAOvG,IAAI,MAAMtB,EAAEsB,KAAKtB,EAAEsB,GAAGuG,OAAO,GAAG7H,EAAEsB,GAAG,KAAKV,EAAEU,KAAK+C,EAAEiD,KAAK,CAACS,KAAK/H,EAAEsB,GAAGsG,OAAO,CAAChH,EAAEU,MAAM,OAAO+C,CAAC,CQA8uSqP,CAAE,IAAI7T,KAAK2U,gBAAgB5T,EAAEf,KAAK4V,QRAvnS,SAAW5S,EAAEvB,EAAEtB,GAAU6C,EAAEuZ,MAAM,CAACvZ,EAAE1B,KAAK,GAAG,IAAI0B,EAAEkF,KAAKF,QAAQ,IAAI1G,EAAE4G,KAAKF,OAAO,OAAO,EAAE,GAAG,IAAIhF,EAAEkF,KAAKF,OAAO,OAAO,EAAE,GAAG,IAAI1G,EAAE4G,KAAKF,OAAO,OAAO,EAAE,GAAG,IAAIhF,EAAE+E,OAAOC,QAAQ,IAAI1G,EAAEyG,OAAOC,OAAO,CAAC,MAAM/G,EAAEd,EAAEgJ,aAAanG,EAAEkF,KAAK,IAAIkU,OAAO7X,EAAEpE,EAAEgJ,aAAa7H,EAAE4G,KAAK,IAAIkU,OAAO,OAAOrb,EAAAA,EAAAA,GAAEE,EAAEQ,IAAGV,EAAAA,EAAAA,GAAEwD,EAAE9C,EAAE,CAAC,GAAG,IAAIuB,EAAE+E,OAAOC,OAAO,OAAO,EAAE,GAAG,IAAI1G,EAAEyG,OAAOC,OAAO,OAAO,EAAE,GAAG,IAAIhF,EAAEkF,KAAKF,QAAQ,IAAI1G,EAAE4G,KAAKF,OAAO,CAAC,MAAM/G,EAAEd,EAAEgJ,aAAanG,EAAEkF,KAAK,IAAIkU,OAAO7X,EAAEpE,EAAEgJ,aAAa7H,EAAE4G,KAAK,IAAIkU,OAAO,OAAOrb,EAAAA,EAAAA,GAAEE,EAAEQ,IAAGV,EAAAA,EAAAA,GAAEwD,EAAE9C,EAAE,CAAC,GAAG,IAAIuB,EAAEkF,KAAKF,OAAO,OAAO,EAAE,GAAG,IAAI1G,EAAE4G,KAAKF,OAAO,OAAO,EAAE,CAAC,MAAM/G,EAAEd,EAAEgJ,aAAanG,EAAE+E,OAAO,IAAIqU,OAAO7X,EAAEpE,EAAEgJ,aAAa7H,EAAEyG,OAAO,IAAIqU,OAAO,OAAOrb,EAAAA,EAAAA,GAAEE,EAAEQ,IAAGV,EAAAA,EAAAA,GAAEwD,EAAE9C,EAAE,IAAI,CQA4+QiB,CAAE1C,KAAKmV,WAAWnV,KAAKoG,KAAKiT,MAAMC,cAAckD,YAAYxc,KAAK4V,QRA5iR,SAAW7U,EAAEiC,EAAEvB,GAAG,IAAI,IAAItB,EAAE,EAAEA,EAAEY,EAAEiH,SAAS7H,EAAE,CAAC,MAAMmB,EAAEP,EAAEZ,GAAGmB,EAAE4G,KAAKF,OAAOhF,GAAG,IAAI1B,EAAEyG,OAAOC,QAAQpE,EAAE7C,EAAEO,EAAEG,EAAE,CAAC,CQA08QZ,CAAEb,KAAKmV,WAAhnN,EAA8nNnV,KAAK4V,QAAQ5V,KAAKyc,gBAAgBzc,KAAK2V,WAAW3V,KAAK0c,eAAe1c,KAAKsa,iBAAiBta,KAAKwV,gBAAgBzU,EAAEiH,OAAO,GAAGhI,KAAK6V,qBAAqB7V,KAAK2c,aAAa,YAAY,CAACpC,aAAAA,GAAgBva,KAAK4c,qBAAqB5c,KAAK6c,qBAAqB,CAACD,kBAAAA,GAAqB,MAAM7b,EAAE,IAAI0P,MAAMzQ,KAAKsV,cAAc1I,SAASkQ,IAAA,IAAEC,gBAAgB/Z,GAAE8Z,EAAA,OAAG/b,EAAE0G,KAAKzE,EAAE,IAAGhD,KAAKsV,cAAc/B,QAAQ,IAAI,MAAMvQ,KAAKjC,EAAEiC,EAAEkD,QAAQlG,KAAKmV,WAAW,GAAGnV,KAAKoV,WAAW4H,YAAYhd,KAAK2V,WAAW3V,KAAK0c,eAAe1c,KAAKsa,gBAAgB,CAACmC,aAAAA,GAAgB,MAAM1b,EAAE,IAAIgL,IAAI/L,KAAKmV,WAAWvI,SAAS5J,GAAGA,EAAEkF,KAAK0E,SAAS5J,GAAGjC,EAAEqB,IAAIY,OAAO,MAAMA,EAAE,IAAIyN,MAAMzP,EAAE,IAAImM,IAAInN,KAAKsV,cAAc1I,SAAS,CAACtL,EAAEkC,KAAKzC,EAAEob,IAAI3Y,GAAGxC,EAAEuM,IAAI/J,EAAElC,GAAG0B,EAAEyE,KAAKnG,EAAE,IAAItB,KAAKsV,cAActU,EAAE,IAAI,MAAM+b,gBAAgBzb,KAAK0B,EAAE1B,EAAE4E,QAAQlG,KAAKmV,WAAWnV,KAAKmV,WAAWxB,QAAQ5S,IAAI,IAAI,MAAMiC,KAAKjC,EAAEmH,KAAK,GAAGlI,KAAKsV,cAAc6G,IAAInZ,GAAG,OAAOhD,KAAKuV,aAAY,GAAG,EAAG,OAAM,CAAE,IAAIvV,KAAK2V,WAAW3V,KAAK0c,eAAe1c,KAAKsa,gBAAgB,CAACuC,mBAAAA,GAAsB7c,KAAKkV,YAAY,GAAGlV,KAAKqV,mBAAmBzI,SAASqQ,IAAA,IAAEF,gBAAgBhc,GAAEkc,EAAA,OAAGlc,EAAEmF,OAAO,IAAGlG,KAAKqV,mBAAmB9B,QAAQvT,KAAK2V,WAAW3V,KAAK0c,eAAe1c,KAAKsa,gBAAgB,CAACF,eAAAA,GAAkBpa,KAAKiV,iBAAiBjV,KAAK2U,eAAe/H,SAAS7L,GAAGf,KAAKkd,oBAAoBnc,KAAKf,KAAK4c,oBAAoB,CAAC3C,UAAAA,GAAaja,KAAKiZ,sBAAsB,CAACiB,QAAAA,GAAWla,KAAKiZ,sBAAsB,CAAC,WAAIkE,GAAU,OAAOnd,KAAKma,UAAUna,KAAK6U,kBAAkB7U,KAAK6U,mBAAmB7U,KAAKkV,YAAYlN,OAAO,GAAGhI,KAAKmV,WAAWnN,OAAO,GAAGhI,KAAKoV,WAAW+H,OAAO,CAACC,OAAAA,CAAQrc,GAAG,GAAGf,KAAKma,WAAW,GAAGna,KAAK6U,kBAAkB,CAAC7U,KAAK6U,mBAAkB,EAAG,MAAM9T,EAAEf,KAAKqd,qBAAqBtc,IAAIf,KAAKwV,kBAAkBxV,KAAKwV,gBAAgBzU,EAAEf,KAAK2c,aAAa,cAAc3c,KAAKsa,gBAAgB,MAAM,CAAC,IAAIvZ,EAAEuc,KAAK,IAAItd,KAAKud,sBAAsBvd,KAAKkV,YAAYlN,OAAO,GAAGjH,EAAEuc,KAAK,IAAItd,KAAKwd,yBAAyBxd,KAAKyd,kBAAkB1c,GAAGf,KAAKoV,WAAWgI,QAAQrc,EAAE,CAAC,CAACyc,kBAAAA,GAAqB,MAAMzc,EAAEf,KAAKkV,YAAYwI,QAAQ1a,EAAEhD,KAAK2d,cAAc5c,GAAG,OAAOf,KAAKqV,mBAAmB9H,IAAIxM,EAAEiC,GAAGA,EAAEiV,QAAQ2F,MAAM5a,IAAIhD,KAAK4V,OAAOpN,QAAQzH,EAAEiC,EAAEhD,KAAKoX,kBAAkBpX,KAAKiZ,sBAAsB,IAAI2E,MAAM,KAAK5d,KAAKqV,mBAAmBhJ,OAAOtL,EAAE,IAAI,KAAKf,KAAKqV,mBAAmBhJ,OAAOtL,EAAE,KAAI,CAAE,CAAC0c,iBAAAA,CAAkB1c,GAAG,MAAMA,EAAE8c,MAAM,CAAC,MAAM7a,EAAEhD,KAAK8d,qBAAqB,GAAG,MAAM9a,EAAE,YAAYjC,EAAEgd,eAAe/d,KAAKge,kBAAkBhb,GAAGjC,EAAEgd,cAAc,CAAC,CAACD,kBAAAA,GAAqB,IAAI/c,EAAEf,KAAKmV,WAAWnN,OAAO,KAAKjH,KAAK,CAAC,MAAMA,EAAEf,KAAKmV,WAAWuI,QAAQ,IAAI3c,EAAEgH,OAAOkW,MAAMld,IAAIf,KAAK2U,eAAewH,IAAIpb,KAAK,OAAOA,EAAEf,KAAKmV,WAAW1N,KAAK1G,EAAE,CAAC,OAAO,IAAI,CAACid,iBAAAA,CAAkBjd,GAAG,GAAG,IAAIA,EAAEmH,KAAKF,OAAOkW,QAAQlM,IAAIjR,EAAEmH,KAAK4C,KAAK/J,IAAI,MAAMiC,EAAE,IAAI+C,gBAAgB/E,EAAEhB,KAAK4Y,UAAU3Q,IAAIlH,EAAEod,YAAY,OAAO,MAAMnd,EAAEhB,KAAKsV,cAAc/H,IAAIxM,EAAE,CAACgc,gBAAgB/Z,EAAEiV,QAAQiG,QAAQE,QAAQpd,KAAKhB,KAAKsV,cAAc6G,IAAIpb,IAAIf,KAAKsV,cAAc/H,IAAIxM,EAAE,CAACgc,gBAAgB/Z,EAAEiV,QAAQjY,KAAKqe,UAAUtd,EAAEiC,EAAEgD,UAAUhG,KAAKsV,cAAc5I,IAAI3L,GAAGkX,OAAO,KAAK2F,MAAM5a,IAAI,IAAI,IAAIhC,EAAE,EAAEA,EAAED,EAAEmH,KAAKF,OAAOhH,IAAI,GAAGgC,EAAEhC,GAAG,CAAC,MAAMM,EAAEtB,KAAKse,mBAAmBvd,EAAEmH,KAAKlH,GAAGgC,EAAEhC,IAAIhB,KAAKue,eAAejd,EAAE,CAAC,IAAI,MAAMN,KAAKD,EAAEgH,OAAO/H,KAAKkd,oBAAoBlc,EAAE,IAAIwd,OAAO,SAASZ,MAAM,KAAK,IAAI,MAAM5a,KAAKjC,EAAEmH,KAAKlI,KAAKsV,cAAcjJ,OAAOrJ,GAAGhD,KAAKsa,iBAAiBta,KAAKuV,cAAcvV,KAAKoV,WAAW+H,SAAS,IAAInd,KAAKkV,YAAYlN,QAAQ,IAAIhI,KAAKsV,cAAc9U,OAAOR,KAAKuV,aAAY,EAAGvV,KAAKiZ,uBAAuB,IAAIjZ,KAAKsa,sBAAsB,IAAI,MAAMtX,KAAKjC,EAAEgH,OAAO/H,KAAKkd,oBAAoBla,EAAE,CAAC,mCAAMyb,CAA8B1d,EAAEiC,GAAE,IAAA0b,EAAC,MAAMpd,EAAE,aAAakC,EAAExD,KAAK4F,MAAMkR,YAAYpK,IAAIpL,GAAG,IAAIkC,GAAGA,EAAEmb,OAAO,OAAO,IAAI5d,EAAE6d,SAASpb,EAAE0H,MAAM,OAAO,MAAMjK,QAAQD,EAAAA,EAAAA,IAAEhB,KAAK4F,MAAMiZ,sBAAsBvd,EAAE,CAAC0E,OAAOhD,KAAK,IAAG,IAAK/B,EAAE6d,GAAG,OAAO,MAAMrd,EAAS,QAARid,EAACzd,EAAEuE,aAAK,IAAAkZ,GAAO,QAAPA,EAAPA,EAASK,aAAK,IAAAL,GAAQ,QAARA,EAAdA,EAAgBM,cAAM,IAAAN,OAAA,EAAtBA,EAAwBM,OAAOvd,GAAGgP,MAAMwO,QAAQxd,KAAK+B,EAAEmb,OAAO,IAAInd,EAAAA,EAAE,CAAC0J,KAAK,aAAagU,YAAYzd,EAAEqJ,KAAK/J,GAAG,IAAIM,EAAAA,EAAE,CAACyC,KAAK/C,EAAEyE,MAAM0F,KAAKnK,EAAEoe,YAAY,CAAC,+BAAMC,CAA0Bre,GAAG,OAAOf,KAAKyV,gCAAgCzV,KAAK0V,sCAAsC,IAAI3P,gBAAgB/F,KAAKyV,8BAA8BzV,KAAKye,8BAA8B1d,EAAEf,KAAK0V,sCAAsC1P,QAAQ4X,MAAM,KAAK5d,KAAK0V,sCAAsC,IAAI,KAAK1V,KAAKyV,6BAA6B,CAAC,2BAAM4J,CAAsBte,EAAEC,GAAG,MAAMwC,EAAExD,KAAKsf,sBAAsBve,GAAGE,EAAEjB,KAAK4F,MAAM0E,qBAAqB7I,EAAET,EAAE8J,KAAK/J,GAAG2S,EAAEzS,EAAEF,KAAK4S,OAAO3Q,EAAAA,IAAGzB,EAAEge,MAAMxe,EAAEiC,KAAK,MAAMhC,EAAEhB,KAAK4V,OAAO1M,QAAQlG,SAAS1B,EAAAA,EAAAA,IAAEG,GAAG8d,UAAU,MAAMje,EAAE0B,EAAEuI,mBAAmBvL,KAAKwf,oCAAoCxe,EAAEye,kBAAkBzf,KAAK0f,uBAAuB1e,EAAEgC,GAAG,GAAG1B,EAAE,IAAI,MAAMN,KAAKD,EAAE,GAAGf,KAAK2f,qBAAqB3e,GAAG,CAAC,MAAMD,EAAEC,EAAE0K,mBAAmB2P,0BAA0Brb,KAAKyb,wBAAwBzY,EAAE1B,EAAEP,EAAEC,EAAEmB,WAAW,IAAI,EAAEyB,EAAE,GAAG,OAAOJ,EAAEoJ,SAAS,CAAC7L,EAAEiC,KAAKY,EAAE6D,KAAKlG,EAAER,EAAEiC,GAAG,UAAUkb,QAAQ0B,WAAWhc,GAAG7C,CAAC,CAAC4e,oBAAAA,CAAqB5e,GAAE,IAAA8e,EAAC,OAAO9e,aAAaoa,KAAwB,QAApB0E,EAAA9e,EAAE2K,0BAAkB,IAAAmU,OAAA,EAApBA,EAAsBvE,SAAQtb,KAAKiV,cAAc,CAACqK,qBAAAA,CAAsBve,GAAG,MAAMiC,EAAE,IAAImK,IAAI,IAAI,MAAMnM,KAAKD,EAAE,CAAC,IAAIf,KAAK2f,qBAAqB3e,GAAG,SAAS,MAAMD,EAAEC,EAAE0K,mBAAmBpK,EAAE0B,EAAE0J,IAAI3L,EAAEsM,QAAQ/L,EAAEA,EAAEmG,KAAKzG,GAAGgC,EAAEuK,IAAIxM,EAAEsM,OAAO,CAACrM,GAAG,CAAC,OAAOgC,CAAC,CAAC,4BAAM0c,CAAuB3e,EAAEiC,GAAG,MAAMhC,QAAQhB,KAAK8f,eAAe/e,EAAE0e,WAAWzc,EAAE,MAAM,OAAO,MAAMhC,GAAE6P,EAAAA,EAAAA,IAAE,CAAC7F,cAAchI,EAAEwE,OAAOxG,GAAG,KAAKD,EAAEgf,aAAa,IAAI,CAAC,yCAAMP,CAAoCze,GAAG,MAAMiC,EAAEhD,KAAK4F,MAAM2L,MAAMyO,sBAAsBhf,GAAE4S,EAAAA,EAAAA,IAAE5Q,QAAQhD,KAAKigB,cAAclf,EAAE,OAAO,OAAO6Q,EAAAA,EAAAA,IAAG5Q,EAAEA,EAAEgH,OAAO,EAAE,CAACwL,SAAAA,CAAUzS,GAAG,IAAIA,EAAE,OAAOE,EAAAA,EAAAA,MAAI,MAAM+B,EAAEQ,EAAAA,EAAE0c,aAAanf,GAAGA,EAAEof,UAAU1P,MAAMwO,QAAQle,GAAGA,EAAE,CAACA,GAAG,OAAOf,KAAKyU,UAAUjB,UAAUxQ,EAAE8H,KAAK/J,GAAGf,KAAKogB,0BAA0Brf,KAAK,CAACqf,yBAAAA,CAA0Brf,GAAG,IAAIf,KAAK2f,qBAAqB5e,GAAG,OAAO,KAAK,MAAMsM,OAAOrK,EAAEoY,iBAAiBpa,GAAGD,EAAE2K,mBAAmB,OAAO,MAAM1I,GAAG,MAAMhC,EAAE,CAACqM,OAAOrK,EAAEsK,QAAQtM,GAAG,IAAI,CAAC0b,YAAAA,GAAe,IAAI3b,EAAE,EAAE,IAAI,MAAMiC,KAAKhD,KAAKmV,WAAWpU,GAAGiC,EAAEkF,KAAKF,OAAOhF,EAAE+E,OAAOC,OAAO,OAAOjH,GAAGf,KAAKsV,cAAc9U,KAAKO,IAAIf,KAAKkV,YAAYlN,OAAOhI,KAAKqV,mBAAmB7U,MAAMR,KAAK4V,OAAOxN,SAASrH,GAAGf,KAAK6V,qBAAqB,IAAI,EAAE9U,GAAGf,KAAK6U,kBAAkB,IAAI,EAAE9T,CAAC,CAAC,yBAAIsf,GAAwB,GAAGrgB,KAAKma,UAAU,OAAOna,KAAK6U,kBAAkB,EAAE,EAAE,MAAM9T,EAAEf,KAAK0c,eAAe,OAAO,EAAEvI,KAAKrC,IAAI9R,KAAK2V,WAAW5U,GAAGf,KAAK2V,UAAU,CAAC2E,cAAAA,GAAiBta,KAAK2c,aAAa,YAAY3c,KAAK2c,aAAa,wBAAwB,CAACnW,SAAAA,GAAY,OAAO1G,MAAM0G,aAAaxG,KAAKwV,eAAe,CAAC8K,UAAAA,GAAa,OAAOtgB,KAAKma,UAAUna,KAAK6U,kBAAkB7U,KAAK0c,eAAe,CAAC,CAAChE,cAAAA,GAAiB,MAAM3X,EAAEf,KAAK4F,MAAM2L,MAAM9H,MAAMzG,EAAEjC,EAAEwf,cAAcxf,EAAEyf,kBAAkB,OAAOxgB,KAAK4V,OAAO,IAAI1G,EAAElP,KAAK4F,MAAM4R,iBAAiBxX,KAAKoG,KAAKqa,mBAAmBjJ,iBAAiBxU,GAAGhD,KAAK6c,sBAAsB7c,KAAK0gB,iBAAiB1gB,KAAK4V,OAAOpM,2BAA2BxJ,KAAK6V,sBAAqB,EAAG7V,KAAKwV,iBAAgB,EAAGxV,KAAK2c,aAAa,aAAa3c,KAAKsa,iBAAiBta,KAAKgV,gBAAgB,MAAMjU,EAAEwf,aAAa,EAAExf,EAAEyf,kBAAkBxgB,KAAK2d,cAAc,GAAG1F,QAAQ2F,MAAM7c,IAAIf,KAAK4V,OAAOpN,QAAQ,EAAEzH,EAAEf,KAAKoX,kBAAkBpX,KAAK6V,sBAAqB,EAAG7V,KAAKiZ,sBAAsB,GAAG,CAAC0E,aAAAA,CAAc5c,GAAG,MAAMiC,EAAE,IAAI+C,gBAAgB/E,EAAC,GAAA8X,OAAI9Y,KAAKgW,QAAO,eAAA8C,OAAc/X,EAAEf,KAAKgV,iBAAkB,MAAM,CAACiD,QAAQjY,KAAK2gB,iBAAiB3f,EAAEgC,EAAEgD,QAAQ4X,MAAM5a,GAAGA,EAAE4F,MAAMkC,KAAK,CAAC9H,EAAEhC,KAAC,IAAA4f,EAAAC,EAAA,MAAI,CAACpB,WAAW,MAAMzc,EAAEyc,WAAWzc,EAAEyc,WAAW1e,EAAEf,KAAK4V,OAAOxN,SAASpH,EAAE0H,IAAIoY,GAAAA,GAAGC,SAAS/d,EAAE0F,KAAKC,cAAc,IAAImY,GAAAA,GAAG9X,WAAWhG,EAAEgG,WAAWD,WAAW/F,EAAE+F,WAAWgX,YAAyB,QAAda,EAAC5d,EAAE+c,mBAAW,IAAAa,EAAAA,EAAE5d,EAAEge,WAAWC,aAA2B,QAAfJ,EAAC7d,EAAEie,oBAAY,IAAAJ,EAAAA,EAAE7d,EAAEke,cAAc,MAAMnE,gBAAgB/Z,EAAE,CAACua,iBAAAA,GAAoB,IAAIvd,KAAK6U,kBAAkB,OAAM,EAAG,MAAM9T,EAAEf,KAAKoG,KAAKsT,QAAQ,IAAI1W,EAAEhD,KAAKyW,eAAezW,KAAK8U,WAAW/T,EAAE,MAAMC,EAAEhB,KAAKwU,kBAAkBxU,KAAK8U,WAAW/T,EAAE,IAAIO,EAAEtB,KAAKmhB,+BAA+Bne,GAAGQ,EAAExD,KAAKohB,mBAAmB9f,GAAGL,EAAEkT,KAAKyG,KAAKpX,GAAG,IAAIxC,IAAI,KAAKwC,EAAExC,GAAGgC,GAAG/B,EAAEK,EAAEtB,KAAKmhB,+BAA+Bne,GAAGQ,EAAExD,KAAKohB,mBAAmB9f,GAAGL,EAAEkT,KAAKyG,KAAK,GAAG,OAAO5a,KAAKsc,cAAchb,GAAGtB,KAAK6U,mBAAkB,EAAG7U,KAAKsa,kBAAiB,CAAE,CAAC8G,kBAAAA,CAAmBrgB,GAAG,IAAIiC,EAAE,EAAE,IAAI,IAAIhC,EAAE,EAAEA,EAAED,EAAEiH,OAAOhH,IAAI,CAAC,MAAMM,EAAEtB,KAAK4V,OAAO1M,QAAQnI,EAAEC,IAAIM,IAAI0B,GAAG1B,EAAEye,YAAY,CAAC,OAAO/c,CAAC,CAACqa,kBAAAA,GAAqB,IAAItc,GAAE,EAAG,OAAOf,KAAK0gB,iBAAiB,CAAC7W,QAAQ7J,KAAKoG,KAAKiT,MAAMC,cAAczP,QAAQD,YAAY5J,KAAKgX,cAAc,CAAChN,UAAUA,CAAChH,EAAEhC,EAAEM,KAAKP,EAAEO,GAAE,GAAI2I,SAASA,SAASlJ,CAAC,CAACogB,8BAAAA,CAA+BpgB,GAAG,MAAMiC,EAAEhD,KAAKoG,KAAKiT,MAAMC,cAActY,EAAEgC,EAAE6G,QAAQvI,EAAEtB,KAAKgX,aAAaxT,EAAER,EAAEwZ,YAAYvb,GAAEoB,EAAAA,EAAAA,GAAEmB,EAAER,EAAEqe,KAAK5f,GAAEwS,EAAAA,EAAAA,IAAEzQ,GAAGvC,EAAEmT,IAAI7S,EAAEyB,EAAEqN,oBAAoB,EAAEzM,EAAE7C,EAAEA,EAAEZ,EAAEH,KAAK8V,aAAa3V,EAAE6H,OAAO,EAAE,MAAMtB,SAASnC,EAAEoC,SAASnC,IAAG8c,EAAAA,GAAAA,IAAGthB,KAAK4F,OAAOjC,EAAE,IAAIY,GAAG,IAAIC,EAAEzD,GAAGZ,EAAEsH,KAAK1G,GAAGA,IAAI,MAAMiC,EAAEhD,KAAKuhB,UAAUxgB,IAAGygB,EAAAA,GAAAA,IAAGxe,EAAEuB,EAAEC,IAAIrE,EAAEsH,KAAK1G,EAAE,EAAE,OAAOf,KAAK0gB,iBAAiB,CAAC7W,QAAQ7I,EAAE4I,YAAYtI,GAAG,CAAC0I,UAAUA,CAACjJ,EAAEiC,EAAEhC,KAAK,IAAIA,EAAE,OAAM,EAAG,GAAG,IAAIgC,EAAE+F,WAAW,OAAOpF,EAAE5C,IAAG,EAAG,MAAMO,EAAEtB,KAAK4V,OAAOzM,aAAapI,GAAG,QAAQf,KAAKyhB,yBAAyBngB,EAAE0B,EAAEie,aAAaje,EAAE+c,YAAYte,EAAEF,IAAIqC,KAAKD,EAAE5C,IAAG,EAAG,EAAEkJ,SAASA,CAAClJ,EAAEiC,KAAKW,EAAE5C,GAAGf,KAAKkV,YAAY0J,SAAS5b,IAAIhD,KAAKkV,YAAYzN,KAAKzE,EAAE,IAAI7C,CAAC,CAACohB,SAAAA,CAAUxgB,GAAG,IAAIiC,EAAEhD,KAAK4U,YAAYlI,IAAI3L,GAAG,GAAG,MAAMiC,EAAE,CAAC,MAAMhC,EAAEhB,KAAK4V,OAAO1M,QAAQnI,GAAG2H,IAAI0T,OAAOpc,KAAKkY,UAAU9U,EAAEpC,EAAE,GAAGhB,KAAKkY,UAAUvY,EAAEqB,EAAE,GAAGhB,KAAKkY,UAAUnU,EAAE/C,EAAE,GAAGgC,EAAEhD,KAAKoG,KAAKmT,eAAemI,SAAS1hB,KAAKkY,WAAWlY,KAAK4U,YAAYrH,IAAIxM,EAAEiC,EAAE,CAAC,OAAOA,CAAC,CAACye,wBAAAA,CAAyB1gB,EAAEiC,EAAEhC,EAAEM,EAAEkC,GAAG,MAAa/B,EAAE0S,KAAKpC,IAAZ,KAAkBhR,EAAE4P,qBAAqBrP,IAAI,OAAO0B,GAAGvB,EAAEA,IAAI,EAAE+B,EAAEA,GAAGxC,CAAC,CAACqd,SAAAA,CAAUtd,EAAEiC,GAAG,IAAI,OAAOhD,KAAK2hB,eAAe5gB,EAAEiC,EAAE,CAAC,MAAMhC,GAAG,MAAMb,EAAAA,EAAAA,IAAEa,IAAIS,EAAAA,EAAEmgB,UAAU5hB,MAAM6hB,MAAM7gB,GAAGA,CAAC,CAAC,CAAC,mCAAM8gB,CAA8B/gB,EAAEC,EAAEM,GAAG,MAAMkC,EAAExD,KAAK4F,MAAMiR,UAAU,IAAIrT,EAAE,MAAM,GAAG,MAAMvC,GAAE2N,EAAAA,EAAAA,IAAE5O,KAAK4F,MAAMkR,YAAYtT,GAAG/B,EAAE,IAAIsK,IAAIhL,EAAE+J,KAAK/J,GAAG,MAAMA,EAAEA,EAAEmK,KAAK,QAAQ3J,EAAEvB,KAAK4F,MAAM0E,qBAAqB1G,EAAE,GAAG,IAAI,MAAMZ,KAAK/B,EAAE,CAAC,GAAGQ,EAAE0a,IAAInZ,GAAG,SAAS,MAAMjC,EAAE2S,EAAEnS,EAAEyB,GAAGjC,GAAG6C,EAAE6D,KAAKzG,EAAED,GAAG,CAAC,MAAMZ,QAAQoE,EAAAA,EAAAA,IAAEX,GAAG,OAAOY,EAAAA,EAAAA,IAAElD,GAAGnB,EAAEwT,OAAO3Q,EAAAA,GAAE,CAAC,oBAAM2e,CAAe5gB,EAAEiC,GAAG,MAAMhC,EAAEhB,KAAK4V,OAAO1M,QAAQnI,GAAGO,EAAEiP,EAAEvQ,KAAK4F,OAAOpC,EAAE2N,EAAEnR,KAAK4F,OAAO3E,EAAED,EAAEye,WAAWhe,EAAE8d,UAAU,IAAIxe,EAAE,OAAO,KAAK,GAAGA,EAAEwK,aAAa,MAAM,CAACP,cAAcjK,EAAEyG,OAAO,MAAM,MAAMxG,QAAQhB,KAAK8f,eAAe7e,EAAEF,EAAEiC,GAAG,OAAO,MAAMhC,EAAE,CAACgK,cAAcjK,EAAEyG,OAAOxG,GAAG,IAAI,EAAE,OAAOhB,KAAKoV,WAAW3N,MAAM8X,UAAU,MAAMve,EAAEhB,KAAKigB,cAAchf,EAAE+B,IAAI2H,iBAAiBpJ,EAAEqJ,oBAAoBhH,GAAGtC,EAAEnB,EAAEsB,EAAEF,GAAGgD,EAAE9C,EAAEmC,GAAGD,EAAEH,EAAEsH,KAAK/J,GAAGA,EAAEiK,gBAAgB9K,EAAEyD,EAAEmH,KAAK/J,GAAGU,EAAEV,KAAKkC,EAAEjD,KAAK8hB,8BAA8B,CAACvgB,EAAEqC,KAAKD,GAAGlC,EAAEuB,IAAIrB,EAAEb,EAAEoB,EAAEvC,EAAE8C,SAASyb,QAAQlM,IAAI,CAAChR,EAAEb,EAAEoE,EAAE2Z,QAAQlM,IAAI9R,GAAG+C,KAAIuB,EAAAA,EAAAA,IAAExB,GAAG,MAAMpD,EAAE,CAAC0H,eAAe3F,EAAE4F,qBAAqBzG,EAAE4G,wBAAwBxF,EAAEyF,qBAAqBhI,EAAEiI,mBAAmBnF,EAAEsf,OAAO/hB,KAAK4F,MAAM2L,MAAMyO,sBAAsBgC,aAAa1gB,EAAE2gB,WAAWze,EAAE0e,QAAQliB,KAAK4V,OAAOzM,aAAapI,GAAGohB,KAAKC,gBAAgBpiB,KAAKoX,iBAAiBiL,KAAKriB,KAAK4F,MAAM4R,iBAAiBnN,SAASiY,MAAMtiB,KAAKoG,KAAKqa,mBAAmBjJ,iBAAiBnN,UAAU,OAAOrK,KAAKgY,QAAQuK,OAAO3iB,EAAEoD,EAAE,GAAGA,EAAE,CAAC,mBAAMid,CAAclf,EAAEiC,GAAG,OAAOhD,KAAKwiB,aAAa,GAAD1J,OAAI9Y,KAAKgW,QAAO,WAAA8C,OAAU/X,EAAC,iBAAgBiC,EAAE,CAAC,oBAAM8c,CAAe/e,EAAEiC,EAAEhC,GAAG,GAAK,OAADgC,QAAC,IAADA,IAAAA,EAAGsI,YAAY,OAAO,KAAK,MAAMhK,EAAE0B,EAAEsI,YAAYmX,IAAI,OAAOziB,KAAKwiB,aAAa,GAAD1J,OAAI9Y,KAAKgW,QAAO,WAAA8C,OAAU/X,EAAC,gBAAA+X,OAAexX,GAAIN,EAAE,CAAC2f,gBAAAA,CAAiB5f,EAAEiC,GAAG,MAAMhC,GAAC0hB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAAExgB,EAAE,QAAUlC,KAAK4F,MAAM+c,kBAAgB,IAACC,MAAM5iB,KAAK4F,MAAMid,SAAQ,OAAO7iB,KAAKmY,gBAAgB2K,QAAQ/hB,EAAE,OAAO,CAACgiB,MAAM/hB,EAAEgF,OAAOhD,GAAG,CAACwf,YAAAA,CAAazhB,EAAEiC,GAAG,OAAOhD,KAAKuY,eAAeuK,QAAQ/hB,EAAE,SAAS,CAACgiB,OAAKL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAK1iB,KAAK4F,MAAM+c,kBAAgB,IAACC,MAAM5iB,KAAK4F,MAAMid,SAAQ7c,OAAOhD,GAAG,CAACka,mBAAAA,CAAoBnc,GAAG,GAAGf,KAAK2U,eAAewH,IAAIpb,GAAG,CAAC,MAAMiC,EAAEhD,KAAKyU,UAAUpB,WAAWtS,GAAGf,KAAK2U,eAAetI,OAAOtL,GAAGf,KAAK4U,YAAYvI,OAAOtL,GAAGf,KAAK4Y,UAAUoK,IAAIhgB,EAAE2J,GAAGwR,WAAWnb,EAAw+E,SAAYjC,GAAG,OAAO,EAAEA,EAAEkQ,YAAYjJ,OAAO,GAAG,CAAthFib,CAAGjgB,GAAG,CAAC,CAACub,cAAAA,CAAexd,GAAGf,KAAK2U,eAAewH,IAAIpb,EAAE4L,MAAM3M,KAAK2U,eAAevS,IAAIrB,EAAE4L,IAAI3M,KAAKyU,UAAUrB,QAAQrS,GAAG,CAACud,kBAAAA,CAAmBvd,EAAEiC,GAAG,MAAMhC,EAAEhB,KAAK4V,OAAO1M,QAAQnI,GAAGO,EAAE6S,KAAKyG,KAAK5Z,EAAEigB,aAAajgB,EAAE+e,aAAavc,EAAExD,KAAK4V,OAAOzM,aAAapI,GAAG,GDA/la,SAAWA,GAAG,OAAOA,EAAEmiB,eAAe,YAAY,CCAgjaC,CAAGngB,GAAG,OAAOA,EAAE5B,UAAUE,EAAE0B,EAAE0F,IAAIlF,GAAEmO,EAAAA,EAAAA,GAAE3O,EAAE9B,OAAO8B,EAAE0F,IAAI0T,QAAQpZ,EAAE,MAAM/B,EAAE6f,GAAAA,GAAGsC,SAASpgB,EAAEkf,SAAS3gB,EAAEN,EAAEoiB,SAASzf,EAAEJ,EAAE6f,SAASljB,EAAE,IAAIgU,KAAKpC,IAAInO,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,GAAGrC,EAAE,GAAGqC,EAAE,GAAGzD,GAAGoB,EAAE,GAAGqC,EAAE,GAAGzD,GAAGoB,EAAE,GAAGqC,EAAE,GAAGzD,EAAE,CAAC,GAAGH,KAAK+U,sBAAsB,EAAE,CAAC,MAAM/R,EAAEjC,GAAC,IAAA+X,OAAM/X,EAAEsiB,SAAS,GAAE,MAAAvK,OAAK/X,EAAEsiB,SAAS,GAAE,MAAAvK,OAAK/X,EAAEsiB,SAAS,GAAE,KAAI5hB,EAAAA,EAAEmgB,UAAU5hB,MAAMsjB,KAAK,QAADxK,OAAS/X,EAAC,0CAAA+X,OAAyC9V,EAAEQ,GAAE,sBAAAsV,OAAqB9V,EAAE/B,KAAM,KAAKjB,KAAK+U,uBAAuBtT,EAAAA,EAAEmgB,UAAU5hB,MAAMsjB,KAAK,qEAAqE,CAACtjB,KAAK4V,OAAOxM,aAAarI,EAAEE,EAAE,CAAC,OAAO,IAAIsiB,GAAGxiB,EAAEO,GAAE8B,EAAAA,EAAAA,IAAEI,EAAE4Y,QAAQ5Y,EAAE,IAAIxC,EAAE+H,WAAW/F,EAAEwgB,OAAOxgB,EAAEgR,IAAIhR,EAAEb,WAAWa,EAAEkR,iBAAiB,CAAC,cAAIuP,GAAa,IAAI1iB,EAAE,EAAE,OAAOf,KAAKyU,UAAUlI,aAAavJ,IAAIjC,GAAG2iB,GAAG3iB,IAAGD,EAAAA,EAAAA,IAAEkC,EAAEiO,aAAa,IAAI,MAAMjQ,KAAKgC,EAAEb,WAAW,CAAC,MAAMa,EAAEhC,EAAE0a,QAAOxZ,EAAAA,EAAAA,IAAEc,EAAEwE,UAAUzG,IAAGD,EAAAA,EAAAA,IAAEkC,GAAG,KAAKjC,CAAC,CAAC,kBAAI4iB,GAAiB,MAAM5iB,EAAEf,KAAK2U,eAAenU,KAAK,GAAGO,EAAE,EAAE,OAAO,EAAE,MAAMiC,EAAE,IAAIhD,KAAK2U,gBAAgBiP,QAAQ,CAAC7iB,EAAEiC,IAAIjC,EAAEf,KAAK4V,OAAO1M,QAAQlG,GAAG+c,cAAc,IAAI/e,EAAEhB,KAAKsV,cAAc9U,KAAK,IAAI,IAAIc,EAAE,EAAEA,EAAEtB,KAAKmV,WAAWnN,OAAO1G,IAAIN,GAAGhB,KAAKmV,WAAW7T,GAAG4G,KAAKF,OAAOhH,GAAGhB,KAAKmV,WAAW7T,GAAGyG,OAAOC,OAAO,OAAGhH,EAAE,EAAS,EAASA,EAAEgC,EAAEjC,IAAIf,KAAKyjB,WAAW1iB,EAAE2iB,IAAI1gB,GAAGhC,EAAE0iB,EAAE,CAAC,mBAAIG,GAAkB,OAAO,IAAI7U,EAAEhP,KAAKyjB,WAAWzjB,KAAK2U,eAAenU,KAAK,IAAIR,KAAK2U,gBAAgBiP,QAAQ,CAAC7iB,EAAEiC,IAAIjC,EAAEf,KAAK4V,OAAO1M,QAAQlG,GAAG+c,aAAa,GAAG/f,KAAKwU,kBAAkB,IAAI3R,EAAE7C,KAAKsV,cAAc9U,KAAKR,KAAKkV,YAAYlN,OAAOhI,KAAKmV,WAAWnN,OAAOhI,KAAKoV,WAAWpN,QAAQ,CAAC,QAAI8b,GAAO,MAAM,CAACra,MAAMzJ,KAAK4V,OAAOmO,aAAa/jB,KAAK2U,eAAe,IAAG5T,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,aAAQ,IAAQ/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,UAAU,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,aAAa,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,0BAA0B,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,YAAY,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,iBAAiB,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,yBAAoB,IAAQ/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,IAAE,CAACuhB,UAAS,KAAM3P,GAAGvN,UAAU,kBAAkB,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,IAAE,CAACuhB,UAAS,KAAM3P,GAAGvN,UAAU,eAAe,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,IAAE,CAACuhB,UAAS,KAAM3P,GAAGvN,UAAU,mBAAmB,OAAM/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,IAAE,CAAC2H,KAAK6Z,WAAW5P,GAAGvN,UAAU,yBAAoB,IAAQ/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,OAAK4R,GAAGvN,UAAU,gBAAW,IAAQ/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,IAAEyhB,GAAAA,IAAK7P,GAAGvN,UAAU,wBAAmB,IAAQ/F,EAAAA,EAAAA,GAAE,EAAC0B,EAAAA,EAAAA,IAAE,CAACuhB,UAAS,KAAM3P,GAAGvN,UAAU,wBAAwB,MAAMuN,IAAGtT,EAAAA,EAAAA,GAAE,EAACnB,EAAAA,EAAAA,GAAE,+CAA+CyU,IAAI,MAAM8P,GAAG9P,GAAoD,MAAM6H,IAAG1L,EAAAA,EAAAA,MAAIkT,GAAG,G,0HCAhwuB,MAAM1iB,EAAEA,IAAI,IAAId,EAAE,cAAcc,EAAEojB,2BAAAA,CAA4BrjB,GAAG,MAAM6E,MAAMtE,GAAGtB,MAAMqkB,aAAa7gB,GAAGlC,EAAE,IAAIkC,EAAE,MAAM,IAAIR,EAAAA,EAAE,sCAAsC,sBAAsB,CAAC4C,MAAMtE,IAAI,KAAIL,EAAAA,EAAAA,IAAEK,EAAEP,GAAG,MAAM,IAAIiC,EAAAA,EAAE,sCAAsC,yCAAyC,CAAC4C,MAAMtE,GAAG,CAAC,+BAAM8d,CAA0Bre,GAAG,CAAC,oCAAMujB,CAA+BvjB,EAAEiC,GAAG,GAAGhD,KAAKokB,4BAA4BphB,GAAG,IAAIjC,EAAEiH,OAAO,MAAM,GAAG,MAAM1G,EAAE,UAAUtB,KAAK4F,MAAMwE,MAAM,MAAMpK,KAAK4F,MAAM2e,gBAAgBvkB,KAAK4F,MAAM2e,gBAAgBvkB,KAAK4F,MAAM,IAAI5E,EAAE,GAAG,gBAAgBhB,KAAK4F,QAAQ5E,GAAEwC,EAAAA,EAAAA,IAAExD,KAAK4F,MAAMkR,kBAAkBnT,EAAAA,EAAAA,IAAErC,GAAEL,EAAAA,EAAAA,IAAEjB,KAAK4F,MAAM5C,YAAYhD,KAAKof,0BAA0Bpe,GAAG,MAAMd,EAAE,IAAI6L,IAAItK,EAAE,GAAGtB,EAAE,GAAG,IAAI,MAAMqD,KAAKzC,GAAEQ,EAAAA,EAAAA,IAAEP,EAAEwC,EAAEtD,GAAGC,EAAEsH,KAAKjE,GAAG/B,EAAEgG,KAAKjE,GAAG,GAAG,IAAIrD,EAAE6H,OAAO,OAAOvG,EAAE,MAAM+C,EAAE,IAAI2I,IAAI,IAAI,IAAI3J,EAAE,EAAEA,EAAEzC,EAAEiH,OAAOxE,IAAG,KAAAghB,EAAChgB,EAAE+I,IAAsB,QAAnBiX,EAACzjB,EAAEyC,GAAGihB,qBAAa,IAAAD,EAAAA,EAAE,EAAEhhB,EAAG,OAAMe,QAAQvE,KAAKqf,sBAAsBlf,EAAE,IAAID,IAAIse,OAAO,IAAIre,IAAIyd,MAAM7c,GAAGU,EAAEqX,OAAO/X,KAAK,OAAOwD,EAAEgY,MAAM,CAACxb,EAAEiC,KAAI,IAAA0hB,EAAAC,EAAAC,EAAAC,EAAC,MAAMvjB,EAAiB,QAAhBojB,EAAC3jB,EAAE0jB,qBAAa,IAAAC,EAAAA,EAAE,EAAElhB,EAAU,QAATmhB,EAACngB,EAAEkI,IAAIpL,UAAE,IAAAqjB,EAAAA,EAAE,EAAEpjB,EAAiB,QAAhBqjB,EAAC5hB,EAAEyhB,qBAAa,IAAAG,EAAAA,EAAE,EAAE,OAAOphB,GAAW,QAAVqhB,EAAErgB,EAAEkI,IAAInL,UAAE,IAAAsjB,EAAAA,EAAE,EAAE,IAAItgB,CAAC,GAAG,OAAOrE,GAAEa,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,GAAE,qDAAqDpB,GAAGA,CAAC,C,wKCA5+B,IAAI0D,EAAE,eAAcJ,EAAAA,EAAAA,KAAE/B,EAAAA,EAAAA,GAAEH,EAAAA,EAAEwjB,aAAa9hB,EAAAA,MAAMnD,WAAAA,CAAYkB,GAAGjB,MAAMiB,GAAGf,KAAKgZ,iBAAiB,IAAIrV,EAAAA,EAAE3D,KAAK4F,MAAM,KAAK5F,KAAK+kB,OAAO,IAAI,CAACpN,UAAAA,GAAa3X,KAAK2Z,OAAO6E,OAAOzd,IAAI,GAAG,2BAA2BA,EAAEmK,KAAK,KAAAkL,EAAC,MAAMpT,EAAEhD,KAAK4F,OAAO5F,KAAK4F,MAAM+G,IAAI,QAAQrL,GAAY,QAAV8U,EAAApW,KAAK4F,aAAK,IAAAwQ,OAAA,EAAVA,EAAY4O,QAAO,WAAWhkB,EAAAA,EAAE4gB,UAAU5hB,MAAM6hB,MAAM,aAAY,+CAAA/I,OAAgDxX,EAAC,YAAAwX,OAAW9V,EAAC,MAAKjC,EAAE,IAAI,CAACkL,OAAAA,GAAUjM,KAAKgZ,kBAAiB/X,EAAAA,EAAAA,IAAEjB,KAAKgZ,iBAAiB,CAAC,eAAIiM,GAAa,IAAAC,EAAA5O,EAAA6O,EAAAC,EAAC,OAA0B,QAApBF,EAAW,QAAX5O,EAACtW,KAAK4F,aAAK,IAAA0Q,OAAA,EAAVA,EAAY+O,eAAO,IAAAH,EAAAA,EAAE,IAA4B,QAA3BC,EAAc,QAAdC,EAAGplB,KAAK+kB,cAAM,IAAAK,OAAA,EAAXA,EAAaH,mBAAW,IAAAE,EAAAA,EAAE,EAAE,CAAC,aAAIhL,GAAY,OAAOna,KAAKwG,WAAW,CAAC,eAAI8e,GAAc,OAAOtlB,KAAK4G,gBAAgB,CAAC,iBAAI2e,GAAe,IAAA/O,EAAC,OAAOxW,KAAKma,YAAW,KAAe,QAAb3D,EAAGxW,KAAK4F,aAAK,IAAA4Q,OAAA,EAAVA,EAAY+O,cAAa,CAAC,YAAIC,GAAU,IAAAC,EAAC,SAA8B,QAAtBA,EAACzlB,KAAKgZ,wBAAgB,IAAAyM,IAArBA,EAAuBD,YAAWxlB,KAAKsgB,aAAa,CAAC,oBAAIoF,GAAmB,OAAO1lB,KAAKwlB,SAAS,EAAE,CAAC,CAAC,WAAIG,GAAS,IAAAjP,EAAC,OAAM,KAAe,QAAbA,EAAG1W,KAAK4F,aAAK,IAAA8Q,OAAA,EAAVA,EAAYiP,QAAO,CAAC,WAAIA,CAAQ5kB,GAAGf,KAAK4lB,gBAAgB,UAAU7kB,EAAE,CAACyF,SAAAA,GAAW,IAAAqf,EAAAC,EAAAC,EAAC,OAAO/lB,KAAK2lB,UAAmB,QAAZE,EAAE7lB,KAAK4F,aAAK,IAAAigB,OAAA,EAAVA,EAAYG,WAAoB,QAAZF,EAAC9lB,KAAK+kB,cAAM,IAAAe,GAAXA,EAAa3L,aAAoB,QAAX4L,EAAE/lB,KAAKoG,YAAI,IAAA2f,OAAA,EAATA,EAAWE,SAAO,CAAE,CAACrf,cAAAA,GAAgB,IAAAsf,EAAAC,EAAC,MAAMplB,EAAa,QAAXmlB,EAAAlmB,KAAK+kB,cAAM,IAAAmB,GAAXA,EAAa/L,UAAUna,KAAK+kB,OAAOO,YAAY,CAAC,EAAS,OAAa,QAANa,EAAZnmB,KAAcoG,YAAI,IAAA+f,GAANA,EAAQF,QAAQllB,EAAEqlB,cAAa,GAAIpmB,KAAK4F,OAAO5F,KAAK4F,MAAMogB,SAASjlB,EAAEslB,gBAAe,GAAIrmB,KAAK2lB,UAAU5kB,EAAEulB,gBAAe,GAAIvlB,CAAC,CAACuf,UAAAA,GAAa,OAAM,CAAE,IAAGvf,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,OAAKqC,EAAEkD,UAAU,cAAc,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,OAAKqC,EAAEkD,UAAU,aAAQ,IAAQ/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,OAAKqC,EAAEkD,UAAU,cAAS,IAAQ/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,IAAE,CAACyiB,UAAS,KAAMpgB,EAAEkD,UAAU,YAAY,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,IAAE,CAACyiB,UAAS,KAAMpgB,EAAEkD,UAAU,cAAc,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,IAAE,CAACyiB,UAAS,KAAMpgB,EAAEkD,UAAU,gBAAgB,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,IAAE,CAAC6I,KAAK6Z,QAAQD,UAAS,KAAMpgB,EAAEkD,UAAU,WAAW,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,IAAE,CAACyiB,UAAS,KAAMpgB,EAAEkD,UAAU,mBAAmB,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,OAAKqC,EAAEkD,UAAU,UAAU,OAAM/F,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,OAAKqC,EAAEkD,UAAU,YAAO,GAAQlD,GAAE7C,EAAAA,EAAAA,GAAE,EAACZ,EAAAA,EAAAA,GAAE,gCAAgCyD,GAAG,MAAMY,EAAEZ,C","sources":["../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{numberMaxFloat32 as e}from\"../core/mathUtils.js\";import{multiply as i,fromTranslation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as t}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s}from\"./vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as c,positiveInfinity as l}from\"../geometry/support/aaBoundingBox.js\";import{addNearFar as p,addCalculateLinearDepth as d}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{ShaderOutput as m}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as g,SliceDraw as f}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as u}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as h}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{NoParameters as w,glsl as z}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4DrawUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as j}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as P}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class y extends w{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class O extends g{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function R(r){const a=new j,n=r.output===m.Color,c=r.output===m.LinearDepth,l=r.output===m.Highlight,{vertex:g,fragment:w}=a;return a.include(f,r),a.attributes.add(P.POSITION,\"vec3\"),a.attributes.add(P.COLOR,\"vec3\"),g.uniforms.add(new b(\"modelView\",((e,r)=>i(B,r.camera.viewMatrix,o(B,e.origin)))),new M(\"proj\",((e,i)=>i.camera.projectionMatrix)),new S(\"screenMinMaxSize\",((e,i,o)=>t(_,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,F(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new x(\"pointScale\",((e,i)=>t(_,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new S(\"pointScale\",((e,i,o)=>t(_,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?g.uniforms.add(new v(\"clipMin\",((e,i,o)=>s(L,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new v(\"clipMax\",((e,i,o)=>s(L,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(g.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),g.constants.add(\"clipMax\",\"vec3\",[e,e,e])),c?(p(a),d(a),a.varyings.add(\"depth\",\"float\")):r.output!==m.Highlight&&a.varyings.add(\"vColor\",\"vec3\"),g.code.add(z`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${r.drawScreenSize?z`\n      float clampedScreenSize = pointSize;`:z`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${c?z`depth = calculateLinearDepth(nearFar, camera.z);`:\"\"}\n     ${n?z`vColor = color;`:\"\"}\n    }\n  `),w.include(h,r),l&&a.include(u,r),w.code.add(z`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${c?z`fragColor = float2rgba(depth);`:\"\"}\n      ${l?z`outputHighlight();`:\"\"}\n      ${n?z`fragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),a}function F(e){return e?256:64}const B=r(),L=n(),_=a(),C=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:O,PointRendererPassParameters:y,build:R,getMaxPointSizeScreenspace:F},Symbol.toStringTag,{value:\"Module\"}));export{y as P,O as a,C as b,R as c,F as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{whenOnce as o}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,r=e.signal;this.addHandles(t((()=>e.abort()))),await o((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),s(r);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e?.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return e([r()],c.prototype,\"view\",void 0),e([r()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as s}from\"./support/LayerViewPerformanceInfo.js\";class e extends s{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}export{e as PointCloudLayerViewPerformanceInfo,o as QueuePerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>this._getTransferList(t)},t)}_getTransferList(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const e of t.filterAttributesData)null!=e&&e.buffer&&r.push(e.buffer);for(const e of t.userAttributesData)e.buffer&&r.push(e.buffer);return r}}export{r as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{k as e}from\"../../../../chunks/vec32.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{getSphericalPCPF as e}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as t,contains as s,intersects as n}from\"../../../../geometry/support/aaBoundingBox.js\";class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=e(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:t()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;0==(g&i)&&(c.toAaBoundingBox(e.tempAabb),s(t.clippingBox,e.tempAabb)?g|=i:n(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(0==(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}export{i as PagedNodeIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.pointCloudMetadata=null}};o([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=o([t(\"esri.views.3d.layers.i3s.PointGraphic\")],e);export{e as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new i(t.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{stencilWriteMaskOn as o,stencilBaseAllZerosParams as s}from\"../lib/StencilUtils.js\";import{b as n}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as a,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new t(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:l.LESS},depthWrite:a,colorWrite:u,stencilWrite:this.configuration.hasOccludees?o:null,stencilTest:this.configuration.hasOccludees?s:null})}}m.shader=new e(n,(()=>import(\"./PointRenderer.glsl.js\")));export{m as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{f as n,l as o,h as a,F as l,k as h,p as c}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as u}from\"../../../../chunks/vec42.js\";import{create as p,offset as m,contains as g,containsPoint as _,set as f,positiveInfinity as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PclTarget as z}from\"./Intersector.js\";import{PointHighlights as R}from\"./PointHighlights.js\";import{ShaderOutput as w}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncPrepareRenderPlugin as A}from\"../../webgl-engine/effects/RenderPlugin.js\";import{Default3D as j}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as y}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as q,StoreResults as O}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderSlot as E}from\"../../webgl-engine/lib/RenderSlot.js\";import{VertexArrayObject as I}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as L}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as v,a as F,g as N}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as C}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as T}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as H}from\"../../../webgl/BufferObject.js\";import{DataType as D,PrimitiveType as M,Usage as B}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as U}from\"../../../webgl/VertexElementDescriptor.js\";const V={positions:[new U(L.POSITION,3,D.FLOAT,0,12)],colors:[new U(L.COLOR,3,D.UNSIGNED_BYTE,0,3,!0)]};let W=class extends A{constructor(e){super(e),this.type=q.PCL,this.isGround=!1,this._passParameters=new v,this._highlights=new R({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.produces=new Map([[E.OPAQUE_MATERIAL,e=>e!==w.LinearDepth&&(e!==w.Highlight||!this._highlights.empty)],[E.OPAQUE_NO_SSAO_DEPTH,e=>e===w.LinearDepth]]),this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new T,this._nodes=new s}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),R=S(),w=e.camera.perScreenPixelRatio/2,A=e.camera.near;n(f,i,s);const j=1/o(f);a(f,f,j),l(P,f),u(R,f[0],f[1],f[2],-h(f,s));const q=new $,E=new $,I=new Array,L=p(),v=p(this._passParameters.clipBox);m(v,-s[0],-s[1],-s[2],v),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=o.obb.minimumDistancePlane(R),d=o.obb.maximumDistancePlane(R);l-=Y(a,l+A,this._passParameters,w,o.isLeaf),d-=Y(a,d+A,this._passParameters,w,o.isLeaf);const u=d<0,p=null!=q.dist&&null!=E.dist&&q.dist<l*j&&E.dist>d*j;if(u||p)return;const S=Q(a,d+A,this._passParameters,w,o.isLeaf);if(!o.obb.intersectRay(s,f,S))return;const x=S*S;o.obb.toAaBoundingBox(L),m(L,-s[0],-s[1],-s[2],L);const z=!g(v,L);n(b,o.origin,s);const y=o.coordinates.length/3;for(let n=0;n<y;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!_(v,r))continue;const l=h(r,f),d=c(r)-l*l;if(d>x)continue;let u=l+A;const p=Y(a,u,this._passParameters,w,o.isLeaf);if(l-p<0)continue;u-=p;const m=Q(a,u,this._passParameters,w,o.isLeaf);if(d>m*m)continue;const g=(l-p)*j,S=e=>(e.point=J(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==q.dist||g<q.dist)&&(null==t||t(s,i,g))&&S(q),e.options.store!==O.MIN&&(null==E.dist||g>E.dist)&&(null==t||t(s,i,g))&&S(E),e.options.store===O.ALL&&(null==t||t(s,i,g))){const e=new $;I.push(S(e))}}}));const F=e=>{const{layerUid:t,node:s,pointId:i}=e;return new z(e.point,t,i,(()=>this.createGraphic(s,i,e.point)))},N=(e,t)=>{const s=F(t);e.set(this.type,s,t.dist,t.normal)};if(ee(q)){const t=e.results.min;(null==t.dist||q.dist<t.dist)&&N(t,q)}if(ee(E)&&e.options.store!==O.MIN){const t=e.results.max;(null==t.dist||E.dist>t.dist)&&N(t,E)}if(e.options.store===O.ALL){const t=x(s,i);for(const s of I){const i=y(t);N(i,s),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==w.Color&&(e.output!==w.LinearDepth||e.bindParameters.slot!==E.OPAQUE_NO_SSAO_DEPTH)&&e.output!==w.Highlight?null:(this._nodes.forAll((t=>{null==t.vao&&this._initNode(e,t)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output,this._context.techniqueRepository.releaseAndAcquire(C,this._techniqueConfig,this._technique))}renderNode(e,t){const s=e.rctx,i=s.bindTechnique(t,e.bindParameters,this._passParameters),r=e.output===w.Highlight;this._nodes.forAll((t=>{0===t.coordinates.length||r&&!t.highlights||(i.bindDraw(t,e.bindParameters,this._passParameters),s.bindVAO(t.vao),r?this._renderHighlightFragments(s,t):s.drawArrays(M.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(e,t){const s=t.highlights;if(null==s)return;let i=s[0].component,r=i+1;for(let o=1;o<s.length;o++){const t=s[o].component;if(t!==r){const s=r-i;s>0&&e.drawArrays(M.POINTS,i,s),i=t}r=t+1}const n=r-i;n>0&&e.drawArrays(M.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let s=null;return this._nodes.filterInPlace((i=>i.id!==e||(s=i,i.vao=t(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),s}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,t,s){e.highlights=X(e.highlights,t,s),this._requestRender()}_removeHighlight(e,t){e.highlights=Z(e.highlights,t),this._requestRender()}_initNode(e,t){const s=e.rctx;t.vao=new I(s,j,V,{positions:H.createVertex(s,B.STATIC_DRAW,t.coordinates),colors:H.createVertex(s,B.STATIC_DRAW,t.rgb)})}_requestRender(){this._context&&this._context.requestRender()}};e([i({constructOnly:!0})],W.prototype,\"createGraphic\",void 0),W=e([r(\"esri.views.3d.layers.i3s.PointRenderer\")],W);class k extends F{constructor(e,t,s,i,r,n,o,a,l=null,h=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=l,this.highlights=h}}function G(e){return e.hasOwnProperty(\"splatSize\")}function Q(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=N(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Y(e,t,s,i,r){return s.drawScreenSpace?0:Q(e,t,s,i,r)}function J(e,t,s){return null==s&&(s=d()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}function K(e){return null!=e.component?e.component:-1}function X(e,t,s){null==e&&(e=[]);const i={component:t,id:s};e.push(i);const r=K(i);let n=e.length-1;for(;n>0&&r<K(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function Z(e,t){if(null==e)return e;const s=e.filter((e=>e.id!==t));return 0===s.length?null:s}class ${constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function ee(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}export{W as PointRenderer,k as PointRendererNode,G as isPointRendererNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{result as i,forEach as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as o}from\"../../../core/handleUtils.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,abortMaybe as d}from\"../../../core/maybe.js\";import{isAbortError as l,allSettledValues as h,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{initial as p,watch as c,sync as _}from\"../../../core/reactiveUtils.js\";import{pt2px as m}from\"../../../core/screenUtils.js\";import{estimateSize as g,isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as y}from\"../../../core/unitUtils.js\";import{property as b}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as w}from\"../../../core/accessorSupport/decorators/subclass.js\";import{k as P,c as N}from\"../../../chunks/vec32.js\";import{clone as x}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{projectBoundingRect as v}from\"../../../geometry/projection/projectBoundingRect.js\";import{create as C}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as S,create as I}from\"../../../geometry/support/aaBoundingRect.js\";import{create as A,fromNormalAndOffset as k}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as V}from\"../../../layers/graphics/dehydratedPoint.js\";import{CodedValue as R}from\"../../../layers/support/CodedValue.js\";import j from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as D}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as L}from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as U}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as Q}from\"./LayerView3D.js\";import{PointCloudLayerViewPerformanceInfo as W,QueuePerformanceInfo as M}from\"./PointCloudLayerViewPerformanceInfo.js\";import{PointCloudWorkerHandle as z}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as E,checkPointCloudLayerCompatibleWithView as F}from\"./i3s/I3SUtil.js\";import{nodeDiff as H,sortFrontToBack as B,splitWorkEntries as O}from\"./i3s/LoDUtil.js\";import{PagedNodeIndex as q}from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as G,getFixedSizeAlgorithm as T,getRendererInfo as $,getFilterInfo as J,rendererUsesFixedSizes as K,getAttributeInfo as X}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as Y,readGeometry as Z,elevationFromPositions as ee}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as te}from\"./i3s/PointGraphic.js\";import{PointRenderer as ie,isPointRendererNode as re,PointRendererNode as se}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as oe}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as ne}from\"../support/extentUtils.js\";import{computeMapPointFromVec3d as ae}from\"../support/hitTest.js\";import{ClientType as de}from\"../support/index.js\";import{Obb as le}from\"../support/orientedBoundingBox.js\";import{updatingProgress as he}from\"../support/updatingProperties.js\";import ue from\"../../layers/LayerView.js\";import{isScaleRangeActive as pe,extractSafeScaleBounds as ce,scaleBoundsPredicate as _e}from\"../../support/layerViewUtils.js\";import{TaskPriority as me}from\"../../support/Scheduler.js\";const ge=8,fe=A();let ye=class extends(oe(Q(ue))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new L,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=G(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=T(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=T(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=$(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=J(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of D(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=C(),t=this.view.renderSpatialReference;return ne(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=y(this.layer.spatialReference),i=U(e.unit);return(e.offset??0)*i/t}return 0}initialize(){const e=this.view.resourceController,t=xe(e);this._worker=new z(t),this.addResolvingPromise(this._worker.promise),this._tmpPoint=V(0,0,0,this.layer.spatialReference),E(this.layer),F(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(de.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(de.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),p),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),p),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),c((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),_)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(me.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),p)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=a(this._worker),this._destroyRenderer(),this._memCache=a(this._memCache),this._codedDomainPopulationAbortController=d(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new ie({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),p),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),p),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),p),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),p),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=m(e);this._renderer.size=e,this._renderer.sizePx=t}),p),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),p),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),p)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=ae(this.view,i),o=this._createGraphicAttributes(e,r);return new te({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=K(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;pe(t.minScale,t.maxScale)?v(e.extent,e.spatialReference,Pe,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);S(Pe,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=H([...this._renderedNodes],e,this._index),B(this._workQueue,this.view.state.contentCamera.viewForward,this._index),O(this._workQueue,ge,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await i(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new j({name:\"CLASS_CODE\",codedValues:n.map((e=>new R({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>X(o,e))).filter(t),a=async(e,t)=>{const i=this._index.getNode(t);await r(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof te&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?Y({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=Z(t,await this._loadGeometry(e,null));return ee(i,i.length/3)}highlight(e){if(!e)return o();const t=s.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new q(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:le.fromJSON(t.obb),obbInRenderSR:new le,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=P(s,t.eye),n=k(s,-o,fe),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=ce(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);_e(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw l(i)||n.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=D(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=X(a,t);e&&d.push(i(e))}const l=await h(d);return u(r),l.filter(t)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=$(this.layer),s=J(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),c=p.map((e=>n(e))),_=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);u(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,we(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(re(t))return t.splatSize=r,t.obb=s,N(t.origin,t.obb.center),t;const o=le.fromData(t.obbData),a=o.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;n.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(o)}`),0==--this._maxLoggedBoxWarnings&&n.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,o)}return new se(e,r,x(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=Ne,e+=g(t.coordinates);for(const i of t.attributes){const t=i.values;f(t.buffer)&&(e+=g(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*Ne)/t)+i*Ne}get performanceInfo(){return new W(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new M(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};e([b()],ye.prototype,\"layer\",void 0),e([b()],ye.prototype,\"baseUrl\",null),e([b()],ye.prototype,\"pointScale\",null),e([b()],ye.prototype,\"useRealWorldSymbolSizes\",null),e([b()],ye.prototype,\"pointSize\",null),e([b()],ye.prototype,\"inverseDensity\",null),e([b()],ye.prototype,\"maximumPointCount\",void 0),e([b({readOnly:!0})],ye.prototype,\"availableFields\",null),e([b({readOnly:!0})],ye.prototype,\"_clippingBox\",null),e([b({readOnly:!0})],ye.prototype,\"_elevationOffset\",null),e([b({type:Boolean})],ye.prototype,\"slicePlaneEnabled\",void 0),e([b()],ye.prototype,\"updating\",void 0),e([b(he)],ye.prototype,\"updatingProgress\",void 0),e([b({readOnly:!0})],ye.prototype,\"updatingProgressValue\",null),ye=e([w(\"esri.views.3d.layers.PointCloudLayerView3D\")],ye);const be=ye;function we(e){return 5*e.coordinates.length+128}const Pe=I(),Ne=160;function xe(e){return t=>e.immediate.schedule(t)}export{be as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as s}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as o}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";let d=class extends(s(n(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=o(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;return t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([l(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"names":["y","w","constructor","super","arguments","this","clipBox","c","l","useFixedSizes","useRealWorldSymbolSizes","scaleFactor","minSizePx","size","sizePx","fixedSize","drawScreenSpace","screenMinSize","O","g","e","i","o","origin","isLeaf","splatSize","R","r","a","j","n","output","m","Color","LinearDepth","Highlight","vertex","fragment","include","f","attributes","add","P","POSITION","COLOR","uniforms","b","B","camera","viewMatrix","M","projectionMatrix","S","t","_","pixelRatio","F","x","fullHeight","clippingEnabled","v","s","L","constants","p","d","varyings","code","z","_templateObject","_taggedTemplateLiteral","drawScreenSize","_templateObject2","_templateObject3","_templateObject4","_templateObject5","h","u","_templateObject6","_templateObject7","_templateObject8","_templateObject9","C","Object","freeze","defineProperty","__proto__","PointRendererDrawParameters","PointRendererPassParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","value","slicePlaneEnabled","supportsHeightUnitConversion","postscript","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","addHandles","abort","_this$view$defaultsFr","view","defaultsFromMap","heightModelInfoReady","heightModelInfo","canResume","effectiveScaleRange","minScale","maxScale","getSuspendInfo","outsideScaleRange","prototype","queue","loading","indexLoading","processing","idleProcessing","transform","_getTransferList","geometryBuffer","primaryAttributeData","buffer","push","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","remove","length","pop","load","_pages","pageSize","_nodeSR","_renderSR","_renderSRSphericalPCPF","addPage","undefined","obb","obbInRenderSR","nodes","parents","Uint32Array","childCount","firstChild","hasPage","getNode","getRenderObb","setRenderObb","copy","hasNodes","forEachNodeId","createVisibilityTraverse","index","masks","tempAabb","clippingBox","frustum","toAaBoundingBox","intersectPlane","predicate","pageMiss","_e$toJSON","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","pointCloudMetadata","constructOnly","clonable","_context","_highlights","Set","empty","destroy","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","get","id","forEach","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Map","_add","nodeId","pointId","set","initializeProgram","rctx","shader","configuration","initializePipeline","depthTest","func","LESS","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","hasSlicePlane","count","COUNT","constValue","V","positions","U","D","FLOAT","colors","UNSIGNED_BYTE","W","A","q","PCL","isGround","_passParameters","_addHighlight","_removeHighlight","produces","E","OPAQUE_MATERIAL","OPAQUE_NO_SSAO_DEPTH","layerUid","_slicePlaneEnabled","_techniqueConfig","T","_nodes","initializeRenderContext","requestRender","uninitializeRenderContext","intersect","perScreenPixelRatio","near","$","I","Array","forAll","minimumDistancePlane","maximumDistancePlane","Y","dist","Q","intersectRay","coordinates","point","J","normal","node","options","store","MIN","ALL","createGraphic","N","ee","results","min","max","all","prepareTechnique","bindParameters","slot","vao","_initNode","_clippingEnabled","techniqueRepository","releaseAndAcquire","_technique","renderNode","bindTechnique","highlights","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","POINTS","component","_requestRender","addNode","removeNode","filterInPlace","clear","highlight","K","X","filter","Z","H","createVertex","STATIC_DRAW","rgb","k","pointIdFilterMap","Math","fe","ye","oe","ue","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_nodeScales","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","ignoresMemoryFactor","baseUrl","parsedUrl","path","pointScale","_this$layer","G","_this$layer2","pointSize","_this$layer3","inverseDensity","_this$layer4","pointsPerInch","availableFields","outFields","fieldsIndex","from","_clippingBox","clippingArea","renderSpatialReference","ne","_elevationOffset","elevationInfo","mode","_e$offset","spatialReference","unit","offset","initialize","resourceController","immediate","schedule","xe","_worker","promise","_tmpPoint","_indexRequester","createStreamDataRequester","de","I3S_INDEX","_dataRequester","I3S_DATA","_initRenderer","_initNodePages","memoryController","_memCache","newCache","concat","uid","_updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","state","contentCamera","basemapTerrain","on","_scaleUpdateHandler","quality","when","scheduler","registerTask","me","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","suspended","_clearNodeState","removeAllHandles","_updateLoading","cancelLoading","_destroyRenderer","ie","_createGraphic","_setPointsVisible","sqrt","qualitySettings","sceneService","pointCloud","lodFactor","ae","_createGraphicAttributes","te","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_e$storageInfo","_s$valuesPerElement","_stage","addRenderPlugin","removeRenderPlugin","pe","extent","Pe","has","center","scale","_displayNodes","sort","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","_ref","abortController","cancelAll","_ref2","_removeFromRenderer","running","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","shift","_loadNodePage","then","done","_scheduleWorkEntry","madeProgress","_processWorkEntry","find","Promise","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","catch","_populateClassCodeCodedDomain","_o$value","domain","includes","queryCachedStatistics","ok","stats","labels","isArray","codedValues","label","prepareFetchPopupFeatures","whenGraphicAttributes","_splitGraphicsPerNode","async","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","allSettled","_e$pointCloudMetadata","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","_graphicToPointDefinition","updatingProgressValue","isUpdating","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","_requestNodePage","_t$vertexCount","_t$lodThreshold","le","fromJSON","pointCount","lodThreshold","effectiveArea","_computeNodesForMinimumDensity","_computePointCount","eye","ce","_getScale","_e","_computeAveragePixelArea","getScale","_loadNodeAsync","getLogger","error","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","obbData","data","elevationOffset","inSR","outSR","invoke","_requestData","key","_objectSpread","customParameters","token","apiKey","request","query","put","we","hasOwnProperty","re","fromData","halfSize","warn","se","points","usedMemory","Ne","unloadedMemory","reduce","performanceInfo","test","visibleNodes","readOnly","Boolean","he","be","_validateFetchPopupFeatures","popupEnabled","fetchPopupFeaturesFromGraphics","associatedLayer","_e$s$getObjectId","getObjectId","_e$getObjectId","_u$get","_t$getObjectId","_u$get2","EventedMixin","parent","title","fullOpacity","_this$layer$opacity","_this$parent$fullOpac","_this$parent","opacity","suspendInfo","legendEnabled","updating","_this$_updatingHandle","updatingProgress","visible","_overrideIfSome","_this$layer5","_this$parent2","_this$view","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","layerInvisible"],"sourceRoot":""}